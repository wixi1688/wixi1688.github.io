var J2=Object.defineProperty;var eb=(e,n,t)=>n in e?J2(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t;var ee=(e,n,t)=>eb(e,typeof n!="symbol"?n+"":n,t);(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const u of c.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function t(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(o){if(o.ep)return;o.ep=!0;const c=t(o);fetch(o.href,c)}})();function Zp(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var zu={exports:{}},hs={},Tu={exports:{}},$e={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xf;function tb(){if(Xf)return $e;Xf=1;var e=Symbol.for("react.element"),n=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),y=Symbol.iterator;function b(L){return L===null||typeof L!="object"?null:(L=y&&L[y]||L["@@iterator"],typeof L=="function"?L:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,S={};function N(L,G,Te){this.props=L,this.context=G,this.refs=S,this.updater=Te||v}N.prototype.isReactComponent={},N.prototype.setState=function(L,G){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,G,"setState")},N.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function C(){}C.prototype=N.prototype;function M(L,G,Te){this.props=L,this.context=G,this.refs=S,this.updater=Te||v}var _=M.prototype=new C;_.constructor=M,k(_,N.prototype),_.isPureReactComponent=!0;var z=Array.isArray,R=Object.prototype.hasOwnProperty,A={current:null},O={key:!0,ref:!0,__self:!0,__source:!0};function U(L,G,Te){var Pe,Le={},Re=null,Fe=null;if(G!=null)for(Pe in G.ref!==void 0&&(Fe=G.ref),G.key!==void 0&&(Re=""+G.key),G)R.call(G,Pe)&&!O.hasOwnProperty(Pe)&&(Le[Pe]=G[Pe]);var Oe=arguments.length-2;if(Oe===1)Le.children=Te;else if(1<Oe){for(var We=Array(Oe),mt=0;mt<Oe;mt++)We[mt]=arguments[mt+2];Le.children=We}if(L&&L.defaultProps)for(Pe in Oe=L.defaultProps,Oe)Le[Pe]===void 0&&(Le[Pe]=Oe[Pe]);return{$$typeof:e,type:L,key:Re,ref:Fe,props:Le,_owner:A.current}}function Y(L,G){return{$$typeof:e,type:L.type,key:G,ref:L.ref,props:L.props,_owner:L._owner}}function $(L){return typeof L=="object"&&L!==null&&L.$$typeof===e}function Q(L){var G={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(Te){return G[Te]})}var he=/\/+/g;function Se(L,G){return typeof L=="object"&&L!==null&&L.key!=null?Q(""+L.key):G.toString(36)}function Ce(L,G,Te,Pe,Le){var Re=typeof L;(Re==="undefined"||Re==="boolean")&&(L=null);var Fe=!1;if(L===null)Fe=!0;else switch(Re){case"string":case"number":Fe=!0;break;case"object":switch(L.$$typeof){case e:case n:Fe=!0}}if(Fe)return Fe=L,Le=Le(Fe),L=Pe===""?"."+Se(Fe,0):Pe,z(Le)?(Te="",L!=null&&(Te=L.replace(he,"$&/")+"/"),Ce(Le,G,Te,"",function(mt){return mt})):Le!=null&&($(Le)&&(Le=Y(Le,Te+(!Le.key||Fe&&Fe.key===Le.key?"":(""+Le.key).replace(he,"$&/")+"/")+L)),G.push(Le)),1;if(Fe=0,Pe=Pe===""?".":Pe+":",z(L))for(var Oe=0;Oe<L.length;Oe++){Re=L[Oe];var We=Pe+Se(Re,Oe);Fe+=Ce(Re,G,Te,We,Le)}else if(We=b(L),typeof We=="function")for(L=We.call(L),Oe=0;!(Re=L.next()).done;)Re=Re.value,We=Pe+Se(Re,Oe++),Fe+=Ce(Re,G,Te,We,Le);else if(Re==="object")throw G=String(L),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.");return Fe}function Ie(L,G,Te){if(L==null)return L;var Pe=[],Le=0;return Ce(L,Pe,"","",function(Re){return G.call(Te,Re,Le++)}),Pe}function De(L){if(L._status===-1){var G=L._result;G=G(),G.then(function(Te){(L._status===0||L._status===-1)&&(L._status=1,L._result=Te)},function(Te){(L._status===0||L._status===-1)&&(L._status=2,L._result=Te)}),L._status===-1&&(L._status=0,L._result=G)}if(L._status===1)return L._result.default;throw L._result}var be={current:null},K={transition:null},de={ReactCurrentDispatcher:be,ReactCurrentBatchConfig:K,ReactCurrentOwner:A};function se(){throw Error("act(...) is not supported in production builds of React.")}return $e.Children={map:Ie,forEach:function(L,G,Te){Ie(L,function(){G.apply(this,arguments)},Te)},count:function(L){var G=0;return Ie(L,function(){G++}),G},toArray:function(L){return Ie(L,function(G){return G})||[]},only:function(L){if(!$(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},$e.Component=N,$e.Fragment=t,$e.Profiler=o,$e.PureComponent=M,$e.StrictMode=s,$e.Suspense=h,$e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=de,$e.act=se,$e.cloneElement=function(L,G,Te){if(L==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+L+".");var Pe=k({},L.props),Le=L.key,Re=L.ref,Fe=L._owner;if(G!=null){if(G.ref!==void 0&&(Re=G.ref,Fe=A.current),G.key!==void 0&&(Le=""+G.key),L.type&&L.type.defaultProps)var Oe=L.type.defaultProps;for(We in G)R.call(G,We)&&!O.hasOwnProperty(We)&&(Pe[We]=G[We]===void 0&&Oe!==void 0?Oe[We]:G[We])}var We=arguments.length-2;if(We===1)Pe.children=Te;else if(1<We){Oe=Array(We);for(var mt=0;mt<We;mt++)Oe[mt]=arguments[mt+2];Pe.children=Oe}return{$$typeof:e,type:L.type,key:Le,ref:Re,props:Pe,_owner:Fe}},$e.createContext=function(L){return L={$$typeof:u,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},L.Provider={$$typeof:c,_context:L},L.Consumer=L},$e.createElement=U,$e.createFactory=function(L){var G=U.bind(null,L);return G.type=L,G},$e.createRef=function(){return{current:null}},$e.forwardRef=function(L){return{$$typeof:f,render:L}},$e.isValidElement=$,$e.lazy=function(L){return{$$typeof:p,_payload:{_status:-1,_result:L},_init:De}},$e.memo=function(L,G){return{$$typeof:m,type:L,compare:G===void 0?null:G}},$e.startTransition=function(L){var G=K.transition;K.transition={};try{L()}finally{K.transition=G}},$e.unstable_act=se,$e.useCallback=function(L,G){return be.current.useCallback(L,G)},$e.useContext=function(L){return be.current.useContext(L)},$e.useDebugValue=function(){},$e.useDeferredValue=function(L){return be.current.useDeferredValue(L)},$e.useEffect=function(L,G){return be.current.useEffect(L,G)},$e.useId=function(){return be.current.useId()},$e.useImperativeHandle=function(L,G,Te){return be.current.useImperativeHandle(L,G,Te)},$e.useInsertionEffect=function(L,G){return be.current.useInsertionEffect(L,G)},$e.useLayoutEffect=function(L,G){return be.current.useLayoutEffect(L,G)},$e.useMemo=function(L,G){return be.current.useMemo(L,G)},$e.useReducer=function(L,G,Te){return be.current.useReducer(L,G,Te)},$e.useRef=function(L){return be.current.useRef(L)},$e.useState=function(L){return be.current.useState(L)},$e.useSyncExternalStore=function(L,G,Te){return be.current.useSyncExternalStore(L,G,Te)},$e.useTransition=function(){return be.current.useTransition()},$e.version="18.3.1",$e}var Zf;function Ad(){return Zf||(Zf=1,Tu.exports=tb()),Tu.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qf;function nb(){if(Qf)return hs;Qf=1;var e=Ad(),n=Symbol.for("react.element"),t=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function u(f,h,m){var p,y={},b=null,v=null;m!==void 0&&(b=""+m),h.key!==void 0&&(b=""+h.key),h.ref!==void 0&&(v=h.ref);for(p in h)s.call(h,p)&&!c.hasOwnProperty(p)&&(y[p]=h[p]);if(f&&f.defaultProps)for(p in h=f.defaultProps,h)y[p]===void 0&&(y[p]=h[p]);return{$$typeof:n,type:f,key:b,ref:v,props:y,_owner:o.current}}return hs.Fragment=t,hs.jsx=u,hs.jsxs=u,hs}var Jf;function rb(){return Jf||(Jf=1,zu.exports=nb()),zu.exports}var i=rb(),j=Ad();const ai=Zp(j);var ll={},Pu={exports:{}},Xt={},Eu={exports:{}},Mu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var em;function ab(){return em||(em=1,(function(e){function n(K,de){var se=K.length;K.push(de);e:for(;0<se;){var L=se-1>>>1,G=K[L];if(0<o(G,de))K[L]=de,K[se]=G,se=L;else break e}}function t(K){return K.length===0?null:K[0]}function s(K){if(K.length===0)return null;var de=K[0],se=K.pop();if(se!==de){K[0]=se;e:for(var L=0,G=K.length,Te=G>>>1;L<Te;){var Pe=2*(L+1)-1,Le=K[Pe],Re=Pe+1,Fe=K[Re];if(0>o(Le,se))Re<G&&0>o(Fe,Le)?(K[L]=Fe,K[Re]=se,L=Re):(K[L]=Le,K[Pe]=se,L=Pe);else if(Re<G&&0>o(Fe,se))K[L]=Fe,K[Re]=se,L=Re;else break e}}return de}function o(K,de){var se=K.sortIndex-de.sortIndex;return se!==0?se:K.id-de.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;e.unstable_now=function(){return c.now()}}else{var u=Date,f=u.now();e.unstable_now=function(){return u.now()-f}}var h=[],m=[],p=1,y=null,b=3,v=!1,k=!1,S=!1,N=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(K){for(var de=t(m);de!==null;){if(de.callback===null)s(m);else if(de.startTime<=K)s(m),de.sortIndex=de.expirationTime,n(h,de);else break;de=t(m)}}function z(K){if(S=!1,_(K),!k)if(t(h)!==null)k=!0,De(R);else{var de=t(m);de!==null&&be(z,de.startTime-K)}}function R(K,de){k=!1,S&&(S=!1,C(U),U=-1),v=!0;var se=b;try{for(_(de),y=t(h);y!==null&&(!(y.expirationTime>de)||K&&!Q());){var L=y.callback;if(typeof L=="function"){y.callback=null,b=y.priorityLevel;var G=L(y.expirationTime<=de);de=e.unstable_now(),typeof G=="function"?y.callback=G:y===t(h)&&s(h),_(de)}else s(h);y=t(h)}if(y!==null)var Te=!0;else{var Pe=t(m);Pe!==null&&be(z,Pe.startTime-de),Te=!1}return Te}finally{y=null,b=se,v=!1}}var A=!1,O=null,U=-1,Y=5,$=-1;function Q(){return!(e.unstable_now()-$<Y)}function he(){if(O!==null){var K=e.unstable_now();$=K;var de=!0;try{de=O(!0,K)}finally{de?Se():(A=!1,O=null)}}else A=!1}var Se;if(typeof M=="function")Se=function(){M(he)};else if(typeof MessageChannel<"u"){var Ce=new MessageChannel,Ie=Ce.port2;Ce.port1.onmessage=he,Se=function(){Ie.postMessage(null)}}else Se=function(){N(he,0)};function De(K){O=K,A||(A=!0,Se())}function be(K,de){U=N(function(){K(e.unstable_now())},de)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(K){K.callback=null},e.unstable_continueExecution=function(){k||v||(k=!0,De(R))},e.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Y=0<K?Math.floor(1e3/K):5},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_getFirstCallbackNode=function(){return t(h)},e.unstable_next=function(K){switch(b){case 1:case 2:case 3:var de=3;break;default:de=b}var se=b;b=de;try{return K()}finally{b=se}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(K,de){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var se=b;b=K;try{return de()}finally{b=se}},e.unstable_scheduleCallback=function(K,de,se){var L=e.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?L+se:L):se=L,K){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=se+G,K={id:p++,callback:de,priorityLevel:K,startTime:se,expirationTime:G,sortIndex:-1},se>L?(K.sortIndex=se,n(m,K),t(h)===null&&K===t(m)&&(S?(C(U),U=-1):S=!0,be(z,se-L))):(K.sortIndex=G,n(h,K),k||v||(k=!0,De(R))),K},e.unstable_shouldYield=Q,e.unstable_wrapCallback=function(K){var de=b;return function(){var se=b;b=de;try{return K.apply(this,arguments)}finally{b=se}}}})(Mu)),Mu}var tm;function ib(){return tm||(tm=1,Eu.exports=ab()),Eu.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nm;function sb(){if(nm)return Xt;nm=1;var e=Ad(),n=ib();function t(r){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+r,l=1;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+r+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function c(r,a){u(r,a),u(r+"Capture",a)}function u(r,a){for(o[r]=a,r=0;r<a.length;r++)s.add(a[r])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},y={};function b(r){return h.call(y,r)?!0:h.call(p,r)?!1:m.test(r)?y[r]=!0:(p[r]=!0,!1)}function v(r,a,l,d){if(l!==null&&l.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return d?!1:l!==null?!l.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function k(r,a,l,d){if(a===null||typeof a>"u"||v(r,a,l,d))return!0;if(d)return!1;if(l!==null)switch(l.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function S(r,a,l,d,g,x,w){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=d,this.attributeNamespace=g,this.mustUseProperty=l,this.propertyName=r,this.type=a,this.sanitizeURL=x,this.removeEmptyString=w}var N={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){N[r]=new S(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var a=r[0];N[a]=new S(a,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){N[r]=new S(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){N[r]=new S(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){N[r]=new S(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){N[r]=new S(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){N[r]=new S(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){N[r]=new S(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){N[r]=new S(r,5,!1,r.toLowerCase(),null,!1,!1)});var C=/[\-:]([a-z])/g;function M(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var a=r.replace(C,M);N[a]=new S(a,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var a=r.replace(C,M);N[a]=new S(a,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var a=r.replace(C,M);N[a]=new S(a,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){N[r]=new S(r,1,!1,r.toLowerCase(),null,!1,!1)}),N.xlinkHref=new S("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){N[r]=new S(r,1,!1,r.toLowerCase(),null,!0,!0)});function _(r,a,l,d){var g=N.hasOwnProperty(a)?N[a]:null;(g!==null?g.type!==0:d||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(k(a,l,g,d)&&(l=null),d||g===null?b(a)&&(l===null?r.removeAttribute(a):r.setAttribute(a,""+l)):g.mustUseProperty?r[g.propertyName]=l===null?g.type===3?!1:"":l:(a=g.attributeName,d=g.attributeNamespace,l===null?r.removeAttribute(a):(g=g.type,l=g===3||g===4&&l===!0?"":""+l,d?r.setAttributeNS(d,a,l):r.setAttribute(a,l))))}var z=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,R=Symbol.for("react.element"),A=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),Y=Symbol.for("react.profiler"),$=Symbol.for("react.provider"),Q=Symbol.for("react.context"),he=Symbol.for("react.forward_ref"),Se=Symbol.for("react.suspense"),Ce=Symbol.for("react.suspense_list"),Ie=Symbol.for("react.memo"),De=Symbol.for("react.lazy"),be=Symbol.for("react.offscreen"),K=Symbol.iterator;function de(r){return r===null||typeof r!="object"?null:(r=K&&r[K]||r["@@iterator"],typeof r=="function"?r:null)}var se=Object.assign,L;function G(r){if(L===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);L=a&&a[1]||""}return`
`+L+r}var Te=!1;function Pe(r,a){if(!r||Te)return"";Te=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(q){var d=q}Reflect.construct(r,[],a)}else{try{a.call()}catch(q){d=q}r.call(a.prototype)}else{try{throw Error()}catch(q){d=q}r()}}catch(q){if(q&&d&&typeof q.stack=="string"){for(var g=q.stack.split(`
`),x=d.stack.split(`
`),w=g.length-1,P=x.length-1;1<=w&&0<=P&&g[w]!==x[P];)P--;for(;1<=w&&0<=P;w--,P--)if(g[w]!==x[P]){if(w!==1||P!==1)do if(w--,P--,0>P||g[w]!==x[P]){var I=`
`+g[w].replace(" at new "," at ");return r.displayName&&I.includes("<anonymous>")&&(I=I.replace("<anonymous>",r.displayName)),I}while(1<=w&&0<=P);break}}}finally{Te=!1,Error.prepareStackTrace=l}return(r=r?r.displayName||r.name:"")?G(r):""}function Le(r){switch(r.tag){case 5:return G(r.type);case 16:return G("Lazy");case 13:return G("Suspense");case 19:return G("SuspenseList");case 0:case 2:case 15:return r=Pe(r.type,!1),r;case 11:return r=Pe(r.type.render,!1),r;case 1:return r=Pe(r.type,!0),r;default:return""}}function Re(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case O:return"Fragment";case A:return"Portal";case Y:return"Profiler";case U:return"StrictMode";case Se:return"Suspense";case Ce:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case Q:return(r.displayName||"Context")+".Consumer";case $:return(r._context.displayName||"Context")+".Provider";case he:var a=r.render;return r=r.displayName,r||(r=a.displayName||a.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case Ie:return a=r.displayName||null,a!==null?a:Re(r.type)||"Memo";case De:a=r._payload,r=r._init;try{return Re(r(a))}catch{}}return null}function Fe(r){var a=r.type;switch(r.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=a.render,r=r.displayName||r.name||"",a.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Re(a);case 8:return a===U?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function Oe(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function We(r){var a=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function mt(r){var a=We(r)?"checked":"value",l=Object.getOwnPropertyDescriptor(r.constructor.prototype,a),d=""+r[a];if(!r.hasOwnProperty(a)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var g=l.get,x=l.set;return Object.defineProperty(r,a,{configurable:!0,get:function(){return g.call(this)},set:function(w){d=""+w,x.call(this,w)}}),Object.defineProperty(r,a,{enumerable:l.enumerable}),{getValue:function(){return d},setValue:function(w){d=""+w},stopTracking:function(){r._valueTracker=null,delete r[a]}}}}function E(r){r._valueTracker||(r._valueTracker=mt(r))}function Z(r){if(!r)return!1;var a=r._valueTracker;if(!a)return!0;var l=a.getValue(),d="";return r&&(d=We(r)?r.checked?"true":"false":r.value),r=d,r!==l?(a.setValue(r),!0):!1}function pe(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function Ae(r,a){var l=a.checked;return se({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??r._wrapperState.initialChecked})}function Me(r,a){var l=a.defaultValue==null?"":a.defaultValue,d=a.checked!=null?a.checked:a.defaultChecked;l=Oe(a.value!=null?a.value:l),r._wrapperState={initialChecked:d,initialValue:l,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function le(r,a){a=a.checked,a!=null&&_(r,"checked",a,!1)}function Ye(r,a){le(r,a);var l=Oe(a.value),d=a.type;if(l!=null)d==="number"?(l===0&&r.value===""||r.value!=l)&&(r.value=""+l):r.value!==""+l&&(r.value=""+l);else if(d==="submit"||d==="reset"){r.removeAttribute("value");return}a.hasOwnProperty("value")?qt(r,a.type,l):a.hasOwnProperty("defaultValue")&&qt(r,a.type,Oe(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(r.defaultChecked=!!a.defaultChecked)}function Tt(r,a,l){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var d=a.type;if(!(d!=="submit"&&d!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+r._wrapperState.initialValue,l||a===r.value||(r.value=a),r.defaultValue=a}l=r.name,l!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,l!==""&&(r.name=l)}function qt(r,a,l){(a!=="number"||pe(r.ownerDocument)!==r)&&(l==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+l&&(r.defaultValue=""+l))}var Xn=Array.isArray;function Ge(r,a,l,d){if(r=r.options,a){a={};for(var g=0;g<l.length;g++)a["$"+l[g]]=!0;for(l=0;l<r.length;l++)g=a.hasOwnProperty("$"+r[l].value),r[l].selected!==g&&(r[l].selected=g),g&&d&&(r[l].defaultSelected=!0)}else{for(l=""+Oe(l),a=null,g=0;g<r.length;g++){if(r[g].value===l){r[g].selected=!0,d&&(r[g].defaultSelected=!0);return}a!==null||r[g].disabled||(a=r[g])}a!==null&&(a.selected=!0)}}function sn(r,a){if(a.dangerouslySetInnerHTML!=null)throw Error(t(91));return se({},a,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function Ta(r,a){var l=a.value;if(l==null){if(l=a.children,a=a.defaultValue,l!=null){if(a!=null)throw Error(t(92));if(Xn(l)){if(1<l.length)throw Error(t(93));l=l[0]}a=l}a==null&&(a=""),l=a}r._wrapperState={initialValue:Oe(l)}}function Pa(r,a){var l=Oe(a.value),d=Oe(a.defaultValue);l!=null&&(l=""+l,l!==r.value&&(r.value=l),a.defaultValue==null&&r.defaultValue!==l&&(r.defaultValue=l)),d!=null&&(r.defaultValue=""+d)}function mr(r){var a=r.textContent;a===r._wrapperState.initialValue&&a!==""&&a!==null&&(r.value=a)}function Kr(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pr(r,a){return r==null||r==="http://www.w3.org/1999/xhtml"?Kr(a):r==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var wn,Gr=(function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,l,d,g){MSApp.execUnsafeLocalFunction(function(){return r(a,l,d,g)})}:r})(function(r,a){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=a;else{for(wn=wn||document.createElement("div"),wn.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=wn.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;a.firstChild;)r.appendChild(a.firstChild)}});function Rn(r,a){if(a){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=a;return}}r.textContent=a}var Dn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ea=["Webkit","ms","Moz","O"];Object.keys(Dn).forEach(function(r){Ea.forEach(function(a){a=a+r.charAt(0).toUpperCase()+r.substring(1),Dn[a]=Dn[r]})});function Xr(r,a,l){return a==null||typeof a=="boolean"||a===""?"":l||typeof a!="number"||a===0||Dn.hasOwnProperty(r)&&Dn[r]?(""+a).trim():a+"px"}function Zr(r,a){r=r.style;for(var l in a)if(a.hasOwnProperty(l)){var d=l.indexOf("--")===0,g=Xr(l,a[l],d);l==="float"&&(l="cssFloat"),d?r.setProperty(l,g):r[l]=g}}var Ma=se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function gr(r,a){if(a){if(Ma[r]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(t(137,r));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(t(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(t(61))}if(a.style!=null&&typeof a.style!="object")throw Error(t(62))}}function xr(r,a){if(r.indexOf("-")===-1)return typeof a.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yr=null;function B(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var re=null,ue=null,te=null;function me(r){if(r=Zi(r)){if(typeof re!="function")throw Error(t(280));var a=r.stateNode;a&&(a=No(a),re(r.stateNode,r.type,a))}}function ce(r){ue?te?te.push(r):te=[r]:ue=r}function we(){if(ue){var r=ue,a=te;if(te=ue=null,me(r),a)for(r=0;r<a.length;r++)me(a[r])}}function Xe(r,a){return r(a)}function on(){}var ln=!1;function Ze(r,a,l){if(ln)return r(a,l);ln=!0;try{return Xe(r,a,l)}finally{ln=!1,(ue!==null||te!==null)&&(on(),we())}}function cn(r,a){var l=r.stateNode;if(l===null)return null;var d=No(l);if(d===null)return null;l=d[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(r=r.type,d=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!d;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(t(231,a,typeof l));return l}var Zn=!1;if(f)try{var jn={};Object.defineProperty(jn,"passive",{get:function(){Zn=!0}}),window.addEventListener("test",jn,jn),window.removeEventListener("test",jn,jn)}catch{Zn=!1}function _i(r,a,l,d,g,x,w,P,I){var q=Array.prototype.slice.call(arguments,3);try{a.apply(l,q)}catch(ne){this.onError(ne)}}var Qn=!1,Qr=null,Jr=!1,Aa=null,Gs={onError:function(r){Qn=!0,Qr=r}};function Xs(r,a,l,d,g,x,w,P,I){Qn=!1,Qr=null,_i.apply(Gs,arguments)}function Zs(r,a,l,d,g,x,w,P,I){if(Xs.apply(this,arguments),Qn){if(Qn){var q=Qr;Qn=!1,Qr=null}else throw Error(t(198));Jr||(Jr=!0,Aa=q)}}function Ln(r){var a=r,l=r;if(r.alternate)for(;a.return;)a=a.return;else{r=a;do a=r,(a.flags&4098)!==0&&(l=a.return),r=a.return;while(r)}return a.tag===3?l:null}function Ci(r){if(r.tag===13){var a=r.memoizedState;if(a===null&&(r=r.alternate,r!==null&&(a=r.memoizedState)),a!==null)return a.dehydrated}return null}function zi(r){if(Ln(r)!==r)throw Error(t(188))}function Qs(r){var a=r.alternate;if(!a){if(a=Ln(r),a===null)throw Error(t(188));return a!==r?null:r}for(var l=r,d=a;;){var g=l.return;if(g===null)break;var x=g.alternate;if(x===null){if(d=g.return,d!==null){l=d;continue}break}if(g.child===x.child){for(x=g.child;x;){if(x===l)return zi(g),r;if(x===d)return zi(g),a;x=x.sibling}throw Error(t(188))}if(l.return!==d.return)l=g,d=x;else{for(var w=!1,P=g.child;P;){if(P===l){w=!0,l=g,d=x;break}if(P===d){w=!0,d=g,l=x;break}P=P.sibling}if(!w){for(P=x.child;P;){if(P===l){w=!0,l=x,d=g;break}if(P===d){w=!0,d=x,l=g;break}P=P.sibling}if(!w)throw Error(t(189))}}if(l.alternate!==d)throw Error(t(190))}if(l.tag!==3)throw Error(t(188));return l.stateNode.current===l?r:a}function Ti(r){return r=Qs(r),r!==null?Pi(r):null}function Pi(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var a=Pi(r);if(a!==null)return a;r=r.sibling}return null}var Ei=n.unstable_scheduleCallback,Mi=n.unstable_cancelCallback,Js=n.unstable_shouldYield,eo=n.unstable_requestPaint,nt=n.unstable_now,to=n.unstable_getCurrentPriorityLevel,Ia=n.unstable_ImmediatePriority,Ai=n.unstable_UserBlockingPriority,ea=n.unstable_NormalPriority,no=n.unstable_LowPriority,Ii=n.unstable_IdlePriority,ta=null,Jt=null;function ro(r){if(Jt&&typeof Jt.onCommitFiberRoot=="function")try{Jt.onCommitFiberRoot(ta,r,void 0,(r.current.flags&128)===128)}catch{}}var Wt=Math.clz32?Math.clz32:so,ao=Math.log,io=Math.LN2;function so(r){return r>>>=0,r===0?32:31-(ao(r)/io|0)|0}var na=64,ra=4194304;function br(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function aa(r,a){var l=r.pendingLanes;if(l===0)return 0;var d=0,g=r.suspendedLanes,x=r.pingedLanes,w=l&268435455;if(w!==0){var P=w&~g;P!==0?d=br(P):(x&=w,x!==0&&(d=br(x)))}else w=l&~g,w!==0?d=br(w):x!==0&&(d=br(x));if(d===0)return 0;if(a!==0&&a!==d&&(a&g)===0&&(g=d&-d,x=a&-a,g>=x||g===16&&(x&4194240)!==0))return a;if((d&4)!==0&&(d|=l&16),a=r.entangledLanes,a!==0)for(r=r.entanglements,a&=d;0<a;)l=31-Wt(a),g=1<<l,d|=r[l],a&=~g;return d}function W(r,a){switch(r){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ne(r,a){for(var l=r.suspendedLanes,d=r.pingedLanes,g=r.expirationTimes,x=r.pendingLanes;0<x;){var w=31-Wt(x),P=1<<w,I=g[w];I===-1?((P&l)===0||(P&d)!==0)&&(g[w]=W(P,a)):I<=a&&(r.expiredLanes|=P),x&=~P}}function oe(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function je(){var r=na;return na<<=1,(na&4194240)===0&&(na=64),r}function He(r){for(var a=[],l=0;31>l;l++)a.push(r);return a}function Lt(r,a,l){r.pendingLanes|=a,a!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,a=31-Wt(a),r[a]=l}function On(r,a){var l=r.pendingLanes&~a;r.pendingLanes=a,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=a,r.mutableReadLanes&=a,r.entangledLanes&=a,a=r.entanglements;var d=r.eventTimes;for(r=r.expirationTimes;0<l;){var g=31-Wt(l),x=1<<g;a[g]=0,d[g]=-1,r[g]=-1,l&=~x}}function ia(r,a){var l=r.entangledLanes|=a;for(r=r.entanglements;l;){var d=31-Wt(l),g=1<<d;g&a|r[d]&a&&(r[d]|=a),l&=~g}}var Ke=0;function C0(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var z0,Ql,T0,P0,E0,Jl=!1,oo=[],vr=null,wr=null,jr=null,Ri=new Map,Di=new Map,Nr=[],wy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function M0(r,a){switch(r){case"focusin":case"focusout":vr=null;break;case"dragenter":case"dragleave":wr=null;break;case"mouseover":case"mouseout":jr=null;break;case"pointerover":case"pointerout":Ri.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Di.delete(a.pointerId)}}function Li(r,a,l,d,g,x){return r===null||r.nativeEvent!==x?(r={blockedOn:a,domEventName:l,eventSystemFlags:d,nativeEvent:x,targetContainers:[g]},a!==null&&(a=Zi(a),a!==null&&Ql(a)),r):(r.eventSystemFlags|=d,a=r.targetContainers,g!==null&&a.indexOf(g)===-1&&a.push(g),r)}function jy(r,a,l,d,g){switch(a){case"focusin":return vr=Li(vr,r,a,l,d,g),!0;case"dragenter":return wr=Li(wr,r,a,l,d,g),!0;case"mouseover":return jr=Li(jr,r,a,l,d,g),!0;case"pointerover":var x=g.pointerId;return Ri.set(x,Li(Ri.get(x)||null,r,a,l,d,g)),!0;case"gotpointercapture":return x=g.pointerId,Di.set(x,Li(Di.get(x)||null,r,a,l,d,g)),!0}return!1}function A0(r){var a=sa(r.target);if(a!==null){var l=Ln(a);if(l!==null){if(a=l.tag,a===13){if(a=Ci(l),a!==null){r.blockedOn=a,E0(r.priority,function(){T0(l)});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function lo(r){if(r.blockedOn!==null)return!1;for(var a=r.targetContainers;0<a.length;){var l=tc(r.domEventName,r.eventSystemFlags,a[0],r.nativeEvent);if(l===null){l=r.nativeEvent;var d=new l.constructor(l.type,l);yr=d,l.target.dispatchEvent(d),yr=null}else return a=Zi(l),a!==null&&Ql(a),r.blockedOn=l,!1;a.shift()}return!0}function I0(r,a,l){lo(r)&&l.delete(a)}function Ny(){Jl=!1,vr!==null&&lo(vr)&&(vr=null),wr!==null&&lo(wr)&&(wr=null),jr!==null&&lo(jr)&&(jr=null),Ri.forEach(I0),Di.forEach(I0)}function Oi(r,a){r.blockedOn===a&&(r.blockedOn=null,Jl||(Jl=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Ny)))}function $i(r){function a(g){return Oi(g,r)}if(0<oo.length){Oi(oo[0],r);for(var l=1;l<oo.length;l++){var d=oo[l];d.blockedOn===r&&(d.blockedOn=null)}}for(vr!==null&&Oi(vr,r),wr!==null&&Oi(wr,r),jr!==null&&Oi(jr,r),Ri.forEach(a),Di.forEach(a),l=0;l<Nr.length;l++)d=Nr[l],d.blockedOn===r&&(d.blockedOn=null);for(;0<Nr.length&&(l=Nr[0],l.blockedOn===null);)A0(l),l.blockedOn===null&&Nr.shift()}var Ra=z.ReactCurrentBatchConfig,co=!0;function Sy(r,a,l,d){var g=Ke,x=Ra.transition;Ra.transition=null;try{Ke=1,ec(r,a,l,d)}finally{Ke=g,Ra.transition=x}}function ky(r,a,l,d){var g=Ke,x=Ra.transition;Ra.transition=null;try{Ke=4,ec(r,a,l,d)}finally{Ke=g,Ra.transition=x}}function ec(r,a,l,d){if(co){var g=tc(r,a,l,d);if(g===null)yc(r,a,d,uo,l),M0(r,d);else if(jy(g,r,a,l,d))d.stopPropagation();else if(M0(r,d),a&4&&-1<wy.indexOf(r)){for(;g!==null;){var x=Zi(g);if(x!==null&&z0(x),x=tc(r,a,l,d),x===null&&yc(r,a,d,uo,l),x===g)break;g=x}g!==null&&d.stopPropagation()}else yc(r,a,d,null,l)}}var uo=null;function tc(r,a,l,d){if(uo=null,r=B(d),r=sa(r),r!==null)if(a=Ln(r),a===null)r=null;else if(l=a.tag,l===13){if(r=Ci(a),r!==null)return r;r=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;r=null}else a!==r&&(r=null);return uo=r,null}function R0(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(to()){case Ia:return 1;case Ai:return 4;case ea:case no:return 16;case Ii:return 536870912;default:return 16}default:return 16}}var Sr=null,nc=null,ho=null;function D0(){if(ho)return ho;var r,a=nc,l=a.length,d,g="value"in Sr?Sr.value:Sr.textContent,x=g.length;for(r=0;r<l&&a[r]===g[r];r++);var w=l-r;for(d=1;d<=w&&a[l-d]===g[x-d];d++);return ho=g.slice(r,1<d?1-d:void 0)}function fo(r){var a=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&a===13&&(r=13)):r=a,r===10&&(r=13),32<=r||r===13?r:0}function mo(){return!0}function L0(){return!1}function en(r){function a(l,d,g,x,w){this._reactName=l,this._targetInst=g,this.type=d,this.nativeEvent=x,this.target=w,this.currentTarget=null;for(var P in r)r.hasOwnProperty(P)&&(l=r[P],this[P]=l?l(x):x[P]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?mo:L0,this.isPropagationStopped=L0,this}return se(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=mo)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=mo)},persist:function(){},isPersistent:mo}),a}var Da={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rc=en(Da),Fi=se({},Da,{view:0,detail:0}),_y=en(Fi),ac,ic,Vi,po=se({},Fi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:oc,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Vi&&(Vi&&r.type==="mousemove"?(ac=r.screenX-Vi.screenX,ic=r.screenY-Vi.screenY):ic=ac=0,Vi=r),ac)},movementY:function(r){return"movementY"in r?r.movementY:ic}}),O0=en(po),Cy=se({},po,{dataTransfer:0}),zy=en(Cy),Ty=se({},Fi,{relatedTarget:0}),sc=en(Ty),Py=se({},Da,{animationName:0,elapsedTime:0,pseudoElement:0}),Ey=en(Py),My=se({},Da,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Ay=en(My),Iy=se({},Da,{data:0}),$0=en(Iy),Ry={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Dy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ly={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Oy(r){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(r):(r=Ly[r])?!!a[r]:!1}function oc(){return Oy}var $y=se({},Fi,{key:function(r){if(r.key){var a=Ry[r.key]||r.key;if(a!=="Unidentified")return a}return r.type==="keypress"?(r=fo(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Dy[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:oc,charCode:function(r){return r.type==="keypress"?fo(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?fo(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Fy=en($y),Vy=se({},po,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),F0=en(Vy),By=se({},Fi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:oc}),qy=en(By),Wy=se({},Da,{propertyName:0,elapsedTime:0,pseudoElement:0}),Hy=en(Wy),Uy=se({},po,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Yy=en(Uy),Ky=[9,13,27,32],lc=f&&"CompositionEvent"in window,Bi=null;f&&"documentMode"in document&&(Bi=document.documentMode);var Gy=f&&"TextEvent"in window&&!Bi,V0=f&&(!lc||Bi&&8<Bi&&11>=Bi),B0=" ",q0=!1;function W0(r,a){switch(r){case"keyup":return Ky.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function H0(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var La=!1;function Xy(r,a){switch(r){case"compositionend":return H0(a);case"keypress":return a.which!==32?null:(q0=!0,B0);case"textInput":return r=a.data,r===B0&&q0?null:r;default:return null}}function Zy(r,a){if(La)return r==="compositionend"||!lc&&W0(r,a)?(r=D0(),ho=nc=Sr=null,La=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return V0&&a.locale!=="ko"?null:a.data;default:return null}}var Qy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function U0(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a==="input"?!!Qy[r.type]:a==="textarea"}function Y0(r,a,l,d){ce(d),a=vo(a,"onChange"),0<a.length&&(l=new rc("onChange","change",null,l,d),r.push({event:l,listeners:a}))}var qi=null,Wi=null;function Jy(r){dh(r,0)}function go(r){var a=Ba(r);if(Z(a))return r}function e2(r,a){if(r==="change")return a}var K0=!1;if(f){var cc;if(f){var uc="oninput"in document;if(!uc){var G0=document.createElement("div");G0.setAttribute("oninput","return;"),uc=typeof G0.oninput=="function"}cc=uc}else cc=!1;K0=cc&&(!document.documentMode||9<document.documentMode)}function X0(){qi&&(qi.detachEvent("onpropertychange",Z0),Wi=qi=null)}function Z0(r){if(r.propertyName==="value"&&go(Wi)){var a=[];Y0(a,Wi,r,B(r)),Ze(Jy,a)}}function t2(r,a,l){r==="focusin"?(X0(),qi=a,Wi=l,qi.attachEvent("onpropertychange",Z0)):r==="focusout"&&X0()}function n2(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return go(Wi)}function r2(r,a){if(r==="click")return go(a)}function a2(r,a){if(r==="input"||r==="change")return go(a)}function i2(r,a){return r===a&&(r!==0||1/r===1/a)||r!==r&&a!==a}var Nn=typeof Object.is=="function"?Object.is:i2;function Hi(r,a){if(Nn(r,a))return!0;if(typeof r!="object"||r===null||typeof a!="object"||a===null)return!1;var l=Object.keys(r),d=Object.keys(a);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var g=l[d];if(!h.call(a,g)||!Nn(r[g],a[g]))return!1}return!0}function Q0(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function J0(r,a){var l=Q0(r);r=0;for(var d;l;){if(l.nodeType===3){if(d=r+l.textContent.length,r<=a&&d>=a)return{node:l,offset:a-r};r=d}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Q0(l)}}function eh(r,a){return r&&a?r===a?!0:r&&r.nodeType===3?!1:a&&a.nodeType===3?eh(r,a.parentNode):"contains"in r?r.contains(a):r.compareDocumentPosition?!!(r.compareDocumentPosition(a)&16):!1:!1}function th(){for(var r=window,a=pe();a instanceof r.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)r=a.contentWindow;else break;a=pe(r.document)}return a}function dc(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a&&(a==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||a==="textarea"||r.contentEditable==="true")}function s2(r){var a=th(),l=r.focusedElem,d=r.selectionRange;if(a!==l&&l&&l.ownerDocument&&eh(l.ownerDocument.documentElement,l)){if(d!==null&&dc(l)){if(a=d.start,r=d.end,r===void 0&&(r=a),"selectionStart"in l)l.selectionStart=a,l.selectionEnd=Math.min(r,l.value.length);else if(r=(a=l.ownerDocument||document)&&a.defaultView||window,r.getSelection){r=r.getSelection();var g=l.textContent.length,x=Math.min(d.start,g);d=d.end===void 0?x:Math.min(d.end,g),!r.extend&&x>d&&(g=d,d=x,x=g),g=J0(l,x);var w=J0(l,d);g&&w&&(r.rangeCount!==1||r.anchorNode!==g.node||r.anchorOffset!==g.offset||r.focusNode!==w.node||r.focusOffset!==w.offset)&&(a=a.createRange(),a.setStart(g.node,g.offset),r.removeAllRanges(),x>d?(r.addRange(a),r.extend(w.node,w.offset)):(a.setEnd(w.node,w.offset),r.addRange(a)))}}for(a=[],r=l;r=r.parentNode;)r.nodeType===1&&a.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<a.length;l++)r=a[l],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var o2=f&&"documentMode"in document&&11>=document.documentMode,Oa=null,hc=null,Ui=null,fc=!1;function nh(r,a,l){var d=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;fc||Oa==null||Oa!==pe(d)||(d=Oa,"selectionStart"in d&&dc(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Ui&&Hi(Ui,d)||(Ui=d,d=vo(hc,"onSelect"),0<d.length&&(a=new rc("onSelect","select",null,a,l),r.push({event:a,listeners:d}),a.target=Oa)))}function xo(r,a){var l={};return l[r.toLowerCase()]=a.toLowerCase(),l["Webkit"+r]="webkit"+a,l["Moz"+r]="moz"+a,l}var $a={animationend:xo("Animation","AnimationEnd"),animationiteration:xo("Animation","AnimationIteration"),animationstart:xo("Animation","AnimationStart"),transitionend:xo("Transition","TransitionEnd")},mc={},rh={};f&&(rh=document.createElement("div").style,"AnimationEvent"in window||(delete $a.animationend.animation,delete $a.animationiteration.animation,delete $a.animationstart.animation),"TransitionEvent"in window||delete $a.transitionend.transition);function yo(r){if(mc[r])return mc[r];if(!$a[r])return r;var a=$a[r],l;for(l in a)if(a.hasOwnProperty(l)&&l in rh)return mc[r]=a[l];return r}var ah=yo("animationend"),ih=yo("animationiteration"),sh=yo("animationstart"),oh=yo("transitionend"),lh=new Map,ch="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function kr(r,a){lh.set(r,a),c(a,[r])}for(var pc=0;pc<ch.length;pc++){var gc=ch[pc],l2=gc.toLowerCase(),c2=gc[0].toUpperCase()+gc.slice(1);kr(l2,"on"+c2)}kr(ah,"onAnimationEnd"),kr(ih,"onAnimationIteration"),kr(sh,"onAnimationStart"),kr("dblclick","onDoubleClick"),kr("focusin","onFocus"),kr("focusout","onBlur"),kr(oh,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),u2=new Set("cancel close invalid load scroll toggle".split(" ").concat(Yi));function uh(r,a,l){var d=r.type||"unknown-event";r.currentTarget=l,Zs(d,a,void 0,r),r.currentTarget=null}function dh(r,a){a=(a&4)!==0;for(var l=0;l<r.length;l++){var d=r[l],g=d.event;d=d.listeners;e:{var x=void 0;if(a)for(var w=d.length-1;0<=w;w--){var P=d[w],I=P.instance,q=P.currentTarget;if(P=P.listener,I!==x&&g.isPropagationStopped())break e;uh(g,P,q),x=I}else for(w=0;w<d.length;w++){if(P=d[w],I=P.instance,q=P.currentTarget,P=P.listener,I!==x&&g.isPropagationStopped())break e;uh(g,P,q),x=I}}}if(Jr)throw r=Aa,Jr=!1,Aa=null,r}function Je(r,a){var l=a[Sc];l===void 0&&(l=a[Sc]=new Set);var d=r+"__bubble";l.has(d)||(hh(a,r,2,!1),l.add(d))}function xc(r,a,l){var d=0;a&&(d|=4),hh(l,r,d,a)}var bo="_reactListening"+Math.random().toString(36).slice(2);function Ki(r){if(!r[bo]){r[bo]=!0,s.forEach(function(l){l!=="selectionchange"&&(u2.has(l)||xc(l,!1,r),xc(l,!0,r))});var a=r.nodeType===9?r:r.ownerDocument;a===null||a[bo]||(a[bo]=!0,xc("selectionchange",!1,a))}}function hh(r,a,l,d){switch(R0(a)){case 1:var g=Sy;break;case 4:g=ky;break;default:g=ec}l=g.bind(null,a,l,r),g=void 0,!Zn||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(g=!0),d?g!==void 0?r.addEventListener(a,l,{capture:!0,passive:g}):r.addEventListener(a,l,!0):g!==void 0?r.addEventListener(a,l,{passive:g}):r.addEventListener(a,l,!1)}function yc(r,a,l,d,g){var x=d;if((a&1)===0&&(a&2)===0&&d!==null)e:for(;;){if(d===null)return;var w=d.tag;if(w===3||w===4){var P=d.stateNode.containerInfo;if(P===g||P.nodeType===8&&P.parentNode===g)break;if(w===4)for(w=d.return;w!==null;){var I=w.tag;if((I===3||I===4)&&(I=w.stateNode.containerInfo,I===g||I.nodeType===8&&I.parentNode===g))return;w=w.return}for(;P!==null;){if(w=sa(P),w===null)return;if(I=w.tag,I===5||I===6){d=x=w;continue e}P=P.parentNode}}d=d.return}Ze(function(){var q=x,ne=B(l),ae=[];e:{var J=lh.get(r);if(J!==void 0){var fe=rc,xe=r;switch(r){case"keypress":if(fo(l)===0)break e;case"keydown":case"keyup":fe=Fy;break;case"focusin":xe="focus",fe=sc;break;case"focusout":xe="blur",fe=sc;break;case"beforeblur":case"afterblur":fe=sc;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":fe=O0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":fe=zy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":fe=qy;break;case ah:case ih:case sh:fe=Ey;break;case oh:fe=Hy;break;case"scroll":fe=_y;break;case"wheel":fe=Yy;break;case"copy":case"cut":case"paste":fe=Ay;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":fe=F0}var ye=(a&4)!==0,pt=!ye&&r==="scroll",F=ye?J!==null?J+"Capture":null:J;ye=[];for(var D=q,V;D!==null;){V=D;var ie=V.stateNode;if(V.tag===5&&ie!==null&&(V=ie,F!==null&&(ie=cn(D,F),ie!=null&&ye.push(Gi(D,ie,V)))),pt)break;D=D.return}0<ye.length&&(J=new fe(J,xe,null,l,ne),ae.push({event:J,listeners:ye}))}}if((a&7)===0){e:{if(J=r==="mouseover"||r==="pointerover",fe=r==="mouseout"||r==="pointerout",J&&l!==yr&&(xe=l.relatedTarget||l.fromElement)&&(sa(xe)||xe[Jn]))break e;if((fe||J)&&(J=ne.window===ne?ne:(J=ne.ownerDocument)?J.defaultView||J.parentWindow:window,fe?(xe=l.relatedTarget||l.toElement,fe=q,xe=xe?sa(xe):null,xe!==null&&(pt=Ln(xe),xe!==pt||xe.tag!==5&&xe.tag!==6)&&(xe=null)):(fe=null,xe=q),fe!==xe)){if(ye=O0,ie="onMouseLeave",F="onMouseEnter",D="mouse",(r==="pointerout"||r==="pointerover")&&(ye=F0,ie="onPointerLeave",F="onPointerEnter",D="pointer"),pt=fe==null?J:Ba(fe),V=xe==null?J:Ba(xe),J=new ye(ie,D+"leave",fe,l,ne),J.target=pt,J.relatedTarget=V,ie=null,sa(ne)===q&&(ye=new ye(F,D+"enter",xe,l,ne),ye.target=V,ye.relatedTarget=pt,ie=ye),pt=ie,fe&&xe)t:{for(ye=fe,F=xe,D=0,V=ye;V;V=Fa(V))D++;for(V=0,ie=F;ie;ie=Fa(ie))V++;for(;0<D-V;)ye=Fa(ye),D--;for(;0<V-D;)F=Fa(F),V--;for(;D--;){if(ye===F||F!==null&&ye===F.alternate)break t;ye=Fa(ye),F=Fa(F)}ye=null}else ye=null;fe!==null&&fh(ae,J,fe,ye,!1),xe!==null&&pt!==null&&fh(ae,pt,xe,ye,!0)}}e:{if(J=q?Ba(q):window,fe=J.nodeName&&J.nodeName.toLowerCase(),fe==="select"||fe==="input"&&J.type==="file")var ve=e2;else if(U0(J))if(K0)ve=a2;else{ve=n2;var ke=t2}else(fe=J.nodeName)&&fe.toLowerCase()==="input"&&(J.type==="checkbox"||J.type==="radio")&&(ve=r2);if(ve&&(ve=ve(r,q))){Y0(ae,ve,l,ne);break e}ke&&ke(r,J,q),r==="focusout"&&(ke=J._wrapperState)&&ke.controlled&&J.type==="number"&&qt(J,"number",J.value)}switch(ke=q?Ba(q):window,r){case"focusin":(U0(ke)||ke.contentEditable==="true")&&(Oa=ke,hc=q,Ui=null);break;case"focusout":Ui=hc=Oa=null;break;case"mousedown":fc=!0;break;case"contextmenu":case"mouseup":case"dragend":fc=!1,nh(ae,l,ne);break;case"selectionchange":if(o2)break;case"keydown":case"keyup":nh(ae,l,ne)}var _e;if(lc)e:{switch(r){case"compositionstart":var Ee="onCompositionStart";break e;case"compositionend":Ee="onCompositionEnd";break e;case"compositionupdate":Ee="onCompositionUpdate";break e}Ee=void 0}else La?W0(r,l)&&(Ee="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(Ee="onCompositionStart");Ee&&(V0&&l.locale!=="ko"&&(La||Ee!=="onCompositionStart"?Ee==="onCompositionEnd"&&La&&(_e=D0()):(Sr=ne,nc="value"in Sr?Sr.value:Sr.textContent,La=!0)),ke=vo(q,Ee),0<ke.length&&(Ee=new $0(Ee,r,null,l,ne),ae.push({event:Ee,listeners:ke}),_e?Ee.data=_e:(_e=H0(l),_e!==null&&(Ee.data=_e)))),(_e=Gy?Xy(r,l):Zy(r,l))&&(q=vo(q,"onBeforeInput"),0<q.length&&(ne=new $0("onBeforeInput","beforeinput",null,l,ne),ae.push({event:ne,listeners:q}),ne.data=_e))}dh(ae,a)})}function Gi(r,a,l){return{instance:r,listener:a,currentTarget:l}}function vo(r,a){for(var l=a+"Capture",d=[];r!==null;){var g=r,x=g.stateNode;g.tag===5&&x!==null&&(g=x,x=cn(r,l),x!=null&&d.unshift(Gi(r,x,g)),x=cn(r,a),x!=null&&d.push(Gi(r,x,g))),r=r.return}return d}function Fa(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function fh(r,a,l,d,g){for(var x=a._reactName,w=[];l!==null&&l!==d;){var P=l,I=P.alternate,q=P.stateNode;if(I!==null&&I===d)break;P.tag===5&&q!==null&&(P=q,g?(I=cn(l,x),I!=null&&w.unshift(Gi(l,I,P))):g||(I=cn(l,x),I!=null&&w.push(Gi(l,I,P)))),l=l.return}w.length!==0&&r.push({event:a,listeners:w})}var d2=/\r\n?/g,h2=/\u0000|\uFFFD/g;function mh(r){return(typeof r=="string"?r:""+r).replace(d2,`
`).replace(h2,"")}function wo(r,a,l){if(a=mh(a),mh(r)!==a&&l)throw Error(t(425))}function jo(){}var bc=null,vc=null;function wc(r,a){return r==="textarea"||r==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var jc=typeof setTimeout=="function"?setTimeout:void 0,f2=typeof clearTimeout=="function"?clearTimeout:void 0,ph=typeof Promise=="function"?Promise:void 0,m2=typeof queueMicrotask=="function"?queueMicrotask:typeof ph<"u"?function(r){return ph.resolve(null).then(r).catch(p2)}:jc;function p2(r){setTimeout(function(){throw r})}function Nc(r,a){var l=a,d=0;do{var g=l.nextSibling;if(r.removeChild(l),g&&g.nodeType===8)if(l=g.data,l==="/$"){if(d===0){r.removeChild(g),$i(a);return}d--}else l!=="$"&&l!=="$?"&&l!=="$!"||d++;l=g}while(l);$i(a)}function _r(r){for(;r!=null;r=r.nextSibling){var a=r.nodeType;if(a===1||a===3)break;if(a===8){if(a=r.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return r}function gh(r){r=r.previousSibling;for(var a=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"){if(a===0)return r;a--}else l==="/$"&&a++}r=r.previousSibling}return null}var Va=Math.random().toString(36).slice(2),$n="__reactFiber$"+Va,Xi="__reactProps$"+Va,Jn="__reactContainer$"+Va,Sc="__reactEvents$"+Va,g2="__reactListeners$"+Va,x2="__reactHandles$"+Va;function sa(r){var a=r[$n];if(a)return a;for(var l=r.parentNode;l;){if(a=l[Jn]||l[$n]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(r=gh(r);r!==null;){if(l=r[$n])return l;r=gh(r)}return a}r=l,l=r.parentNode}return null}function Zi(r){return r=r[$n]||r[Jn],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function Ba(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(t(33))}function No(r){return r[Xi]||null}var kc=[],qa=-1;function Cr(r){return{current:r}}function et(r){0>qa||(r.current=kc[qa],kc[qa]=null,qa--)}function Qe(r,a){qa++,kc[qa]=r.current,r.current=a}var zr={},Pt=Cr(zr),Ht=Cr(!1),oa=zr;function Wa(r,a){var l=r.type.contextTypes;if(!l)return zr;var d=r.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===a)return d.__reactInternalMemoizedMaskedChildContext;var g={},x;for(x in l)g[x]=a[x];return d&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=a,r.__reactInternalMemoizedMaskedChildContext=g),g}function Ut(r){return r=r.childContextTypes,r!=null}function So(){et(Ht),et(Pt)}function xh(r,a,l){if(Pt.current!==zr)throw Error(t(168));Qe(Pt,a),Qe(Ht,l)}function yh(r,a,l){var d=r.stateNode;if(a=a.childContextTypes,typeof d.getChildContext!="function")return l;d=d.getChildContext();for(var g in d)if(!(g in a))throw Error(t(108,Fe(r)||"Unknown",g));return se({},l,d)}function ko(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||zr,oa=Pt.current,Qe(Pt,r),Qe(Ht,Ht.current),!0}function bh(r,a,l){var d=r.stateNode;if(!d)throw Error(t(169));l?(r=yh(r,a,oa),d.__reactInternalMemoizedMergedChildContext=r,et(Ht),et(Pt),Qe(Pt,r)):et(Ht),Qe(Ht,l)}var er=null,_o=!1,_c=!1;function vh(r){er===null?er=[r]:er.push(r)}function y2(r){_o=!0,vh(r)}function Tr(){if(!_c&&er!==null){_c=!0;var r=0,a=Ke;try{var l=er;for(Ke=1;r<l.length;r++){var d=l[r];do d=d(!0);while(d!==null)}er=null,_o=!1}catch(g){throw er!==null&&(er=er.slice(r+1)),Ei(Ia,Tr),g}finally{Ke=a,_c=!1}}return null}var Ha=[],Ua=0,Co=null,zo=0,un=[],dn=0,la=null,tr=1,nr="";function ca(r,a){Ha[Ua++]=zo,Ha[Ua++]=Co,Co=r,zo=a}function wh(r,a,l){un[dn++]=tr,un[dn++]=nr,un[dn++]=la,la=r;var d=tr;r=nr;var g=32-Wt(d)-1;d&=~(1<<g),l+=1;var x=32-Wt(a)+g;if(30<x){var w=g-g%5;x=(d&(1<<w)-1).toString(32),d>>=w,g-=w,tr=1<<32-Wt(a)+g|l<<g|d,nr=x+r}else tr=1<<x|l<<g|d,nr=r}function Cc(r){r.return!==null&&(ca(r,1),wh(r,1,0))}function zc(r){for(;r===Co;)Co=Ha[--Ua],Ha[Ua]=null,zo=Ha[--Ua],Ha[Ua]=null;for(;r===la;)la=un[--dn],un[dn]=null,nr=un[--dn],un[dn]=null,tr=un[--dn],un[dn]=null}var tn=null,nn=null,rt=!1,Sn=null;function jh(r,a){var l=pn(5,null,null,0);l.elementType="DELETED",l.stateNode=a,l.return=r,a=r.deletions,a===null?(r.deletions=[l],r.flags|=16):a.push(l)}function Nh(r,a){switch(r.tag){case 5:var l=r.type;return a=a.nodeType!==1||l.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(r.stateNode=a,tn=r,nn=_r(a.firstChild),!0):!1;case 6:return a=r.pendingProps===""||a.nodeType!==3?null:a,a!==null?(r.stateNode=a,tn=r,nn=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(l=la!==null?{id:tr,overflow:nr}:null,r.memoizedState={dehydrated:a,treeContext:l,retryLane:1073741824},l=pn(18,null,null,0),l.stateNode=a,l.return=r,r.child=l,tn=r,nn=null,!0):!1;default:return!1}}function Tc(r){return(r.mode&1)!==0&&(r.flags&128)===0}function Pc(r){if(rt){var a=nn;if(a){var l=a;if(!Nh(r,a)){if(Tc(r))throw Error(t(418));a=_r(l.nextSibling);var d=tn;a&&Nh(r,a)?jh(d,l):(r.flags=r.flags&-4097|2,rt=!1,tn=r)}}else{if(Tc(r))throw Error(t(418));r.flags=r.flags&-4097|2,rt=!1,tn=r}}}function Sh(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;tn=r}function To(r){if(r!==tn)return!1;if(!rt)return Sh(r),rt=!0,!1;var a;if((a=r.tag!==3)&&!(a=r.tag!==5)&&(a=r.type,a=a!=="head"&&a!=="body"&&!wc(r.type,r.memoizedProps)),a&&(a=nn)){if(Tc(r))throw kh(),Error(t(418));for(;a;)jh(r,a),a=_r(a.nextSibling)}if(Sh(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(t(317));e:{for(r=r.nextSibling,a=0;r;){if(r.nodeType===8){var l=r.data;if(l==="/$"){if(a===0){nn=_r(r.nextSibling);break e}a--}else l!=="$"&&l!=="$!"&&l!=="$?"||a++}r=r.nextSibling}nn=null}}else nn=tn?_r(r.stateNode.nextSibling):null;return!0}function kh(){for(var r=nn;r;)r=_r(r.nextSibling)}function Ya(){nn=tn=null,rt=!1}function Ec(r){Sn===null?Sn=[r]:Sn.push(r)}var b2=z.ReactCurrentBatchConfig;function Qi(r,a,l){if(r=l.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(t(309));var d=l.stateNode}if(!d)throw Error(t(147,r));var g=d,x=""+r;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===x?a.ref:(a=function(w){var P=g.refs;w===null?delete P[x]:P[x]=w},a._stringRef=x,a)}if(typeof r!="string")throw Error(t(284));if(!l._owner)throw Error(t(290,r))}return r}function Po(r,a){throw r=Object.prototype.toString.call(a),Error(t(31,r==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":r))}function _h(r){var a=r._init;return a(r._payload)}function Ch(r){function a(F,D){if(r){var V=F.deletions;V===null?(F.deletions=[D],F.flags|=16):V.push(D)}}function l(F,D){if(!r)return null;for(;D!==null;)a(F,D),D=D.sibling;return null}function d(F,D){for(F=new Map;D!==null;)D.key!==null?F.set(D.key,D):F.set(D.index,D),D=D.sibling;return F}function g(F,D){return F=Lr(F,D),F.index=0,F.sibling=null,F}function x(F,D,V){return F.index=V,r?(V=F.alternate,V!==null?(V=V.index,V<D?(F.flags|=2,D):V):(F.flags|=2,D)):(F.flags|=1048576,D)}function w(F){return r&&F.alternate===null&&(F.flags|=2),F}function P(F,D,V,ie){return D===null||D.tag!==6?(D=ju(V,F.mode,ie),D.return=F,D):(D=g(D,V),D.return=F,D)}function I(F,D,V,ie){var ve=V.type;return ve===O?ne(F,D,V.props.children,ie,V.key):D!==null&&(D.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===De&&_h(ve)===D.type)?(ie=g(D,V.props),ie.ref=Qi(F,D,V),ie.return=F,ie):(ie=el(V.type,V.key,V.props,null,F.mode,ie),ie.ref=Qi(F,D,V),ie.return=F,ie)}function q(F,D,V,ie){return D===null||D.tag!==4||D.stateNode.containerInfo!==V.containerInfo||D.stateNode.implementation!==V.implementation?(D=Nu(V,F.mode,ie),D.return=F,D):(D=g(D,V.children||[]),D.return=F,D)}function ne(F,D,V,ie,ve){return D===null||D.tag!==7?(D=xa(V,F.mode,ie,ve),D.return=F,D):(D=g(D,V),D.return=F,D)}function ae(F,D,V){if(typeof D=="string"&&D!==""||typeof D=="number")return D=ju(""+D,F.mode,V),D.return=F,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case R:return V=el(D.type,D.key,D.props,null,F.mode,V),V.ref=Qi(F,null,D),V.return=F,V;case A:return D=Nu(D,F.mode,V),D.return=F,D;case De:var ie=D._init;return ae(F,ie(D._payload),V)}if(Xn(D)||de(D))return D=xa(D,F.mode,V,null),D.return=F,D;Po(F,D)}return null}function J(F,D,V,ie){var ve=D!==null?D.key:null;if(typeof V=="string"&&V!==""||typeof V=="number")return ve!==null?null:P(F,D,""+V,ie);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case R:return V.key===ve?I(F,D,V,ie):null;case A:return V.key===ve?q(F,D,V,ie):null;case De:return ve=V._init,J(F,D,ve(V._payload),ie)}if(Xn(V)||de(V))return ve!==null?null:ne(F,D,V,ie,null);Po(F,V)}return null}function fe(F,D,V,ie,ve){if(typeof ie=="string"&&ie!==""||typeof ie=="number")return F=F.get(V)||null,P(D,F,""+ie,ve);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case R:return F=F.get(ie.key===null?V:ie.key)||null,I(D,F,ie,ve);case A:return F=F.get(ie.key===null?V:ie.key)||null,q(D,F,ie,ve);case De:var ke=ie._init;return fe(F,D,V,ke(ie._payload),ve)}if(Xn(ie)||de(ie))return F=F.get(V)||null,ne(D,F,ie,ve,null);Po(D,ie)}return null}function xe(F,D,V,ie){for(var ve=null,ke=null,_e=D,Ee=D=0,St=null;_e!==null&&Ee<V.length;Ee++){_e.index>Ee?(St=_e,_e=null):St=_e.sibling;var Be=J(F,_e,V[Ee],ie);if(Be===null){_e===null&&(_e=St);break}r&&_e&&Be.alternate===null&&a(F,_e),D=x(Be,D,Ee),ke===null?ve=Be:ke.sibling=Be,ke=Be,_e=St}if(Ee===V.length)return l(F,_e),rt&&ca(F,Ee),ve;if(_e===null){for(;Ee<V.length;Ee++)_e=ae(F,V[Ee],ie),_e!==null&&(D=x(_e,D,Ee),ke===null?ve=_e:ke.sibling=_e,ke=_e);return rt&&ca(F,Ee),ve}for(_e=d(F,_e);Ee<V.length;Ee++)St=fe(_e,F,Ee,V[Ee],ie),St!==null&&(r&&St.alternate!==null&&_e.delete(St.key===null?Ee:St.key),D=x(St,D,Ee),ke===null?ve=St:ke.sibling=St,ke=St);return r&&_e.forEach(function(Or){return a(F,Or)}),rt&&ca(F,Ee),ve}function ye(F,D,V,ie){var ve=de(V);if(typeof ve!="function")throw Error(t(150));if(V=ve.call(V),V==null)throw Error(t(151));for(var ke=ve=null,_e=D,Ee=D=0,St=null,Be=V.next();_e!==null&&!Be.done;Ee++,Be=V.next()){_e.index>Ee?(St=_e,_e=null):St=_e.sibling;var Or=J(F,_e,Be.value,ie);if(Or===null){_e===null&&(_e=St);break}r&&_e&&Or.alternate===null&&a(F,_e),D=x(Or,D,Ee),ke===null?ve=Or:ke.sibling=Or,ke=Or,_e=St}if(Be.done)return l(F,_e),rt&&ca(F,Ee),ve;if(_e===null){for(;!Be.done;Ee++,Be=V.next())Be=ae(F,Be.value,ie),Be!==null&&(D=x(Be,D,Ee),ke===null?ve=Be:ke.sibling=Be,ke=Be);return rt&&ca(F,Ee),ve}for(_e=d(F,_e);!Be.done;Ee++,Be=V.next())Be=fe(_e,F,Ee,Be.value,ie),Be!==null&&(r&&Be.alternate!==null&&_e.delete(Be.key===null?Ee:Be.key),D=x(Be,D,Ee),ke===null?ve=Be:ke.sibling=Be,ke=Be);return r&&_e.forEach(function(Q2){return a(F,Q2)}),rt&&ca(F,Ee),ve}function pt(F,D,V,ie){if(typeof V=="object"&&V!==null&&V.type===O&&V.key===null&&(V=V.props.children),typeof V=="object"&&V!==null){switch(V.$$typeof){case R:e:{for(var ve=V.key,ke=D;ke!==null;){if(ke.key===ve){if(ve=V.type,ve===O){if(ke.tag===7){l(F,ke.sibling),D=g(ke,V.props.children),D.return=F,F=D;break e}}else if(ke.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===De&&_h(ve)===ke.type){l(F,ke.sibling),D=g(ke,V.props),D.ref=Qi(F,ke,V),D.return=F,F=D;break e}l(F,ke);break}else a(F,ke);ke=ke.sibling}V.type===O?(D=xa(V.props.children,F.mode,ie,V.key),D.return=F,F=D):(ie=el(V.type,V.key,V.props,null,F.mode,ie),ie.ref=Qi(F,D,V),ie.return=F,F=ie)}return w(F);case A:e:{for(ke=V.key;D!==null;){if(D.key===ke)if(D.tag===4&&D.stateNode.containerInfo===V.containerInfo&&D.stateNode.implementation===V.implementation){l(F,D.sibling),D=g(D,V.children||[]),D.return=F,F=D;break e}else{l(F,D);break}else a(F,D);D=D.sibling}D=Nu(V,F.mode,ie),D.return=F,F=D}return w(F);case De:return ke=V._init,pt(F,D,ke(V._payload),ie)}if(Xn(V))return xe(F,D,V,ie);if(de(V))return ye(F,D,V,ie);Po(F,V)}return typeof V=="string"&&V!==""||typeof V=="number"?(V=""+V,D!==null&&D.tag===6?(l(F,D.sibling),D=g(D,V),D.return=F,F=D):(l(F,D),D=ju(V,F.mode,ie),D.return=F,F=D),w(F)):l(F,D)}return pt}var Ka=Ch(!0),zh=Ch(!1),Eo=Cr(null),Mo=null,Ga=null,Mc=null;function Ac(){Mc=Ga=Mo=null}function Ic(r){var a=Eo.current;et(Eo),r._currentValue=a}function Rc(r,a,l){for(;r!==null;){var d=r.alternate;if((r.childLanes&a)!==a?(r.childLanes|=a,d!==null&&(d.childLanes|=a)):d!==null&&(d.childLanes&a)!==a&&(d.childLanes|=a),r===l)break;r=r.return}}function Xa(r,a){Mo=r,Mc=Ga=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&a)!==0&&(Yt=!0),r.firstContext=null)}function hn(r){var a=r._currentValue;if(Mc!==r)if(r={context:r,memoizedValue:a,next:null},Ga===null){if(Mo===null)throw Error(t(308));Ga=r,Mo.dependencies={lanes:0,firstContext:r}}else Ga=Ga.next=r;return a}var ua=null;function Dc(r){ua===null?ua=[r]:ua.push(r)}function Th(r,a,l,d){var g=a.interleaved;return g===null?(l.next=l,Dc(a)):(l.next=g.next,g.next=l),a.interleaved=l,rr(r,d)}function rr(r,a){r.lanes|=a;var l=r.alternate;for(l!==null&&(l.lanes|=a),l=r,r=r.return;r!==null;)r.childLanes|=a,l=r.alternate,l!==null&&(l.childLanes|=a),l=r,r=r.return;return l.tag===3?l.stateNode:null}var Pr=!1;function Lc(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ph(r,a){r=r.updateQueue,a.updateQueue===r&&(a.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function ar(r,a){return{eventTime:r,lane:a,tag:0,payload:null,callback:null,next:null}}function Er(r,a,l){var d=r.updateQueue;if(d===null)return null;if(d=d.shared,(Ve&2)!==0){var g=d.pending;return g===null?a.next=a:(a.next=g.next,g.next=a),d.pending=a,rr(r,l)}return g=d.interleaved,g===null?(a.next=a,Dc(d)):(a.next=g.next,g.next=a),d.interleaved=a,rr(r,l)}function Ao(r,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194240)!==0)){var d=a.lanes;d&=r.pendingLanes,l|=d,a.lanes=l,ia(r,l)}}function Eh(r,a){var l=r.updateQueue,d=r.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var g=null,x=null;if(l=l.firstBaseUpdate,l!==null){do{var w={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};x===null?g=x=w:x=x.next=w,l=l.next}while(l!==null);x===null?g=x=a:x=x.next=a}else g=x=a;l={baseState:d.baseState,firstBaseUpdate:g,lastBaseUpdate:x,shared:d.shared,effects:d.effects},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=a:r.next=a,l.lastBaseUpdate=a}function Io(r,a,l,d){var g=r.updateQueue;Pr=!1;var x=g.firstBaseUpdate,w=g.lastBaseUpdate,P=g.shared.pending;if(P!==null){g.shared.pending=null;var I=P,q=I.next;I.next=null,w===null?x=q:w.next=q,w=I;var ne=r.alternate;ne!==null&&(ne=ne.updateQueue,P=ne.lastBaseUpdate,P!==w&&(P===null?ne.firstBaseUpdate=q:P.next=q,ne.lastBaseUpdate=I))}if(x!==null){var ae=g.baseState;w=0,ne=q=I=null,P=x;do{var J=P.lane,fe=P.eventTime;if((d&J)===J){ne!==null&&(ne=ne.next={eventTime:fe,lane:0,tag:P.tag,payload:P.payload,callback:P.callback,next:null});e:{var xe=r,ye=P;switch(J=a,fe=l,ye.tag){case 1:if(xe=ye.payload,typeof xe=="function"){ae=xe.call(fe,ae,J);break e}ae=xe;break e;case 3:xe.flags=xe.flags&-65537|128;case 0:if(xe=ye.payload,J=typeof xe=="function"?xe.call(fe,ae,J):xe,J==null)break e;ae=se({},ae,J);break e;case 2:Pr=!0}}P.callback!==null&&P.lane!==0&&(r.flags|=64,J=g.effects,J===null?g.effects=[P]:J.push(P))}else fe={eventTime:fe,lane:J,tag:P.tag,payload:P.payload,callback:P.callback,next:null},ne===null?(q=ne=fe,I=ae):ne=ne.next=fe,w|=J;if(P=P.next,P===null){if(P=g.shared.pending,P===null)break;J=P,P=J.next,J.next=null,g.lastBaseUpdate=J,g.shared.pending=null}}while(!0);if(ne===null&&(I=ae),g.baseState=I,g.firstBaseUpdate=q,g.lastBaseUpdate=ne,a=g.shared.interleaved,a!==null){g=a;do w|=g.lane,g=g.next;while(g!==a)}else x===null&&(g.shared.lanes=0);fa|=w,r.lanes=w,r.memoizedState=ae}}function Mh(r,a,l){if(r=a.effects,a.effects=null,r!==null)for(a=0;a<r.length;a++){var d=r[a],g=d.callback;if(g!==null){if(d.callback=null,d=l,typeof g!="function")throw Error(t(191,g));g.call(d)}}}var Ji={},Fn=Cr(Ji),es=Cr(Ji),ts=Cr(Ji);function da(r){if(r===Ji)throw Error(t(174));return r}function Oc(r,a){switch(Qe(ts,a),Qe(es,r),Qe(Fn,Ji),r=a.nodeType,r){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:pr(null,"");break;default:r=r===8?a.parentNode:a,a=r.namespaceURI||null,r=r.tagName,a=pr(a,r)}et(Fn),Qe(Fn,a)}function Za(){et(Fn),et(es),et(ts)}function Ah(r){da(ts.current);var a=da(Fn.current),l=pr(a,r.type);a!==l&&(Qe(es,r),Qe(Fn,l))}function $c(r){es.current===r&&(et(Fn),et(es))}var st=Cr(0);function Ro(r){for(var a=r;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Fc=[];function Vc(){for(var r=0;r<Fc.length;r++)Fc[r]._workInProgressVersionPrimary=null;Fc.length=0}var Do=z.ReactCurrentDispatcher,Bc=z.ReactCurrentBatchConfig,ha=0,ot=null,vt=null,jt=null,Lo=!1,ns=!1,rs=0,v2=0;function Et(){throw Error(t(321))}function qc(r,a){if(a===null)return!1;for(var l=0;l<a.length&&l<r.length;l++)if(!Nn(r[l],a[l]))return!1;return!0}function Wc(r,a,l,d,g,x){if(ha=x,ot=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Do.current=r===null||r.memoizedState===null?S2:k2,r=l(d,g),ns){x=0;do{if(ns=!1,rs=0,25<=x)throw Error(t(301));x+=1,jt=vt=null,a.updateQueue=null,Do.current=_2,r=l(d,g)}while(ns)}if(Do.current=Fo,a=vt!==null&&vt.next!==null,ha=0,jt=vt=ot=null,Lo=!1,a)throw Error(t(300));return r}function Hc(){var r=rs!==0;return rs=0,r}function Vn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jt===null?ot.memoizedState=jt=r:jt=jt.next=r,jt}function fn(){if(vt===null){var r=ot.alternate;r=r!==null?r.memoizedState:null}else r=vt.next;var a=jt===null?ot.memoizedState:jt.next;if(a!==null)jt=a,vt=r;else{if(r===null)throw Error(t(310));vt=r,r={memoizedState:vt.memoizedState,baseState:vt.baseState,baseQueue:vt.baseQueue,queue:vt.queue,next:null},jt===null?ot.memoizedState=jt=r:jt=jt.next=r}return jt}function as(r,a){return typeof a=="function"?a(r):a}function Uc(r){var a=fn(),l=a.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=r;var d=vt,g=d.baseQueue,x=l.pending;if(x!==null){if(g!==null){var w=g.next;g.next=x.next,x.next=w}d.baseQueue=g=x,l.pending=null}if(g!==null){x=g.next,d=d.baseState;var P=w=null,I=null,q=x;do{var ne=q.lane;if((ha&ne)===ne)I!==null&&(I=I.next={lane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),d=q.hasEagerState?q.eagerState:r(d,q.action);else{var ae={lane:ne,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null};I===null?(P=I=ae,w=d):I=I.next=ae,ot.lanes|=ne,fa|=ne}q=q.next}while(q!==null&&q!==x);I===null?w=d:I.next=P,Nn(d,a.memoizedState)||(Yt=!0),a.memoizedState=d,a.baseState=w,a.baseQueue=I,l.lastRenderedState=d}if(r=l.interleaved,r!==null){g=r;do x=g.lane,ot.lanes|=x,fa|=x,g=g.next;while(g!==r)}else g===null&&(l.lanes=0);return[a.memoizedState,l.dispatch]}function Yc(r){var a=fn(),l=a.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=r;var d=l.dispatch,g=l.pending,x=a.memoizedState;if(g!==null){l.pending=null;var w=g=g.next;do x=r(x,w.action),w=w.next;while(w!==g);Nn(x,a.memoizedState)||(Yt=!0),a.memoizedState=x,a.baseQueue===null&&(a.baseState=x),l.lastRenderedState=x}return[x,d]}function Ih(){}function Rh(r,a){var l=ot,d=fn(),g=a(),x=!Nn(d.memoizedState,g);if(x&&(d.memoizedState=g,Yt=!0),d=d.queue,Kc(Oh.bind(null,l,d,r),[r]),d.getSnapshot!==a||x||jt!==null&&jt.memoizedState.tag&1){if(l.flags|=2048,is(9,Lh.bind(null,l,d,g,a),void 0,null),Nt===null)throw Error(t(349));(ha&30)!==0||Dh(l,a,g)}return g}function Dh(r,a,l){r.flags|=16384,r={getSnapshot:a,value:l},a=ot.updateQueue,a===null?(a={lastEffect:null,stores:null},ot.updateQueue=a,a.stores=[r]):(l=a.stores,l===null?a.stores=[r]:l.push(r))}function Lh(r,a,l,d){a.value=l,a.getSnapshot=d,$h(a)&&Fh(r)}function Oh(r,a,l){return l(function(){$h(a)&&Fh(r)})}function $h(r){var a=r.getSnapshot;r=r.value;try{var l=a();return!Nn(r,l)}catch{return!0}}function Fh(r){var a=rr(r,1);a!==null&&zn(a,r,1,-1)}function Vh(r){var a=Vn();return typeof r=="function"&&(r=r()),a.memoizedState=a.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:as,lastRenderedState:r},a.queue=r,r=r.dispatch=N2.bind(null,ot,r),[a.memoizedState,r]}function is(r,a,l,d){return r={tag:r,create:a,destroy:l,deps:d,next:null},a=ot.updateQueue,a===null?(a={lastEffect:null,stores:null},ot.updateQueue=a,a.lastEffect=r.next=r):(l=a.lastEffect,l===null?a.lastEffect=r.next=r:(d=l.next,l.next=r,r.next=d,a.lastEffect=r)),r}function Bh(){return fn().memoizedState}function Oo(r,a,l,d){var g=Vn();ot.flags|=r,g.memoizedState=is(1|a,l,void 0,d===void 0?null:d)}function $o(r,a,l,d){var g=fn();d=d===void 0?null:d;var x=void 0;if(vt!==null){var w=vt.memoizedState;if(x=w.destroy,d!==null&&qc(d,w.deps)){g.memoizedState=is(a,l,x,d);return}}ot.flags|=r,g.memoizedState=is(1|a,l,x,d)}function qh(r,a){return Oo(8390656,8,r,a)}function Kc(r,a){return $o(2048,8,r,a)}function Wh(r,a){return $o(4,2,r,a)}function Hh(r,a){return $o(4,4,r,a)}function Uh(r,a){if(typeof a=="function")return r=r(),a(r),function(){a(null)};if(a!=null)return r=r(),a.current=r,function(){a.current=null}}function Yh(r,a,l){return l=l!=null?l.concat([r]):null,$o(4,4,Uh.bind(null,a,r),l)}function Gc(){}function Kh(r,a){var l=fn();a=a===void 0?null:a;var d=l.memoizedState;return d!==null&&a!==null&&qc(a,d[1])?d[0]:(l.memoizedState=[r,a],r)}function Gh(r,a){var l=fn();a=a===void 0?null:a;var d=l.memoizedState;return d!==null&&a!==null&&qc(a,d[1])?d[0]:(r=r(),l.memoizedState=[r,a],r)}function Xh(r,a,l){return(ha&21)===0?(r.baseState&&(r.baseState=!1,Yt=!0),r.memoizedState=l):(Nn(l,a)||(l=je(),ot.lanes|=l,fa|=l,r.baseState=!0),a)}function w2(r,a){var l=Ke;Ke=l!==0&&4>l?l:4,r(!0);var d=Bc.transition;Bc.transition={};try{r(!1),a()}finally{Ke=l,Bc.transition=d}}function Zh(){return fn().memoizedState}function j2(r,a,l){var d=Rr(r);if(l={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null},Qh(r))Jh(a,l);else if(l=Th(r,a,l,d),l!==null){var g=$t();zn(l,r,d,g),ef(l,a,d)}}function N2(r,a,l){var d=Rr(r),g={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null};if(Qh(r))Jh(a,g);else{var x=r.alternate;if(r.lanes===0&&(x===null||x.lanes===0)&&(x=a.lastRenderedReducer,x!==null))try{var w=a.lastRenderedState,P=x(w,l);if(g.hasEagerState=!0,g.eagerState=P,Nn(P,w)){var I=a.interleaved;I===null?(g.next=g,Dc(a)):(g.next=I.next,I.next=g),a.interleaved=g;return}}catch{}finally{}l=Th(r,a,g,d),l!==null&&(g=$t(),zn(l,r,d,g),ef(l,a,d))}}function Qh(r){var a=r.alternate;return r===ot||a!==null&&a===ot}function Jh(r,a){ns=Lo=!0;var l=r.pending;l===null?a.next=a:(a.next=l.next,l.next=a),r.pending=a}function ef(r,a,l){if((l&4194240)!==0){var d=a.lanes;d&=r.pendingLanes,l|=d,a.lanes=l,ia(r,l)}}var Fo={readContext:hn,useCallback:Et,useContext:Et,useEffect:Et,useImperativeHandle:Et,useInsertionEffect:Et,useLayoutEffect:Et,useMemo:Et,useReducer:Et,useRef:Et,useState:Et,useDebugValue:Et,useDeferredValue:Et,useTransition:Et,useMutableSource:Et,useSyncExternalStore:Et,useId:Et,unstable_isNewReconciler:!1},S2={readContext:hn,useCallback:function(r,a){return Vn().memoizedState=[r,a===void 0?null:a],r},useContext:hn,useEffect:qh,useImperativeHandle:function(r,a,l){return l=l!=null?l.concat([r]):null,Oo(4194308,4,Uh.bind(null,a,r),l)},useLayoutEffect:function(r,a){return Oo(4194308,4,r,a)},useInsertionEffect:function(r,a){return Oo(4,2,r,a)},useMemo:function(r,a){var l=Vn();return a=a===void 0?null:a,r=r(),l.memoizedState=[r,a],r},useReducer:function(r,a,l){var d=Vn();return a=l!==void 0?l(a):a,d.memoizedState=d.baseState=a,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:a},d.queue=r,r=r.dispatch=j2.bind(null,ot,r),[d.memoizedState,r]},useRef:function(r){var a=Vn();return r={current:r},a.memoizedState=r},useState:Vh,useDebugValue:Gc,useDeferredValue:function(r){return Vn().memoizedState=r},useTransition:function(){var r=Vh(!1),a=r[0];return r=w2.bind(null,r[1]),Vn().memoizedState=r,[a,r]},useMutableSource:function(){},useSyncExternalStore:function(r,a,l){var d=ot,g=Vn();if(rt){if(l===void 0)throw Error(t(407));l=l()}else{if(l=a(),Nt===null)throw Error(t(349));(ha&30)!==0||Dh(d,a,l)}g.memoizedState=l;var x={value:l,getSnapshot:a};return g.queue=x,qh(Oh.bind(null,d,x,r),[r]),d.flags|=2048,is(9,Lh.bind(null,d,x,l,a),void 0,null),l},useId:function(){var r=Vn(),a=Nt.identifierPrefix;if(rt){var l=nr,d=tr;l=(d&~(1<<32-Wt(d)-1)).toString(32)+l,a=":"+a+"R"+l,l=rs++,0<l&&(a+="H"+l.toString(32)),a+=":"}else l=v2++,a=":"+a+"r"+l.toString(32)+":";return r.memoizedState=a},unstable_isNewReconciler:!1},k2={readContext:hn,useCallback:Kh,useContext:hn,useEffect:Kc,useImperativeHandle:Yh,useInsertionEffect:Wh,useLayoutEffect:Hh,useMemo:Gh,useReducer:Uc,useRef:Bh,useState:function(){return Uc(as)},useDebugValue:Gc,useDeferredValue:function(r){var a=fn();return Xh(a,vt.memoizedState,r)},useTransition:function(){var r=Uc(as)[0],a=fn().memoizedState;return[r,a]},useMutableSource:Ih,useSyncExternalStore:Rh,useId:Zh,unstable_isNewReconciler:!1},_2={readContext:hn,useCallback:Kh,useContext:hn,useEffect:Kc,useImperativeHandle:Yh,useInsertionEffect:Wh,useLayoutEffect:Hh,useMemo:Gh,useReducer:Yc,useRef:Bh,useState:function(){return Yc(as)},useDebugValue:Gc,useDeferredValue:function(r){var a=fn();return vt===null?a.memoizedState=r:Xh(a,vt.memoizedState,r)},useTransition:function(){var r=Yc(as)[0],a=fn().memoizedState;return[r,a]},useMutableSource:Ih,useSyncExternalStore:Rh,useId:Zh,unstable_isNewReconciler:!1};function kn(r,a){if(r&&r.defaultProps){a=se({},a),r=r.defaultProps;for(var l in r)a[l]===void 0&&(a[l]=r[l]);return a}return a}function Xc(r,a,l,d){a=r.memoizedState,l=l(d,a),l=l==null?a:se({},a,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var Vo={isMounted:function(r){return(r=r._reactInternals)?Ln(r)===r:!1},enqueueSetState:function(r,a,l){r=r._reactInternals;var d=$t(),g=Rr(r),x=ar(d,g);x.payload=a,l!=null&&(x.callback=l),a=Er(r,x,g),a!==null&&(zn(a,r,g,d),Ao(a,r,g))},enqueueReplaceState:function(r,a,l){r=r._reactInternals;var d=$t(),g=Rr(r),x=ar(d,g);x.tag=1,x.payload=a,l!=null&&(x.callback=l),a=Er(r,x,g),a!==null&&(zn(a,r,g,d),Ao(a,r,g))},enqueueForceUpdate:function(r,a){r=r._reactInternals;var l=$t(),d=Rr(r),g=ar(l,d);g.tag=2,a!=null&&(g.callback=a),a=Er(r,g,d),a!==null&&(zn(a,r,d,l),Ao(a,r,d))}};function tf(r,a,l,d,g,x,w){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(d,x,w):a.prototype&&a.prototype.isPureReactComponent?!Hi(l,d)||!Hi(g,x):!0}function nf(r,a,l){var d=!1,g=zr,x=a.contextType;return typeof x=="object"&&x!==null?x=hn(x):(g=Ut(a)?oa:Pt.current,d=a.contextTypes,x=(d=d!=null)?Wa(r,g):zr),a=new a(l,x),r.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Vo,r.stateNode=a,a._reactInternals=r,d&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=g,r.__reactInternalMemoizedMaskedChildContext=x),a}function rf(r,a,l,d){r=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,d),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,d),a.state!==r&&Vo.enqueueReplaceState(a,a.state,null)}function Zc(r,a,l,d){var g=r.stateNode;g.props=l,g.state=r.memoizedState,g.refs={},Lc(r);var x=a.contextType;typeof x=="object"&&x!==null?g.context=hn(x):(x=Ut(a)?oa:Pt.current,g.context=Wa(r,x)),g.state=r.memoizedState,x=a.getDerivedStateFromProps,typeof x=="function"&&(Xc(r,a,x,l),g.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(a=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),a!==g.state&&Vo.enqueueReplaceState(g,g.state,null),Io(r,l,g,d),g.state=r.memoizedState),typeof g.componentDidMount=="function"&&(r.flags|=4194308)}function Qa(r,a){try{var l="",d=a;do l+=Le(d),d=d.return;while(d);var g=l}catch(x){g=`
Error generating stack: `+x.message+`
`+x.stack}return{value:r,source:a,stack:g,digest:null}}function Qc(r,a,l){return{value:r,source:null,stack:l??null,digest:a??null}}function Jc(r,a){try{console.error(a.value)}catch(l){setTimeout(function(){throw l})}}var C2=typeof WeakMap=="function"?WeakMap:Map;function af(r,a,l){l=ar(-1,l),l.tag=3,l.payload={element:null};var d=a.value;return l.callback=function(){Ko||(Ko=!0,mu=d),Jc(r,a)},l}function sf(r,a,l){l=ar(-1,l),l.tag=3;var d=r.type.getDerivedStateFromError;if(typeof d=="function"){var g=a.value;l.payload=function(){return d(g)},l.callback=function(){Jc(r,a)}}var x=r.stateNode;return x!==null&&typeof x.componentDidCatch=="function"&&(l.callback=function(){Jc(r,a),typeof d!="function"&&(Ar===null?Ar=new Set([this]):Ar.add(this));var w=a.stack;this.componentDidCatch(a.value,{componentStack:w!==null?w:""})}),l}function of(r,a,l){var d=r.pingCache;if(d===null){d=r.pingCache=new C2;var g=new Set;d.set(a,g)}else g=d.get(a),g===void 0&&(g=new Set,d.set(a,g));g.has(l)||(g.add(l),r=V2.bind(null,r,a,l),a.then(r,r))}function lf(r){do{var a;if((a=r.tag===13)&&(a=r.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return r;r=r.return}while(r!==null);return null}function cf(r,a,l,d,g){return(r.mode&1)===0?(r===a?r.flags|=65536:(r.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(a=ar(-1,1),a.tag=2,Er(l,a,1))),l.lanes|=1),r):(r.flags|=65536,r.lanes=g,r)}var z2=z.ReactCurrentOwner,Yt=!1;function Ot(r,a,l,d){a.child=r===null?zh(a,null,l,d):Ka(a,r.child,l,d)}function uf(r,a,l,d,g){l=l.render;var x=a.ref;return Xa(a,g),d=Wc(r,a,l,d,x,g),l=Hc(),r!==null&&!Yt?(a.updateQueue=r.updateQueue,a.flags&=-2053,r.lanes&=~g,ir(r,a,g)):(rt&&l&&Cc(a),a.flags|=1,Ot(r,a,d,g),a.child)}function df(r,a,l,d,g){if(r===null){var x=l.type;return typeof x=="function"&&!wu(x)&&x.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(a.tag=15,a.type=x,hf(r,a,x,d,g)):(r=el(l.type,null,d,a,a.mode,g),r.ref=a.ref,r.return=a,a.child=r)}if(x=r.child,(r.lanes&g)===0){var w=x.memoizedProps;if(l=l.compare,l=l!==null?l:Hi,l(w,d)&&r.ref===a.ref)return ir(r,a,g)}return a.flags|=1,r=Lr(x,d),r.ref=a.ref,r.return=a,a.child=r}function hf(r,a,l,d,g){if(r!==null){var x=r.memoizedProps;if(Hi(x,d)&&r.ref===a.ref)if(Yt=!1,a.pendingProps=d=x,(r.lanes&g)!==0)(r.flags&131072)!==0&&(Yt=!0);else return a.lanes=r.lanes,ir(r,a,g)}return eu(r,a,l,d,g)}function ff(r,a,l){var d=a.pendingProps,g=d.children,x=r!==null?r.memoizedState:null;if(d.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},Qe(ei,rn),rn|=l;else{if((l&1073741824)===0)return r=x!==null?x.baseLanes|l:l,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:r,cachePool:null,transitions:null},a.updateQueue=null,Qe(ei,rn),rn|=r,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=x!==null?x.baseLanes:l,Qe(ei,rn),rn|=d}else x!==null?(d=x.baseLanes|l,a.memoizedState=null):d=l,Qe(ei,rn),rn|=d;return Ot(r,a,g,l),a.child}function mf(r,a){var l=a.ref;(r===null&&l!==null||r!==null&&r.ref!==l)&&(a.flags|=512,a.flags|=2097152)}function eu(r,a,l,d,g){var x=Ut(l)?oa:Pt.current;return x=Wa(a,x),Xa(a,g),l=Wc(r,a,l,d,x,g),d=Hc(),r!==null&&!Yt?(a.updateQueue=r.updateQueue,a.flags&=-2053,r.lanes&=~g,ir(r,a,g)):(rt&&d&&Cc(a),a.flags|=1,Ot(r,a,l,g),a.child)}function pf(r,a,l,d,g){if(Ut(l)){var x=!0;ko(a)}else x=!1;if(Xa(a,g),a.stateNode===null)qo(r,a),nf(a,l,d),Zc(a,l,d,g),d=!0;else if(r===null){var w=a.stateNode,P=a.memoizedProps;w.props=P;var I=w.context,q=l.contextType;typeof q=="object"&&q!==null?q=hn(q):(q=Ut(l)?oa:Pt.current,q=Wa(a,q));var ne=l.getDerivedStateFromProps,ae=typeof ne=="function"||typeof w.getSnapshotBeforeUpdate=="function";ae||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(P!==d||I!==q)&&rf(a,w,d,q),Pr=!1;var J=a.memoizedState;w.state=J,Io(a,d,w,g),I=a.memoizedState,P!==d||J!==I||Ht.current||Pr?(typeof ne=="function"&&(Xc(a,l,ne,d),I=a.memoizedState),(P=Pr||tf(a,l,P,d,J,I,q))?(ae||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(a.flags|=4194308)):(typeof w.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=d,a.memoizedState=I),w.props=d,w.state=I,w.context=q,d=P):(typeof w.componentDidMount=="function"&&(a.flags|=4194308),d=!1)}else{w=a.stateNode,Ph(r,a),P=a.memoizedProps,q=a.type===a.elementType?P:kn(a.type,P),w.props=q,ae=a.pendingProps,J=w.context,I=l.contextType,typeof I=="object"&&I!==null?I=hn(I):(I=Ut(l)?oa:Pt.current,I=Wa(a,I));var fe=l.getDerivedStateFromProps;(ne=typeof fe=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(P!==ae||J!==I)&&rf(a,w,d,I),Pr=!1,J=a.memoizedState,w.state=J,Io(a,d,w,g);var xe=a.memoizedState;P!==ae||J!==xe||Ht.current||Pr?(typeof fe=="function"&&(Xc(a,l,fe,d),xe=a.memoizedState),(q=Pr||tf(a,l,q,d,J,xe,I)||!1)?(ne||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(d,xe,I),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(d,xe,I)),typeof w.componentDidUpdate=="function"&&(a.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof w.componentDidUpdate!="function"||P===r.memoizedProps&&J===r.memoizedState||(a.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||P===r.memoizedProps&&J===r.memoizedState||(a.flags|=1024),a.memoizedProps=d,a.memoizedState=xe),w.props=d,w.state=xe,w.context=I,d=q):(typeof w.componentDidUpdate!="function"||P===r.memoizedProps&&J===r.memoizedState||(a.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||P===r.memoizedProps&&J===r.memoizedState||(a.flags|=1024),d=!1)}return tu(r,a,l,d,x,g)}function tu(r,a,l,d,g,x){mf(r,a);var w=(a.flags&128)!==0;if(!d&&!w)return g&&bh(a,l,!1),ir(r,a,x);d=a.stateNode,z2.current=a;var P=w&&typeof l.getDerivedStateFromError!="function"?null:d.render();return a.flags|=1,r!==null&&w?(a.child=Ka(a,r.child,null,x),a.child=Ka(a,null,P,x)):Ot(r,a,P,x),a.memoizedState=d.state,g&&bh(a,l,!0),a.child}function gf(r){var a=r.stateNode;a.pendingContext?xh(r,a.pendingContext,a.pendingContext!==a.context):a.context&&xh(r,a.context,!1),Oc(r,a.containerInfo)}function xf(r,a,l,d,g){return Ya(),Ec(g),a.flags|=256,Ot(r,a,l,d),a.child}var nu={dehydrated:null,treeContext:null,retryLane:0};function ru(r){return{baseLanes:r,cachePool:null,transitions:null}}function yf(r,a,l){var d=a.pendingProps,g=st.current,x=!1,w=(a.flags&128)!==0,P;if((P=w)||(P=r!==null&&r.memoizedState===null?!1:(g&2)!==0),P?(x=!0,a.flags&=-129):(r===null||r.memoizedState!==null)&&(g|=1),Qe(st,g&1),r===null)return Pc(a),r=a.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((a.mode&1)===0?a.lanes=1:r.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(w=d.children,r=d.fallback,x?(d=a.mode,x=a.child,w={mode:"hidden",children:w},(d&1)===0&&x!==null?(x.childLanes=0,x.pendingProps=w):x=tl(w,d,0,null),r=xa(r,d,l,null),x.return=a,r.return=a,x.sibling=r,a.child=x,a.child.memoizedState=ru(l),a.memoizedState=nu,r):au(a,w));if(g=r.memoizedState,g!==null&&(P=g.dehydrated,P!==null))return T2(r,a,w,d,P,g,l);if(x){x=d.fallback,w=a.mode,g=r.child,P=g.sibling;var I={mode:"hidden",children:d.children};return(w&1)===0&&a.child!==g?(d=a.child,d.childLanes=0,d.pendingProps=I,a.deletions=null):(d=Lr(g,I),d.subtreeFlags=g.subtreeFlags&14680064),P!==null?x=Lr(P,x):(x=xa(x,w,l,null),x.flags|=2),x.return=a,d.return=a,d.sibling=x,a.child=d,d=x,x=a.child,w=r.child.memoizedState,w=w===null?ru(l):{baseLanes:w.baseLanes|l,cachePool:null,transitions:w.transitions},x.memoizedState=w,x.childLanes=r.childLanes&~l,a.memoizedState=nu,d}return x=r.child,r=x.sibling,d=Lr(x,{mode:"visible",children:d.children}),(a.mode&1)===0&&(d.lanes=l),d.return=a,d.sibling=null,r!==null&&(l=a.deletions,l===null?(a.deletions=[r],a.flags|=16):l.push(r)),a.child=d,a.memoizedState=null,d}function au(r,a){return a=tl({mode:"visible",children:a},r.mode,0,null),a.return=r,r.child=a}function Bo(r,a,l,d){return d!==null&&Ec(d),Ka(a,r.child,null,l),r=au(a,a.pendingProps.children),r.flags|=2,a.memoizedState=null,r}function T2(r,a,l,d,g,x,w){if(l)return a.flags&256?(a.flags&=-257,d=Qc(Error(t(422))),Bo(r,a,w,d)):a.memoizedState!==null?(a.child=r.child,a.flags|=128,null):(x=d.fallback,g=a.mode,d=tl({mode:"visible",children:d.children},g,0,null),x=xa(x,g,w,null),x.flags|=2,d.return=a,x.return=a,d.sibling=x,a.child=d,(a.mode&1)!==0&&Ka(a,r.child,null,w),a.child.memoizedState=ru(w),a.memoizedState=nu,x);if((a.mode&1)===0)return Bo(r,a,w,null);if(g.data==="$!"){if(d=g.nextSibling&&g.nextSibling.dataset,d)var P=d.dgst;return d=P,x=Error(t(419)),d=Qc(x,d,void 0),Bo(r,a,w,d)}if(P=(w&r.childLanes)!==0,Yt||P){if(d=Nt,d!==null){switch(w&-w){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=(g&(d.suspendedLanes|w))!==0?0:g,g!==0&&g!==x.retryLane&&(x.retryLane=g,rr(r,g),zn(d,r,g,-1))}return vu(),d=Qc(Error(t(421))),Bo(r,a,w,d)}return g.data==="$?"?(a.flags|=128,a.child=r.child,a=B2.bind(null,r),g._reactRetry=a,null):(r=x.treeContext,nn=_r(g.nextSibling),tn=a,rt=!0,Sn=null,r!==null&&(un[dn++]=tr,un[dn++]=nr,un[dn++]=la,tr=r.id,nr=r.overflow,la=a),a=au(a,d.children),a.flags|=4096,a)}function bf(r,a,l){r.lanes|=a;var d=r.alternate;d!==null&&(d.lanes|=a),Rc(r.return,a,l)}function iu(r,a,l,d,g){var x=r.memoizedState;x===null?r.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:g}:(x.isBackwards=a,x.rendering=null,x.renderingStartTime=0,x.last=d,x.tail=l,x.tailMode=g)}function vf(r,a,l){var d=a.pendingProps,g=d.revealOrder,x=d.tail;if(Ot(r,a,d.children,l),d=st.current,(d&2)!==0)d=d&1|2,a.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=a.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&bf(r,l,a);else if(r.tag===19)bf(r,l,a);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===a)break e;for(;r.sibling===null;){if(r.return===null||r.return===a)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}d&=1}if(Qe(st,d),(a.mode&1)===0)a.memoizedState=null;else switch(g){case"forwards":for(l=a.child,g=null;l!==null;)r=l.alternate,r!==null&&Ro(r)===null&&(g=l),l=l.sibling;l=g,l===null?(g=a.child,a.child=null):(g=l.sibling,l.sibling=null),iu(a,!1,g,l,x);break;case"backwards":for(l=null,g=a.child,a.child=null;g!==null;){if(r=g.alternate,r!==null&&Ro(r)===null){a.child=g;break}r=g.sibling,g.sibling=l,l=g,g=r}iu(a,!0,l,null,x);break;case"together":iu(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function qo(r,a){(a.mode&1)===0&&r!==null&&(r.alternate=null,a.alternate=null,a.flags|=2)}function ir(r,a,l){if(r!==null&&(a.dependencies=r.dependencies),fa|=a.lanes,(l&a.childLanes)===0)return null;if(r!==null&&a.child!==r.child)throw Error(t(153));if(a.child!==null){for(r=a.child,l=Lr(r,r.pendingProps),a.child=l,l.return=a;r.sibling!==null;)r=r.sibling,l=l.sibling=Lr(r,r.pendingProps),l.return=a;l.sibling=null}return a.child}function P2(r,a,l){switch(a.tag){case 3:gf(a),Ya();break;case 5:Ah(a);break;case 1:Ut(a.type)&&ko(a);break;case 4:Oc(a,a.stateNode.containerInfo);break;case 10:var d=a.type._context,g=a.memoizedProps.value;Qe(Eo,d._currentValue),d._currentValue=g;break;case 13:if(d=a.memoizedState,d!==null)return d.dehydrated!==null?(Qe(st,st.current&1),a.flags|=128,null):(l&a.child.childLanes)!==0?yf(r,a,l):(Qe(st,st.current&1),r=ir(r,a,l),r!==null?r.sibling:null);Qe(st,st.current&1);break;case 19:if(d=(l&a.childLanes)!==0,(r.flags&128)!==0){if(d)return vf(r,a,l);a.flags|=128}if(g=a.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),Qe(st,st.current),d)break;return null;case 22:case 23:return a.lanes=0,ff(r,a,l)}return ir(r,a,l)}var wf,su,jf,Nf;wf=function(r,a){for(var l=a.child;l!==null;){if(l.tag===5||l.tag===6)r.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},su=function(){},jf=function(r,a,l,d){var g=r.memoizedProps;if(g!==d){r=a.stateNode,da(Fn.current);var x=null;switch(l){case"input":g=Ae(r,g),d=Ae(r,d),x=[];break;case"select":g=se({},g,{value:void 0}),d=se({},d,{value:void 0}),x=[];break;case"textarea":g=sn(r,g),d=sn(r,d),x=[];break;default:typeof g.onClick!="function"&&typeof d.onClick=="function"&&(r.onclick=jo)}gr(l,d);var w;l=null;for(q in g)if(!d.hasOwnProperty(q)&&g.hasOwnProperty(q)&&g[q]!=null)if(q==="style"){var P=g[q];for(w in P)P.hasOwnProperty(w)&&(l||(l={}),l[w]="")}else q!=="dangerouslySetInnerHTML"&&q!=="children"&&q!=="suppressContentEditableWarning"&&q!=="suppressHydrationWarning"&&q!=="autoFocus"&&(o.hasOwnProperty(q)?x||(x=[]):(x=x||[]).push(q,null));for(q in d){var I=d[q];if(P=g!=null?g[q]:void 0,d.hasOwnProperty(q)&&I!==P&&(I!=null||P!=null))if(q==="style")if(P){for(w in P)!P.hasOwnProperty(w)||I&&I.hasOwnProperty(w)||(l||(l={}),l[w]="");for(w in I)I.hasOwnProperty(w)&&P[w]!==I[w]&&(l||(l={}),l[w]=I[w])}else l||(x||(x=[]),x.push(q,l)),l=I;else q==="dangerouslySetInnerHTML"?(I=I?I.__html:void 0,P=P?P.__html:void 0,I!=null&&P!==I&&(x=x||[]).push(q,I)):q==="children"?typeof I!="string"&&typeof I!="number"||(x=x||[]).push(q,""+I):q!=="suppressContentEditableWarning"&&q!=="suppressHydrationWarning"&&(o.hasOwnProperty(q)?(I!=null&&q==="onScroll"&&Je("scroll",r),x||P===I||(x=[])):(x=x||[]).push(q,I))}l&&(x=x||[]).push("style",l);var q=x;(a.updateQueue=q)&&(a.flags|=4)}},Nf=function(r,a,l,d){l!==d&&(a.flags|=4)};function ss(r,a){if(!rt)switch(r.tailMode){case"hidden":a=r.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?a||r.tail===null?r.tail=null:r.tail.sibling=null:d.sibling=null}}function Mt(r){var a=r.alternate!==null&&r.alternate.child===r.child,l=0,d=0;if(a)for(var g=r.child;g!==null;)l|=g.lanes|g.childLanes,d|=g.subtreeFlags&14680064,d|=g.flags&14680064,g.return=r,g=g.sibling;else for(g=r.child;g!==null;)l|=g.lanes|g.childLanes,d|=g.subtreeFlags,d|=g.flags,g.return=r,g=g.sibling;return r.subtreeFlags|=d,r.childLanes=l,a}function E2(r,a,l){var d=a.pendingProps;switch(zc(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mt(a),null;case 1:return Ut(a.type)&&So(),Mt(a),null;case 3:return d=a.stateNode,Za(),et(Ht),et(Pt),Vc(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(r===null||r.child===null)&&(To(a)?a.flags|=4:r===null||r.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Sn!==null&&(xu(Sn),Sn=null))),su(r,a),Mt(a),null;case 5:$c(a);var g=da(ts.current);if(l=a.type,r!==null&&a.stateNode!=null)jf(r,a,l,d,g),r.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!d){if(a.stateNode===null)throw Error(t(166));return Mt(a),null}if(r=da(Fn.current),To(a)){d=a.stateNode,l=a.type;var x=a.memoizedProps;switch(d[$n]=a,d[Xi]=x,r=(a.mode&1)!==0,l){case"dialog":Je("cancel",d),Je("close",d);break;case"iframe":case"object":case"embed":Je("load",d);break;case"video":case"audio":for(g=0;g<Yi.length;g++)Je(Yi[g],d);break;case"source":Je("error",d);break;case"img":case"image":case"link":Je("error",d),Je("load",d);break;case"details":Je("toggle",d);break;case"input":Me(d,x),Je("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!x.multiple},Je("invalid",d);break;case"textarea":Ta(d,x),Je("invalid",d)}gr(l,x),g=null;for(var w in x)if(x.hasOwnProperty(w)){var P=x[w];w==="children"?typeof P=="string"?d.textContent!==P&&(x.suppressHydrationWarning!==!0&&wo(d.textContent,P,r),g=["children",P]):typeof P=="number"&&d.textContent!==""+P&&(x.suppressHydrationWarning!==!0&&wo(d.textContent,P,r),g=["children",""+P]):o.hasOwnProperty(w)&&P!=null&&w==="onScroll"&&Je("scroll",d)}switch(l){case"input":E(d),Tt(d,x,!0);break;case"textarea":E(d),mr(d);break;case"select":case"option":break;default:typeof x.onClick=="function"&&(d.onclick=jo)}d=g,a.updateQueue=d,d!==null&&(a.flags|=4)}else{w=g.nodeType===9?g:g.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=Kr(l)),r==="http://www.w3.org/1999/xhtml"?l==="script"?(r=w.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof d.is=="string"?r=w.createElement(l,{is:d.is}):(r=w.createElement(l),l==="select"&&(w=r,d.multiple?w.multiple=!0:d.size&&(w.size=d.size))):r=w.createElementNS(r,l),r[$n]=a,r[Xi]=d,wf(r,a,!1,!1),a.stateNode=r;e:{switch(w=xr(l,d),l){case"dialog":Je("cancel",r),Je("close",r),g=d;break;case"iframe":case"object":case"embed":Je("load",r),g=d;break;case"video":case"audio":for(g=0;g<Yi.length;g++)Je(Yi[g],r);g=d;break;case"source":Je("error",r),g=d;break;case"img":case"image":case"link":Je("error",r),Je("load",r),g=d;break;case"details":Je("toggle",r),g=d;break;case"input":Me(r,d),g=Ae(r,d),Je("invalid",r);break;case"option":g=d;break;case"select":r._wrapperState={wasMultiple:!!d.multiple},g=se({},d,{value:void 0}),Je("invalid",r);break;case"textarea":Ta(r,d),g=sn(r,d),Je("invalid",r);break;default:g=d}gr(l,g),P=g;for(x in P)if(P.hasOwnProperty(x)){var I=P[x];x==="style"?Zr(r,I):x==="dangerouslySetInnerHTML"?(I=I?I.__html:void 0,I!=null&&Gr(r,I)):x==="children"?typeof I=="string"?(l!=="textarea"||I!=="")&&Rn(r,I):typeof I=="number"&&Rn(r,""+I):x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&x!=="autoFocus"&&(o.hasOwnProperty(x)?I!=null&&x==="onScroll"&&Je("scroll",r):I!=null&&_(r,x,I,w))}switch(l){case"input":E(r),Tt(r,d,!1);break;case"textarea":E(r),mr(r);break;case"option":d.value!=null&&r.setAttribute("value",""+Oe(d.value));break;case"select":r.multiple=!!d.multiple,x=d.value,x!=null?Ge(r,!!d.multiple,x,!1):d.defaultValue!=null&&Ge(r,!!d.multiple,d.defaultValue,!0);break;default:typeof g.onClick=="function"&&(r.onclick=jo)}switch(l){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return Mt(a),null;case 6:if(r&&a.stateNode!=null)Nf(r,a,r.memoizedProps,d);else{if(typeof d!="string"&&a.stateNode===null)throw Error(t(166));if(l=da(ts.current),da(Fn.current),To(a)){if(d=a.stateNode,l=a.memoizedProps,d[$n]=a,(x=d.nodeValue!==l)&&(r=tn,r!==null))switch(r.tag){case 3:wo(d.nodeValue,l,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&wo(d.nodeValue,l,(r.mode&1)!==0)}x&&(a.flags|=4)}else d=(l.nodeType===9?l:l.ownerDocument).createTextNode(d),d[$n]=a,a.stateNode=d}return Mt(a),null;case 13:if(et(st),d=a.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(rt&&nn!==null&&(a.mode&1)!==0&&(a.flags&128)===0)kh(),Ya(),a.flags|=98560,x=!1;else if(x=To(a),d!==null&&d.dehydrated!==null){if(r===null){if(!x)throw Error(t(318));if(x=a.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(t(317));x[$n]=a}else Ya(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Mt(a),x=!1}else Sn!==null&&(xu(Sn),Sn=null),x=!0;if(!x)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=l,a):(d=d!==null,d!==(r!==null&&r.memoizedState!==null)&&d&&(a.child.flags|=8192,(a.mode&1)!==0&&(r===null||(st.current&1)!==0?wt===0&&(wt=3):vu())),a.updateQueue!==null&&(a.flags|=4),Mt(a),null);case 4:return Za(),su(r,a),r===null&&Ki(a.stateNode.containerInfo),Mt(a),null;case 10:return Ic(a.type._context),Mt(a),null;case 17:return Ut(a.type)&&So(),Mt(a),null;case 19:if(et(st),x=a.memoizedState,x===null)return Mt(a),null;if(d=(a.flags&128)!==0,w=x.rendering,w===null)if(d)ss(x,!1);else{if(wt!==0||r!==null&&(r.flags&128)!==0)for(r=a.child;r!==null;){if(w=Ro(r),w!==null){for(a.flags|=128,ss(x,!1),d=w.updateQueue,d!==null&&(a.updateQueue=d,a.flags|=4),a.subtreeFlags=0,d=l,l=a.child;l!==null;)x=l,r=d,x.flags&=14680066,w=x.alternate,w===null?(x.childLanes=0,x.lanes=r,x.child=null,x.subtreeFlags=0,x.memoizedProps=null,x.memoizedState=null,x.updateQueue=null,x.dependencies=null,x.stateNode=null):(x.childLanes=w.childLanes,x.lanes=w.lanes,x.child=w.child,x.subtreeFlags=0,x.deletions=null,x.memoizedProps=w.memoizedProps,x.memoizedState=w.memoizedState,x.updateQueue=w.updateQueue,x.type=w.type,r=w.dependencies,x.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),l=l.sibling;return Qe(st,st.current&1|2),a.child}r=r.sibling}x.tail!==null&&nt()>ti&&(a.flags|=128,d=!0,ss(x,!1),a.lanes=4194304)}else{if(!d)if(r=Ro(w),r!==null){if(a.flags|=128,d=!0,l=r.updateQueue,l!==null&&(a.updateQueue=l,a.flags|=4),ss(x,!0),x.tail===null&&x.tailMode==="hidden"&&!w.alternate&&!rt)return Mt(a),null}else 2*nt()-x.renderingStartTime>ti&&l!==1073741824&&(a.flags|=128,d=!0,ss(x,!1),a.lanes=4194304);x.isBackwards?(w.sibling=a.child,a.child=w):(l=x.last,l!==null?l.sibling=w:a.child=w,x.last=w)}return x.tail!==null?(a=x.tail,x.rendering=a,x.tail=a.sibling,x.renderingStartTime=nt(),a.sibling=null,l=st.current,Qe(st,d?l&1|2:l&1),a):(Mt(a),null);case 22:case 23:return bu(),d=a.memoizedState!==null,r!==null&&r.memoizedState!==null!==d&&(a.flags|=8192),d&&(a.mode&1)!==0?(rn&1073741824)!==0&&(Mt(a),a.subtreeFlags&6&&(a.flags|=8192)):Mt(a),null;case 24:return null;case 25:return null}throw Error(t(156,a.tag))}function M2(r,a){switch(zc(a),a.tag){case 1:return Ut(a.type)&&So(),r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 3:return Za(),et(Ht),et(Pt),Vc(),r=a.flags,(r&65536)!==0&&(r&128)===0?(a.flags=r&-65537|128,a):null;case 5:return $c(a),null;case 13:if(et(st),r=a.memoizedState,r!==null&&r.dehydrated!==null){if(a.alternate===null)throw Error(t(340));Ya()}return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 19:return et(st),null;case 4:return Za(),null;case 10:return Ic(a.type._context),null;case 22:case 23:return bu(),null;case 24:return null;default:return null}}var Wo=!1,At=!1,A2=typeof WeakSet=="function"?WeakSet:Set,ge=null;function Ja(r,a){var l=r.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(d){dt(r,a,d)}else l.current=null}function ou(r,a,l){try{l()}catch(d){dt(r,a,d)}}var Sf=!1;function I2(r,a){if(bc=co,r=th(),dc(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var d=l.getSelection&&l.getSelection();if(d&&d.rangeCount!==0){l=d.anchorNode;var g=d.anchorOffset,x=d.focusNode;d=d.focusOffset;try{l.nodeType,x.nodeType}catch{l=null;break e}var w=0,P=-1,I=-1,q=0,ne=0,ae=r,J=null;t:for(;;){for(var fe;ae!==l||g!==0&&ae.nodeType!==3||(P=w+g),ae!==x||d!==0&&ae.nodeType!==3||(I=w+d),ae.nodeType===3&&(w+=ae.nodeValue.length),(fe=ae.firstChild)!==null;)J=ae,ae=fe;for(;;){if(ae===r)break t;if(J===l&&++q===g&&(P=w),J===x&&++ne===d&&(I=w),(fe=ae.nextSibling)!==null)break;ae=J,J=ae.parentNode}ae=fe}l=P===-1||I===-1?null:{start:P,end:I}}else l=null}l=l||{start:0,end:0}}else l=null;for(vc={focusedElem:r,selectionRange:l},co=!1,ge=a;ge!==null;)if(a=ge,r=a.child,(a.subtreeFlags&1028)!==0&&r!==null)r.return=a,ge=r;else for(;ge!==null;){a=ge;try{var xe=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(xe!==null){var ye=xe.memoizedProps,pt=xe.memoizedState,F=a.stateNode,D=F.getSnapshotBeforeUpdate(a.elementType===a.type?ye:kn(a.type,ye),pt);F.__reactInternalSnapshotBeforeUpdate=D}break;case 3:var V=a.stateNode.containerInfo;V.nodeType===1?V.textContent="":V.nodeType===9&&V.documentElement&&V.removeChild(V.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ie){dt(a,a.return,ie)}if(r=a.sibling,r!==null){r.return=a.return,ge=r;break}ge=a.return}return xe=Sf,Sf=!1,xe}function os(r,a,l){var d=a.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var g=d=d.next;do{if((g.tag&r)===r){var x=g.destroy;g.destroy=void 0,x!==void 0&&ou(a,l,x)}g=g.next}while(g!==d)}}function Ho(r,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var l=a=a.next;do{if((l.tag&r)===r){var d=l.create;l.destroy=d()}l=l.next}while(l!==a)}}function lu(r){var a=r.ref;if(a!==null){var l=r.stateNode;switch(r.tag){case 5:r=l;break;default:r=l}typeof a=="function"?a(r):a.current=r}}function kf(r){var a=r.alternate;a!==null&&(r.alternate=null,kf(a)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(a=r.stateNode,a!==null&&(delete a[$n],delete a[Xi],delete a[Sc],delete a[g2],delete a[x2])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function _f(r){return r.tag===5||r.tag===3||r.tag===4}function Cf(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||_f(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function cu(r,a,l){var d=r.tag;if(d===5||d===6)r=r.stateNode,a?l.nodeType===8?l.parentNode.insertBefore(r,a):l.insertBefore(r,a):(l.nodeType===8?(a=l.parentNode,a.insertBefore(r,l)):(a=l,a.appendChild(r)),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=jo));else if(d!==4&&(r=r.child,r!==null))for(cu(r,a,l),r=r.sibling;r!==null;)cu(r,a,l),r=r.sibling}function uu(r,a,l){var d=r.tag;if(d===5||d===6)r=r.stateNode,a?l.insertBefore(r,a):l.appendChild(r);else if(d!==4&&(r=r.child,r!==null))for(uu(r,a,l),r=r.sibling;r!==null;)uu(r,a,l),r=r.sibling}var kt=null,_n=!1;function Mr(r,a,l){for(l=l.child;l!==null;)zf(r,a,l),l=l.sibling}function zf(r,a,l){if(Jt&&typeof Jt.onCommitFiberUnmount=="function")try{Jt.onCommitFiberUnmount(ta,l)}catch{}switch(l.tag){case 5:At||Ja(l,a);case 6:var d=kt,g=_n;kt=null,Mr(r,a,l),kt=d,_n=g,kt!==null&&(_n?(r=kt,l=l.stateNode,r.nodeType===8?r.parentNode.removeChild(l):r.removeChild(l)):kt.removeChild(l.stateNode));break;case 18:kt!==null&&(_n?(r=kt,l=l.stateNode,r.nodeType===8?Nc(r.parentNode,l):r.nodeType===1&&Nc(r,l),$i(r)):Nc(kt,l.stateNode));break;case 4:d=kt,g=_n,kt=l.stateNode.containerInfo,_n=!0,Mr(r,a,l),kt=d,_n=g;break;case 0:case 11:case 14:case 15:if(!At&&(d=l.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){g=d=d.next;do{var x=g,w=x.destroy;x=x.tag,w!==void 0&&((x&2)!==0||(x&4)!==0)&&ou(l,a,w),g=g.next}while(g!==d)}Mr(r,a,l);break;case 1:if(!At&&(Ja(l,a),d=l.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=l.memoizedProps,d.state=l.memoizedState,d.componentWillUnmount()}catch(P){dt(l,a,P)}Mr(r,a,l);break;case 21:Mr(r,a,l);break;case 22:l.mode&1?(At=(d=At)||l.memoizedState!==null,Mr(r,a,l),At=d):Mr(r,a,l);break;default:Mr(r,a,l)}}function Tf(r){var a=r.updateQueue;if(a!==null){r.updateQueue=null;var l=r.stateNode;l===null&&(l=r.stateNode=new A2),a.forEach(function(d){var g=q2.bind(null,r,d);l.has(d)||(l.add(d),d.then(g,g))})}}function Cn(r,a){var l=a.deletions;if(l!==null)for(var d=0;d<l.length;d++){var g=l[d];try{var x=r,w=a,P=w;e:for(;P!==null;){switch(P.tag){case 5:kt=P.stateNode,_n=!1;break e;case 3:kt=P.stateNode.containerInfo,_n=!0;break e;case 4:kt=P.stateNode.containerInfo,_n=!0;break e}P=P.return}if(kt===null)throw Error(t(160));zf(x,w,g),kt=null,_n=!1;var I=g.alternate;I!==null&&(I.return=null),g.return=null}catch(q){dt(g,a,q)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)Pf(a,r),a=a.sibling}function Pf(r,a){var l=r.alternate,d=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(Cn(a,r),Bn(r),d&4){try{os(3,r,r.return),Ho(3,r)}catch(ye){dt(r,r.return,ye)}try{os(5,r,r.return)}catch(ye){dt(r,r.return,ye)}}break;case 1:Cn(a,r),Bn(r),d&512&&l!==null&&Ja(l,l.return);break;case 5:if(Cn(a,r),Bn(r),d&512&&l!==null&&Ja(l,l.return),r.flags&32){var g=r.stateNode;try{Rn(g,"")}catch(ye){dt(r,r.return,ye)}}if(d&4&&(g=r.stateNode,g!=null)){var x=r.memoizedProps,w=l!==null?l.memoizedProps:x,P=r.type,I=r.updateQueue;if(r.updateQueue=null,I!==null)try{P==="input"&&x.type==="radio"&&x.name!=null&&le(g,x),xr(P,w);var q=xr(P,x);for(w=0;w<I.length;w+=2){var ne=I[w],ae=I[w+1];ne==="style"?Zr(g,ae):ne==="dangerouslySetInnerHTML"?Gr(g,ae):ne==="children"?Rn(g,ae):_(g,ne,ae,q)}switch(P){case"input":Ye(g,x);break;case"textarea":Pa(g,x);break;case"select":var J=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!x.multiple;var fe=x.value;fe!=null?Ge(g,!!x.multiple,fe,!1):J!==!!x.multiple&&(x.defaultValue!=null?Ge(g,!!x.multiple,x.defaultValue,!0):Ge(g,!!x.multiple,x.multiple?[]:"",!1))}g[Xi]=x}catch(ye){dt(r,r.return,ye)}}break;case 6:if(Cn(a,r),Bn(r),d&4){if(r.stateNode===null)throw Error(t(162));g=r.stateNode,x=r.memoizedProps;try{g.nodeValue=x}catch(ye){dt(r,r.return,ye)}}break;case 3:if(Cn(a,r),Bn(r),d&4&&l!==null&&l.memoizedState.isDehydrated)try{$i(a.containerInfo)}catch(ye){dt(r,r.return,ye)}break;case 4:Cn(a,r),Bn(r);break;case 13:Cn(a,r),Bn(r),g=r.child,g.flags&8192&&(x=g.memoizedState!==null,g.stateNode.isHidden=x,!x||g.alternate!==null&&g.alternate.memoizedState!==null||(fu=nt())),d&4&&Tf(r);break;case 22:if(ne=l!==null&&l.memoizedState!==null,r.mode&1?(At=(q=At)||ne,Cn(a,r),At=q):Cn(a,r),Bn(r),d&8192){if(q=r.memoizedState!==null,(r.stateNode.isHidden=q)&&!ne&&(r.mode&1)!==0)for(ge=r,ne=r.child;ne!==null;){for(ae=ge=ne;ge!==null;){switch(J=ge,fe=J.child,J.tag){case 0:case 11:case 14:case 15:os(4,J,J.return);break;case 1:Ja(J,J.return);var xe=J.stateNode;if(typeof xe.componentWillUnmount=="function"){d=J,l=J.return;try{a=d,xe.props=a.memoizedProps,xe.state=a.memoizedState,xe.componentWillUnmount()}catch(ye){dt(d,l,ye)}}break;case 5:Ja(J,J.return);break;case 22:if(J.memoizedState!==null){Af(ae);continue}}fe!==null?(fe.return=J,ge=fe):Af(ae)}ne=ne.sibling}e:for(ne=null,ae=r;;){if(ae.tag===5){if(ne===null){ne=ae;try{g=ae.stateNode,q?(x=g.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none"):(P=ae.stateNode,I=ae.memoizedProps.style,w=I!=null&&I.hasOwnProperty("display")?I.display:null,P.style.display=Xr("display",w))}catch(ye){dt(r,r.return,ye)}}}else if(ae.tag===6){if(ne===null)try{ae.stateNode.nodeValue=q?"":ae.memoizedProps}catch(ye){dt(r,r.return,ye)}}else if((ae.tag!==22&&ae.tag!==23||ae.memoizedState===null||ae===r)&&ae.child!==null){ae.child.return=ae,ae=ae.child;continue}if(ae===r)break e;for(;ae.sibling===null;){if(ae.return===null||ae.return===r)break e;ne===ae&&(ne=null),ae=ae.return}ne===ae&&(ne=null),ae.sibling.return=ae.return,ae=ae.sibling}}break;case 19:Cn(a,r),Bn(r),d&4&&Tf(r);break;case 21:break;default:Cn(a,r),Bn(r)}}function Bn(r){var a=r.flags;if(a&2){try{e:{for(var l=r.return;l!==null;){if(_f(l)){var d=l;break e}l=l.return}throw Error(t(160))}switch(d.tag){case 5:var g=d.stateNode;d.flags&32&&(Rn(g,""),d.flags&=-33);var x=Cf(r);uu(r,x,g);break;case 3:case 4:var w=d.stateNode.containerInfo,P=Cf(r);cu(r,P,w);break;default:throw Error(t(161))}}catch(I){dt(r,r.return,I)}r.flags&=-3}a&4096&&(r.flags&=-4097)}function R2(r,a,l){ge=r,Ef(r)}function Ef(r,a,l){for(var d=(r.mode&1)!==0;ge!==null;){var g=ge,x=g.child;if(g.tag===22&&d){var w=g.memoizedState!==null||Wo;if(!w){var P=g.alternate,I=P!==null&&P.memoizedState!==null||At;P=Wo;var q=At;if(Wo=w,(At=I)&&!q)for(ge=g;ge!==null;)w=ge,I=w.child,w.tag===22&&w.memoizedState!==null?If(g):I!==null?(I.return=w,ge=I):If(g);for(;x!==null;)ge=x,Ef(x),x=x.sibling;ge=g,Wo=P,At=q}Mf(r)}else(g.subtreeFlags&8772)!==0&&x!==null?(x.return=g,ge=x):Mf(r)}}function Mf(r){for(;ge!==null;){var a=ge;if((a.flags&8772)!==0){var l=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:At||Ho(5,a);break;case 1:var d=a.stateNode;if(a.flags&4&&!At)if(l===null)d.componentDidMount();else{var g=a.elementType===a.type?l.memoizedProps:kn(a.type,l.memoizedProps);d.componentDidUpdate(g,l.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var x=a.updateQueue;x!==null&&Mh(a,x,d);break;case 3:var w=a.updateQueue;if(w!==null){if(l=null,a.child!==null)switch(a.child.tag){case 5:l=a.child.stateNode;break;case 1:l=a.child.stateNode}Mh(a,w,l)}break;case 5:var P=a.stateNode;if(l===null&&a.flags&4){l=P;var I=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":I.autoFocus&&l.focus();break;case"img":I.src&&(l.src=I.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var q=a.alternate;if(q!==null){var ne=q.memoizedState;if(ne!==null){var ae=ne.dehydrated;ae!==null&&$i(ae)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}At||a.flags&512&&lu(a)}catch(J){dt(a,a.return,J)}}if(a===r){ge=null;break}if(l=a.sibling,l!==null){l.return=a.return,ge=l;break}ge=a.return}}function Af(r){for(;ge!==null;){var a=ge;if(a===r){ge=null;break}var l=a.sibling;if(l!==null){l.return=a.return,ge=l;break}ge=a.return}}function If(r){for(;ge!==null;){var a=ge;try{switch(a.tag){case 0:case 11:case 15:var l=a.return;try{Ho(4,a)}catch(I){dt(a,l,I)}break;case 1:var d=a.stateNode;if(typeof d.componentDidMount=="function"){var g=a.return;try{d.componentDidMount()}catch(I){dt(a,g,I)}}var x=a.return;try{lu(a)}catch(I){dt(a,x,I)}break;case 5:var w=a.return;try{lu(a)}catch(I){dt(a,w,I)}}}catch(I){dt(a,a.return,I)}if(a===r){ge=null;break}var P=a.sibling;if(P!==null){P.return=a.return,ge=P;break}ge=a.return}}var D2=Math.ceil,Uo=z.ReactCurrentDispatcher,du=z.ReactCurrentOwner,mn=z.ReactCurrentBatchConfig,Ve=0,Nt=null,yt=null,_t=0,rn=0,ei=Cr(0),wt=0,ls=null,fa=0,Yo=0,hu=0,cs=null,Kt=null,fu=0,ti=1/0,sr=null,Ko=!1,mu=null,Ar=null,Go=!1,Ir=null,Xo=0,us=0,pu=null,Zo=-1,Qo=0;function $t(){return(Ve&6)!==0?nt():Zo!==-1?Zo:Zo=nt()}function Rr(r){return(r.mode&1)===0?1:(Ve&2)!==0&&_t!==0?_t&-_t:b2.transition!==null?(Qo===0&&(Qo=je()),Qo):(r=Ke,r!==0||(r=window.event,r=r===void 0?16:R0(r.type)),r)}function zn(r,a,l,d){if(50<us)throw us=0,pu=null,Error(t(185));Lt(r,l,d),((Ve&2)===0||r!==Nt)&&(r===Nt&&((Ve&2)===0&&(Yo|=l),wt===4&&Dr(r,_t)),Gt(r,d),l===1&&Ve===0&&(a.mode&1)===0&&(ti=nt()+500,_o&&Tr()))}function Gt(r,a){var l=r.callbackNode;Ne(r,a);var d=aa(r,r===Nt?_t:0);if(d===0)l!==null&&Mi(l),r.callbackNode=null,r.callbackPriority=0;else if(a=d&-d,r.callbackPriority!==a){if(l!=null&&Mi(l),a===1)r.tag===0?y2(Df.bind(null,r)):vh(Df.bind(null,r)),m2(function(){(Ve&6)===0&&Tr()}),l=null;else{switch(C0(d)){case 1:l=Ia;break;case 4:l=Ai;break;case 16:l=ea;break;case 536870912:l=Ii;break;default:l=ea}l=Wf(l,Rf.bind(null,r))}r.callbackPriority=a,r.callbackNode=l}}function Rf(r,a){if(Zo=-1,Qo=0,(Ve&6)!==0)throw Error(t(327));var l=r.callbackNode;if(ni()&&r.callbackNode!==l)return null;var d=aa(r,r===Nt?_t:0);if(d===0)return null;if((d&30)!==0||(d&r.expiredLanes)!==0||a)a=Jo(r,d);else{a=d;var g=Ve;Ve|=2;var x=Of();(Nt!==r||_t!==a)&&(sr=null,ti=nt()+500,pa(r,a));do try{$2();break}catch(P){Lf(r,P)}while(!0);Ac(),Uo.current=x,Ve=g,yt!==null?a=0:(Nt=null,_t=0,a=wt)}if(a!==0){if(a===2&&(g=oe(r),g!==0&&(d=g,a=gu(r,g))),a===1)throw l=ls,pa(r,0),Dr(r,d),Gt(r,nt()),l;if(a===6)Dr(r,d);else{if(g=r.current.alternate,(d&30)===0&&!L2(g)&&(a=Jo(r,d),a===2&&(x=oe(r),x!==0&&(d=x,a=gu(r,x))),a===1))throw l=ls,pa(r,0),Dr(r,d),Gt(r,nt()),l;switch(r.finishedWork=g,r.finishedLanes=d,a){case 0:case 1:throw Error(t(345));case 2:ga(r,Kt,sr);break;case 3:if(Dr(r,d),(d&130023424)===d&&(a=fu+500-nt(),10<a)){if(aa(r,0)!==0)break;if(g=r.suspendedLanes,(g&d)!==d){$t(),r.pingedLanes|=r.suspendedLanes&g;break}r.timeoutHandle=jc(ga.bind(null,r,Kt,sr),a);break}ga(r,Kt,sr);break;case 4:if(Dr(r,d),(d&4194240)===d)break;for(a=r.eventTimes,g=-1;0<d;){var w=31-Wt(d);x=1<<w,w=a[w],w>g&&(g=w),d&=~x}if(d=g,d=nt()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*D2(d/1960))-d,10<d){r.timeoutHandle=jc(ga.bind(null,r,Kt,sr),d);break}ga(r,Kt,sr);break;case 5:ga(r,Kt,sr);break;default:throw Error(t(329))}}}return Gt(r,nt()),r.callbackNode===l?Rf.bind(null,r):null}function gu(r,a){var l=cs;return r.current.memoizedState.isDehydrated&&(pa(r,a).flags|=256),r=Jo(r,a),r!==2&&(a=Kt,Kt=l,a!==null&&xu(a)),r}function xu(r){Kt===null?Kt=r:Kt.push.apply(Kt,r)}function L2(r){for(var a=r;;){if(a.flags&16384){var l=a.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var d=0;d<l.length;d++){var g=l[d],x=g.getSnapshot;g=g.value;try{if(!Nn(x(),g))return!1}catch{return!1}}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Dr(r,a){for(a&=~hu,a&=~Yo,r.suspendedLanes|=a,r.pingedLanes&=~a,r=r.expirationTimes;0<a;){var l=31-Wt(a),d=1<<l;r[l]=-1,a&=~d}}function Df(r){if((Ve&6)!==0)throw Error(t(327));ni();var a=aa(r,0);if((a&1)===0)return Gt(r,nt()),null;var l=Jo(r,a);if(r.tag!==0&&l===2){var d=oe(r);d!==0&&(a=d,l=gu(r,d))}if(l===1)throw l=ls,pa(r,0),Dr(r,a),Gt(r,nt()),l;if(l===6)throw Error(t(345));return r.finishedWork=r.current.alternate,r.finishedLanes=a,ga(r,Kt,sr),Gt(r,nt()),null}function yu(r,a){var l=Ve;Ve|=1;try{return r(a)}finally{Ve=l,Ve===0&&(ti=nt()+500,_o&&Tr())}}function ma(r){Ir!==null&&Ir.tag===0&&(Ve&6)===0&&ni();var a=Ve;Ve|=1;var l=mn.transition,d=Ke;try{if(mn.transition=null,Ke=1,r)return r()}finally{Ke=d,mn.transition=l,Ve=a,(Ve&6)===0&&Tr()}}function bu(){rn=ei.current,et(ei)}function pa(r,a){r.finishedWork=null,r.finishedLanes=0;var l=r.timeoutHandle;if(l!==-1&&(r.timeoutHandle=-1,f2(l)),yt!==null)for(l=yt.return;l!==null;){var d=l;switch(zc(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&So();break;case 3:Za(),et(Ht),et(Pt),Vc();break;case 5:$c(d);break;case 4:Za();break;case 13:et(st);break;case 19:et(st);break;case 10:Ic(d.type._context);break;case 22:case 23:bu()}l=l.return}if(Nt=r,yt=r=Lr(r.current,null),_t=rn=a,wt=0,ls=null,hu=Yo=fa=0,Kt=cs=null,ua!==null){for(a=0;a<ua.length;a++)if(l=ua[a],d=l.interleaved,d!==null){l.interleaved=null;var g=d.next,x=l.pending;if(x!==null){var w=x.next;x.next=g,d.next=w}l.pending=d}ua=null}return r}function Lf(r,a){do{var l=yt;try{if(Ac(),Do.current=Fo,Lo){for(var d=ot.memoizedState;d!==null;){var g=d.queue;g!==null&&(g.pending=null),d=d.next}Lo=!1}if(ha=0,jt=vt=ot=null,ns=!1,rs=0,du.current=null,l===null||l.return===null){wt=1,ls=a,yt=null;break}e:{var x=r,w=l.return,P=l,I=a;if(a=_t,P.flags|=32768,I!==null&&typeof I=="object"&&typeof I.then=="function"){var q=I,ne=P,ae=ne.tag;if((ne.mode&1)===0&&(ae===0||ae===11||ae===15)){var J=ne.alternate;J?(ne.updateQueue=J.updateQueue,ne.memoizedState=J.memoizedState,ne.lanes=J.lanes):(ne.updateQueue=null,ne.memoizedState=null)}var fe=lf(w);if(fe!==null){fe.flags&=-257,cf(fe,w,P,x,a),fe.mode&1&&of(x,q,a),a=fe,I=q;var xe=a.updateQueue;if(xe===null){var ye=new Set;ye.add(I),a.updateQueue=ye}else xe.add(I);break e}else{if((a&1)===0){of(x,q,a),vu();break e}I=Error(t(426))}}else if(rt&&P.mode&1){var pt=lf(w);if(pt!==null){(pt.flags&65536)===0&&(pt.flags|=256),cf(pt,w,P,x,a),Ec(Qa(I,P));break e}}x=I=Qa(I,P),wt!==4&&(wt=2),cs===null?cs=[x]:cs.push(x),x=w;do{switch(x.tag){case 3:x.flags|=65536,a&=-a,x.lanes|=a;var F=af(x,I,a);Eh(x,F);break e;case 1:P=I;var D=x.type,V=x.stateNode;if((x.flags&128)===0&&(typeof D.getDerivedStateFromError=="function"||V!==null&&typeof V.componentDidCatch=="function"&&(Ar===null||!Ar.has(V)))){x.flags|=65536,a&=-a,x.lanes|=a;var ie=sf(x,P,a);Eh(x,ie);break e}}x=x.return}while(x!==null)}Ff(l)}catch(ve){a=ve,yt===l&&l!==null&&(yt=l=l.return);continue}break}while(!0)}function Of(){var r=Uo.current;return Uo.current=Fo,r===null?Fo:r}function vu(){(wt===0||wt===3||wt===2)&&(wt=4),Nt===null||(fa&268435455)===0&&(Yo&268435455)===0||Dr(Nt,_t)}function Jo(r,a){var l=Ve;Ve|=2;var d=Of();(Nt!==r||_t!==a)&&(sr=null,pa(r,a));do try{O2();break}catch(g){Lf(r,g)}while(!0);if(Ac(),Ve=l,Uo.current=d,yt!==null)throw Error(t(261));return Nt=null,_t=0,wt}function O2(){for(;yt!==null;)$f(yt)}function $2(){for(;yt!==null&&!Js();)$f(yt)}function $f(r){var a=qf(r.alternate,r,rn);r.memoizedProps=r.pendingProps,a===null?Ff(r):yt=a,du.current=null}function Ff(r){var a=r;do{var l=a.alternate;if(r=a.return,(a.flags&32768)===0){if(l=E2(l,a,rn),l!==null){yt=l;return}}else{if(l=M2(l,a),l!==null){l.flags&=32767,yt=l;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{wt=6,yt=null;return}}if(a=a.sibling,a!==null){yt=a;return}yt=a=r}while(a!==null);wt===0&&(wt=5)}function ga(r,a,l){var d=Ke,g=mn.transition;try{mn.transition=null,Ke=1,F2(r,a,l,d)}finally{mn.transition=g,Ke=d}return null}function F2(r,a,l,d){do ni();while(Ir!==null);if((Ve&6)!==0)throw Error(t(327));l=r.finishedWork;var g=r.finishedLanes;if(l===null)return null;if(r.finishedWork=null,r.finishedLanes=0,l===r.current)throw Error(t(177));r.callbackNode=null,r.callbackPriority=0;var x=l.lanes|l.childLanes;if(On(r,x),r===Nt&&(yt=Nt=null,_t=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||Go||(Go=!0,Wf(ea,function(){return ni(),null})),x=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||x){x=mn.transition,mn.transition=null;var w=Ke;Ke=1;var P=Ve;Ve|=4,du.current=null,I2(r,l),Pf(l,r),s2(vc),co=!!bc,vc=bc=null,r.current=l,R2(l),eo(),Ve=P,Ke=w,mn.transition=x}else r.current=l;if(Go&&(Go=!1,Ir=r,Xo=g),x=r.pendingLanes,x===0&&(Ar=null),ro(l.stateNode),Gt(r,nt()),a!==null)for(d=r.onRecoverableError,l=0;l<a.length;l++)g=a[l],d(g.value,{componentStack:g.stack,digest:g.digest});if(Ko)throw Ko=!1,r=mu,mu=null,r;return(Xo&1)!==0&&r.tag!==0&&ni(),x=r.pendingLanes,(x&1)!==0?r===pu?us++:(us=0,pu=r):us=0,Tr(),null}function ni(){if(Ir!==null){var r=C0(Xo),a=mn.transition,l=Ke;try{if(mn.transition=null,Ke=16>r?16:r,Ir===null)var d=!1;else{if(r=Ir,Ir=null,Xo=0,(Ve&6)!==0)throw Error(t(331));var g=Ve;for(Ve|=4,ge=r.current;ge!==null;){var x=ge,w=x.child;if((ge.flags&16)!==0){var P=x.deletions;if(P!==null){for(var I=0;I<P.length;I++){var q=P[I];for(ge=q;ge!==null;){var ne=ge;switch(ne.tag){case 0:case 11:case 15:os(8,ne,x)}var ae=ne.child;if(ae!==null)ae.return=ne,ge=ae;else for(;ge!==null;){ne=ge;var J=ne.sibling,fe=ne.return;if(kf(ne),ne===q){ge=null;break}if(J!==null){J.return=fe,ge=J;break}ge=fe}}}var xe=x.alternate;if(xe!==null){var ye=xe.child;if(ye!==null){xe.child=null;do{var pt=ye.sibling;ye.sibling=null,ye=pt}while(ye!==null)}}ge=x}}if((x.subtreeFlags&2064)!==0&&w!==null)w.return=x,ge=w;else e:for(;ge!==null;){if(x=ge,(x.flags&2048)!==0)switch(x.tag){case 0:case 11:case 15:os(9,x,x.return)}var F=x.sibling;if(F!==null){F.return=x.return,ge=F;break e}ge=x.return}}var D=r.current;for(ge=D;ge!==null;){w=ge;var V=w.child;if((w.subtreeFlags&2064)!==0&&V!==null)V.return=w,ge=V;else e:for(w=D;ge!==null;){if(P=ge,(P.flags&2048)!==0)try{switch(P.tag){case 0:case 11:case 15:Ho(9,P)}}catch(ve){dt(P,P.return,ve)}if(P===w){ge=null;break e}var ie=P.sibling;if(ie!==null){ie.return=P.return,ge=ie;break e}ge=P.return}}if(Ve=g,Tr(),Jt&&typeof Jt.onPostCommitFiberRoot=="function")try{Jt.onPostCommitFiberRoot(ta,r)}catch{}d=!0}return d}finally{Ke=l,mn.transition=a}}return!1}function Vf(r,a,l){a=Qa(l,a),a=af(r,a,1),r=Er(r,a,1),a=$t(),r!==null&&(Lt(r,1,a),Gt(r,a))}function dt(r,a,l){if(r.tag===3)Vf(r,r,l);else for(;a!==null;){if(a.tag===3){Vf(a,r,l);break}else if(a.tag===1){var d=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Ar===null||!Ar.has(d))){r=Qa(l,r),r=sf(a,r,1),a=Er(a,r,1),r=$t(),a!==null&&(Lt(a,1,r),Gt(a,r));break}}a=a.return}}function V2(r,a,l){var d=r.pingCache;d!==null&&d.delete(a),a=$t(),r.pingedLanes|=r.suspendedLanes&l,Nt===r&&(_t&l)===l&&(wt===4||wt===3&&(_t&130023424)===_t&&500>nt()-fu?pa(r,0):hu|=l),Gt(r,a)}function Bf(r,a){a===0&&((r.mode&1)===0?a=1:(a=ra,ra<<=1,(ra&130023424)===0&&(ra=4194304)));var l=$t();r=rr(r,a),r!==null&&(Lt(r,a,l),Gt(r,l))}function B2(r){var a=r.memoizedState,l=0;a!==null&&(l=a.retryLane),Bf(r,l)}function q2(r,a){var l=0;switch(r.tag){case 13:var d=r.stateNode,g=r.memoizedState;g!==null&&(l=g.retryLane);break;case 19:d=r.stateNode;break;default:throw Error(t(314))}d!==null&&d.delete(a),Bf(r,l)}var qf;qf=function(r,a,l){if(r!==null)if(r.memoizedProps!==a.pendingProps||Ht.current)Yt=!0;else{if((r.lanes&l)===0&&(a.flags&128)===0)return Yt=!1,P2(r,a,l);Yt=(r.flags&131072)!==0}else Yt=!1,rt&&(a.flags&1048576)!==0&&wh(a,zo,a.index);switch(a.lanes=0,a.tag){case 2:var d=a.type;qo(r,a),r=a.pendingProps;var g=Wa(a,Pt.current);Xa(a,l),g=Wc(null,a,d,r,g,l);var x=Hc();return a.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,Ut(d)?(x=!0,ko(a)):x=!1,a.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,Lc(a),g.updater=Vo,a.stateNode=g,g._reactInternals=a,Zc(a,d,r,l),a=tu(null,a,d,!0,x,l)):(a.tag=0,rt&&x&&Cc(a),Ot(null,a,g,l),a=a.child),a;case 16:d=a.elementType;e:{switch(qo(r,a),r=a.pendingProps,g=d._init,d=g(d._payload),a.type=d,g=a.tag=H2(d),r=kn(d,r),g){case 0:a=eu(null,a,d,r,l);break e;case 1:a=pf(null,a,d,r,l);break e;case 11:a=uf(null,a,d,r,l);break e;case 14:a=df(null,a,d,kn(d.type,r),l);break e}throw Error(t(306,d,""))}return a;case 0:return d=a.type,g=a.pendingProps,g=a.elementType===d?g:kn(d,g),eu(r,a,d,g,l);case 1:return d=a.type,g=a.pendingProps,g=a.elementType===d?g:kn(d,g),pf(r,a,d,g,l);case 3:e:{if(gf(a),r===null)throw Error(t(387));d=a.pendingProps,x=a.memoizedState,g=x.element,Ph(r,a),Io(a,d,null,l);var w=a.memoizedState;if(d=w.element,x.isDehydrated)if(x={element:d,isDehydrated:!1,cache:w.cache,pendingSuspenseBoundaries:w.pendingSuspenseBoundaries,transitions:w.transitions},a.updateQueue.baseState=x,a.memoizedState=x,a.flags&256){g=Qa(Error(t(423)),a),a=xf(r,a,d,l,g);break e}else if(d!==g){g=Qa(Error(t(424)),a),a=xf(r,a,d,l,g);break e}else for(nn=_r(a.stateNode.containerInfo.firstChild),tn=a,rt=!0,Sn=null,l=zh(a,null,d,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Ya(),d===g){a=ir(r,a,l);break e}Ot(r,a,d,l)}a=a.child}return a;case 5:return Ah(a),r===null&&Pc(a),d=a.type,g=a.pendingProps,x=r!==null?r.memoizedProps:null,w=g.children,wc(d,g)?w=null:x!==null&&wc(d,x)&&(a.flags|=32),mf(r,a),Ot(r,a,w,l),a.child;case 6:return r===null&&Pc(a),null;case 13:return yf(r,a,l);case 4:return Oc(a,a.stateNode.containerInfo),d=a.pendingProps,r===null?a.child=Ka(a,null,d,l):Ot(r,a,d,l),a.child;case 11:return d=a.type,g=a.pendingProps,g=a.elementType===d?g:kn(d,g),uf(r,a,d,g,l);case 7:return Ot(r,a,a.pendingProps,l),a.child;case 8:return Ot(r,a,a.pendingProps.children,l),a.child;case 12:return Ot(r,a,a.pendingProps.children,l),a.child;case 10:e:{if(d=a.type._context,g=a.pendingProps,x=a.memoizedProps,w=g.value,Qe(Eo,d._currentValue),d._currentValue=w,x!==null)if(Nn(x.value,w)){if(x.children===g.children&&!Ht.current){a=ir(r,a,l);break e}}else for(x=a.child,x!==null&&(x.return=a);x!==null;){var P=x.dependencies;if(P!==null){w=x.child;for(var I=P.firstContext;I!==null;){if(I.context===d){if(x.tag===1){I=ar(-1,l&-l),I.tag=2;var q=x.updateQueue;if(q!==null){q=q.shared;var ne=q.pending;ne===null?I.next=I:(I.next=ne.next,ne.next=I),q.pending=I}}x.lanes|=l,I=x.alternate,I!==null&&(I.lanes|=l),Rc(x.return,l,a),P.lanes|=l;break}I=I.next}}else if(x.tag===10)w=x.type===a.type?null:x.child;else if(x.tag===18){if(w=x.return,w===null)throw Error(t(341));w.lanes|=l,P=w.alternate,P!==null&&(P.lanes|=l),Rc(w,l,a),w=x.sibling}else w=x.child;if(w!==null)w.return=x;else for(w=x;w!==null;){if(w===a){w=null;break}if(x=w.sibling,x!==null){x.return=w.return,w=x;break}w=w.return}x=w}Ot(r,a,g.children,l),a=a.child}return a;case 9:return g=a.type,d=a.pendingProps.children,Xa(a,l),g=hn(g),d=d(g),a.flags|=1,Ot(r,a,d,l),a.child;case 14:return d=a.type,g=kn(d,a.pendingProps),g=kn(d.type,g),df(r,a,d,g,l);case 15:return hf(r,a,a.type,a.pendingProps,l);case 17:return d=a.type,g=a.pendingProps,g=a.elementType===d?g:kn(d,g),qo(r,a),a.tag=1,Ut(d)?(r=!0,ko(a)):r=!1,Xa(a,l),nf(a,d,g),Zc(a,d,g,l),tu(null,a,d,!0,r,l);case 19:return vf(r,a,l);case 22:return ff(r,a,l)}throw Error(t(156,a.tag))};function Wf(r,a){return Ei(r,a)}function W2(r,a,l,d){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pn(r,a,l,d){return new W2(r,a,l,d)}function wu(r){return r=r.prototype,!(!r||!r.isReactComponent)}function H2(r){if(typeof r=="function")return wu(r)?1:0;if(r!=null){if(r=r.$$typeof,r===he)return 11;if(r===Ie)return 14}return 2}function Lr(r,a){var l=r.alternate;return l===null?(l=pn(r.tag,a,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=a,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&14680064,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,a=r.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l}function el(r,a,l,d,g,x){var w=2;if(d=r,typeof r=="function")wu(r)&&(w=1);else if(typeof r=="string")w=5;else e:switch(r){case O:return xa(l.children,g,x,a);case U:w=8,g|=8;break;case Y:return r=pn(12,l,a,g|2),r.elementType=Y,r.lanes=x,r;case Se:return r=pn(13,l,a,g),r.elementType=Se,r.lanes=x,r;case Ce:return r=pn(19,l,a,g),r.elementType=Ce,r.lanes=x,r;case be:return tl(l,g,x,a);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case $:w=10;break e;case Q:w=9;break e;case he:w=11;break e;case Ie:w=14;break e;case De:w=16,d=null;break e}throw Error(t(130,r==null?r:typeof r,""))}return a=pn(w,l,a,g),a.elementType=r,a.type=d,a.lanes=x,a}function xa(r,a,l,d){return r=pn(7,r,d,a),r.lanes=l,r}function tl(r,a,l,d){return r=pn(22,r,d,a),r.elementType=be,r.lanes=l,r.stateNode={isHidden:!1},r}function ju(r,a,l){return r=pn(6,r,null,a),r.lanes=l,r}function Nu(r,a,l){return a=pn(4,r.children!==null?r.children:[],r.key,a),a.lanes=l,a.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},a}function U2(r,a,l,d,g){this.tag=a,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=He(0),this.expirationTimes=He(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=He(0),this.identifierPrefix=d,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function Su(r,a,l,d,g,x,w,P,I){return r=new U2(r,a,l,P,I),a===1?(a=1,x===!0&&(a|=8)):a=0,x=pn(3,null,null,a),r.current=x,x.stateNode=r,x.memoizedState={element:d,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Lc(x),r}function Y2(r,a,l){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:A,key:d==null?null:""+d,children:r,containerInfo:a,implementation:l}}function Hf(r){if(!r)return zr;r=r._reactInternals;e:{if(Ln(r)!==r||r.tag!==1)throw Error(t(170));var a=r;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(Ut(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(t(171))}if(r.tag===1){var l=r.type;if(Ut(l))return yh(r,l,a)}return a}function Uf(r,a,l,d,g,x,w,P,I){return r=Su(l,d,!0,r,g,x,w,P,I),r.context=Hf(null),l=r.current,d=$t(),g=Rr(l),x=ar(d,g),x.callback=a??null,Er(l,x,g),r.current.lanes=g,Lt(r,g,d),Gt(r,d),r}function nl(r,a,l,d){var g=a.current,x=$t(),w=Rr(g);return l=Hf(l),a.context===null?a.context=l:a.pendingContext=l,a=ar(x,w),a.payload={element:r},d=d===void 0?null:d,d!==null&&(a.callback=d),r=Er(g,a,w),r!==null&&(zn(r,g,w,x),Ao(r,g,w)),w}function rl(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function Yf(r,a){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<a?l:a}}function ku(r,a){Yf(r,a),(r=r.alternate)&&Yf(r,a)}function K2(){return null}var Kf=typeof reportError=="function"?reportError:function(r){console.error(r)};function _u(r){this._internalRoot=r}al.prototype.render=_u.prototype.render=function(r){var a=this._internalRoot;if(a===null)throw Error(t(409));nl(r,a,null,null)},al.prototype.unmount=_u.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var a=r.containerInfo;ma(function(){nl(null,r,null,null)}),a[Jn]=null}};function al(r){this._internalRoot=r}al.prototype.unstable_scheduleHydration=function(r){if(r){var a=P0();r={blockedOn:null,target:r,priority:a};for(var l=0;l<Nr.length&&a!==0&&a<Nr[l].priority;l++);Nr.splice(l,0,r),l===0&&A0(r)}};function Cu(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function il(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function Gf(){}function G2(r,a,l,d,g){if(g){if(typeof d=="function"){var x=d;d=function(){var q=rl(w);x.call(q)}}var w=Uf(a,d,r,0,null,!1,!1,"",Gf);return r._reactRootContainer=w,r[Jn]=w.current,Ki(r.nodeType===8?r.parentNode:r),ma(),w}for(;g=r.lastChild;)r.removeChild(g);if(typeof d=="function"){var P=d;d=function(){var q=rl(I);P.call(q)}}var I=Su(r,0,!1,null,null,!1,!1,"",Gf);return r._reactRootContainer=I,r[Jn]=I.current,Ki(r.nodeType===8?r.parentNode:r),ma(function(){nl(a,I,l,d)}),I}function sl(r,a,l,d,g){var x=l._reactRootContainer;if(x){var w=x;if(typeof g=="function"){var P=g;g=function(){var I=rl(w);P.call(I)}}nl(a,w,r,g)}else w=G2(l,a,r,g,d);return rl(w)}z0=function(r){switch(r.tag){case 3:var a=r.stateNode;if(a.current.memoizedState.isDehydrated){var l=br(a.pendingLanes);l!==0&&(ia(a,l|1),Gt(a,nt()),(Ve&6)===0&&(ti=nt()+500,Tr()))}break;case 13:ma(function(){var d=rr(r,1);if(d!==null){var g=$t();zn(d,r,1,g)}}),ku(r,1)}},Ql=function(r){if(r.tag===13){var a=rr(r,134217728);if(a!==null){var l=$t();zn(a,r,134217728,l)}ku(r,134217728)}},T0=function(r){if(r.tag===13){var a=Rr(r),l=rr(r,a);if(l!==null){var d=$t();zn(l,r,a,d)}ku(r,a)}},P0=function(){return Ke},E0=function(r,a){var l=Ke;try{return Ke=r,a()}finally{Ke=l}},re=function(r,a,l){switch(a){case"input":if(Ye(r,l),a=l.name,l.type==="radio"&&a!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<l.length;a++){var d=l[a];if(d!==r&&d.form===r.form){var g=No(d);if(!g)throw Error(t(90));Z(d),Ye(d,g)}}}break;case"textarea":Pa(r,l);break;case"select":a=l.value,a!=null&&Ge(r,!!l.multiple,a,!1)}},Xe=yu,on=ma;var X2={usingClientEntryPoint:!1,Events:[Zi,Ba,No,ce,we,yu]},ds={findFiberByHostInstance:sa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Z2={bundleType:ds.bundleType,version:ds.version,rendererPackageName:ds.rendererPackageName,rendererConfig:ds.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:z.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=Ti(r),r===null?null:r.stateNode},findFiberByHostInstance:ds.findFiberByHostInstance||K2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ol=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ol.isDisabled&&ol.supportsFiber)try{ta=ol.inject(Z2),Jt=ol}catch{}}return Xt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=X2,Xt.createPortal=function(r,a){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Cu(a))throw Error(t(200));return Y2(r,a,null,l)},Xt.createRoot=function(r,a){if(!Cu(r))throw Error(t(299));var l=!1,d="",g=Kf;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(d=a.identifierPrefix),a.onRecoverableError!==void 0&&(g=a.onRecoverableError)),a=Su(r,1,!1,null,null,l,!1,d,g),r[Jn]=a.current,Ki(r.nodeType===8?r.parentNode:r),new _u(a)},Xt.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var a=r._reactInternals;if(a===void 0)throw typeof r.render=="function"?Error(t(188)):(r=Object.keys(r).join(","),Error(t(268,r)));return r=Ti(a),r=r===null?null:r.stateNode,r},Xt.flushSync=function(r){return ma(r)},Xt.hydrate=function(r,a,l){if(!il(a))throw Error(t(200));return sl(null,r,a,!0,l)},Xt.hydrateRoot=function(r,a,l){if(!Cu(r))throw Error(t(405));var d=l!=null&&l.hydratedSources||null,g=!1,x="",w=Kf;if(l!=null&&(l.unstable_strictMode===!0&&(g=!0),l.identifierPrefix!==void 0&&(x=l.identifierPrefix),l.onRecoverableError!==void 0&&(w=l.onRecoverableError)),a=Uf(a,null,r,1,l??null,g,!1,x,w),r[Jn]=a.current,Ki(r),d)for(r=0;r<d.length;r++)l=d[r],g=l._getVersion,g=g(l._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[l,g]:a.mutableSourceEagerHydrationData.push(l,g);return new al(a)},Xt.render=function(r,a,l){if(!il(a))throw Error(t(200));return sl(null,r,a,!1,l)},Xt.unmountComponentAtNode=function(r){if(!il(r))throw Error(t(40));return r._reactRootContainer?(ma(function(){sl(null,null,r,!1,function(){r._reactRootContainer=null,r[Jn]=null})}),!0):!1},Xt.unstable_batchedUpdates=yu,Xt.unstable_renderSubtreeIntoContainer=function(r,a,l,d){if(!il(l))throw Error(t(200));if(r==null||r._reactInternals===void 0)throw Error(t(38));return sl(r,a,l,!1,d)},Xt.version="18.3.1-next-f1338f8080-20240426",Xt}var rm;function Qp(){if(rm)return Pu.exports;rm=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}return e(),Pu.exports=sb(),Pu.exports}var am;function ob(){if(am)return ll;am=1;var e=Qp();return ll.createRoot=e.createRoot,ll.hydrateRoot=e.hydrateRoot,ll}var lb=ob();const cb=Zp(lb);/**
 * react-router v7.9.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var im="popstate";function ub(e={}){function n(s,o){let{pathname:c,search:u,hash:f}=s.location;return ed("",{pathname:c,search:u,hash:f},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(s,o){return typeof o=="string"?o:zs(o)}return hb(n,t,null,e)}function ut(e,n){if(e===!1||e===null||typeof e>"u")throw new Error(n)}function Mn(e,n){if(!e){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function db(){return Math.random().toString(36).substring(2,10)}function sm(e,n){return{usr:e.state,key:e.key,idx:n}}function ed(e,n,t=null,s){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof n=="string"?vi(n):n,state:t,key:n&&n.key||s||db()}}function zs({pathname:e="/",search:n="",hash:t=""}){return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),t&&t!=="#"&&(e+=t.charAt(0)==="#"?t:"#"+t),e}function vi(e){let n={};if(e){let t=e.indexOf("#");t>=0&&(n.hash=e.substring(t),e=e.substring(0,t));let s=e.indexOf("?");s>=0&&(n.search=e.substring(s),e=e.substring(0,s)),e&&(n.pathname=e)}return n}function hb(e,n,t,s={}){let{window:o=document.defaultView,v5Compat:c=!1}=s,u=o.history,f="POP",h=null,m=p();m==null&&(m=0,u.replaceState({...u.state,idx:m},""));function p(){return(u.state||{idx:null}).idx}function y(){f="POP";let N=p(),C=N==null?null:N-m;m=N,h&&h({action:f,location:S.location,delta:C})}function b(N,C){f="PUSH";let M=ed(S.location,N,C);m=p()+1;let _=sm(M,m),z=S.createHref(M);try{u.pushState(_,"",z)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;o.location.assign(z)}c&&h&&h({action:f,location:S.location,delta:1})}function v(N,C){f="REPLACE";let M=ed(S.location,N,C);m=p();let _=sm(M,m),z=S.createHref(M);u.replaceState(_,"",z),c&&h&&h({action:f,location:S.location,delta:0})}function k(N){return fb(N)}let S={get action(){return f},get location(){return e(o,u)},listen(N){if(h)throw new Error("A history only accepts one active listener");return o.addEventListener(im,y),h=N,()=>{o.removeEventListener(im,y),h=null}},createHref(N){return n(o,N)},createURL:k,encodeLocation(N){let C=k(N);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:b,replace:v,go(N){return u.go(N)}};return S}function fb(e,n=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),ut(t,"No window.location.(origin|href) available to create URL");let s=typeof e=="string"?e:zs(e);return s=s.replace(/ $/,"%20"),!n&&s.startsWith("//")&&(s=t+s),new URL(s,t)}function Jp(e,n,t="/"){return mb(e,n,t,!1)}function mb(e,n,t,s){let o=typeof n=="string"?vi(n):n,c=cr(o.pathname||"/",t);if(c==null)return null;let u=eg(e);pb(u);let f=null;for(let h=0;f==null&&h<u.length;++h){let m=_b(c);f=Sb(u[h],m,s)}return f}function eg(e,n=[],t=[],s="",o=!1){let c=(u,f,h=o,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(s)&&h)return;ut(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length)}let y=lr([s,p.relativePath]),b=t.concat(p);u.children&&u.children.length>0&&(ut(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),eg(u.children,n,b,y,h)),!(u.path==null&&!u.index)&&n.push({path:y,score:jb(y,u.index),routesMeta:b})};return e.forEach((u,f)=>{var h;if(u.path===""||!((h=u.path)!=null&&h.includes("?")))c(u,f);else for(let m of tg(u.path))c(u,f,!0,m)}),n}function tg(e){let n=e.split("/");if(n.length===0)return[];let[t,...s]=n,o=t.endsWith("?"),c=t.replace(/\?$/,"");if(s.length===0)return o?[c,""]:[c];let u=tg(s.join("/")),f=[];return f.push(...u.map(h=>h===""?c:[c,h].join("/"))),o&&f.push(...u),f.map(h=>e.startsWith("/")&&h===""?"/":h)}function pb(e){e.sort((n,t)=>n.score!==t.score?t.score-n.score:Nb(n.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var gb=/^:[\w-]+$/,xb=3,yb=2,bb=1,vb=10,wb=-2,om=e=>e==="*";function jb(e,n){let t=e.split("/"),s=t.length;return t.some(om)&&(s+=wb),n&&(s+=yb),t.filter(o=>!om(o)).reduce((o,c)=>o+(gb.test(c)?xb:c===""?bb:vb),s)}function Nb(e,n){return e.length===n.length&&e.slice(0,-1).every((s,o)=>s===n[o])?e[e.length-1]-n[n.length-1]:0}function Sb(e,n,t=!1){let{routesMeta:s}=e,o={},c="/",u=[];for(let f=0;f<s.length;++f){let h=s[f],m=f===s.length-1,p=c==="/"?n:n.slice(c.length)||"/",y=zl({path:h.relativePath,caseSensitive:h.caseSensitive,end:m},p),b=h.route;if(!y&&m&&t&&!s[s.length-1].route.index&&(y=zl({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},p)),!y)return null;Object.assign(o,y.params),u.push({params:o,pathname:lr([c,y.pathname]),pathnameBase:Pb(lr([c,y.pathnameBase])),route:b}),y.pathnameBase!=="/"&&(c=lr([c,y.pathnameBase]))}return u}function zl(e,n){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[t,s]=kb(e.path,e.caseSensitive,e.end),o=n.match(t);if(!o)return null;let c=o[0],u=c.replace(/(.)\/+$/,"$1"),f=o.slice(1);return{params:s.reduce((m,{paramName:p,isOptional:y},b)=>{if(p==="*"){let k=f[b]||"";u=c.slice(0,c.length-k.length).replace(/(.)\/+$/,"$1")}const v=f[b];return y&&!v?m[p]=void 0:m[p]=(v||"").replace(/%2F/g,"/"),m},{}),pathname:c,pathnameBase:u,pattern:e}}function kb(e,n=!1,t=!0){Mn(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let s=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,f,h)=>(s.push({paramName:f,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(s.push({paramName:"*"}),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,n?void 0:"i"),s]}function _b(e){try{return e.split("/").map(n=>decodeURIComponent(n).replace(/\//g,"%2F")).join("/")}catch(n){return Mn(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${n}).`),e}}function cr(e,n){if(n==="/")return e;if(!e.toLowerCase().startsWith(n.toLowerCase()))return null;let t=n.endsWith("/")?n.length-1:n.length,s=e.charAt(t);return s&&s!=="/"?null:e.slice(t)||"/"}function Cb(e,n="/"){let{pathname:t,search:s="",hash:o=""}=typeof e=="string"?vi(e):e;return{pathname:t?t.startsWith("/")?t:zb(t,n):n,search:Eb(s),hash:Mb(o)}}function zb(e,n){let t=n.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Au(e,n,t,s){return`Cannot include a '${e}' character in a manually specified \`to.${n}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Tb(e){return e.filter((n,t)=>t===0||n.route.path&&n.route.path.length>0)}function ng(e){let n=Tb(e);return n.map((t,s)=>s===n.length-1?t.pathname:t.pathnameBase)}function rg(e,n,t,s=!1){let o;typeof e=="string"?o=vi(e):(o={...e},ut(!o.pathname||!o.pathname.includes("?"),Au("?","pathname","search",o)),ut(!o.pathname||!o.pathname.includes("#"),Au("#","pathname","hash",o)),ut(!o.search||!o.search.includes("#"),Au("#","search","hash",o)));let c=e===""||o.pathname==="",u=c?"/":o.pathname,f;if(u==null)f=t;else{let y=n.length-1;if(!s&&u.startsWith("..")){let b=u.split("/");for(;b[0]==="..";)b.shift(),y-=1;o.pathname=b.join("/")}f=y>=0?n[y]:"/"}let h=Cb(o,f),m=u&&u!=="/"&&u.endsWith("/"),p=(c||u===".")&&t.endsWith("/");return!h.pathname.endsWith("/")&&(m||p)&&(h.pathname+="/"),h}var lr=e=>e.join("/").replace(/\/\/+/g,"/"),Pb=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Eb=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Mb=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Ab(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var ag=["POST","PUT","PATCH","DELETE"];new Set(ag);var Ib=["GET",...ag];new Set(Ib);var wi=j.createContext(null);wi.displayName="DataRouter";var Bl=j.createContext(null);Bl.displayName="DataRouterState";j.createContext(!1);var ig=j.createContext({isTransitioning:!1});ig.displayName="ViewTransition";var Rb=j.createContext(new Map);Rb.displayName="Fetchers";var Db=j.createContext(null);Db.displayName="Await";var Yn=j.createContext(null);Yn.displayName="Navigation";var Fs=j.createContext(null);Fs.displayName="Location";var Kn=j.createContext({outlet:null,matches:[],isDataRoute:!1});Kn.displayName="Route";var Id=j.createContext(null);Id.displayName="RouteError";function Lb(e,{relative:n}={}){ut(Vs(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=j.useContext(Yn),{hash:o,pathname:c,search:u}=Bs(e,{relative:n}),f=c;return t!=="/"&&(f=c==="/"?t:lr([t,c])),s.createHref({pathname:f,search:u,hash:o})}function Vs(){return j.useContext(Fs)!=null}function fr(){return ut(Vs(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(Fs).location}var sg="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function og(e){j.useContext(Yn).static||j.useLayoutEffect(e)}function An(){let{isDataRoute:e}=j.useContext(Kn);return e?Zb():Ob()}function Ob(){ut(Vs(),"useNavigate() may be used only in the context of a <Router> component.");let e=j.useContext(wi),{basename:n,navigator:t}=j.useContext(Yn),{matches:s}=j.useContext(Kn),{pathname:o}=fr(),c=JSON.stringify(ng(s)),u=j.useRef(!1);return og(()=>{u.current=!0}),j.useCallback((h,m={})=>{if(Mn(u.current,sg),!u.current)return;if(typeof h=="number"){t.go(h);return}let p=rg(h,JSON.parse(c),o,m.relative==="path");e==null&&n!=="/"&&(p.pathname=p.pathname==="/"?n:lr([n,p.pathname])),(m.replace?t.replace:t.push)(p,m.state,m)},[n,t,c,o,e])}j.createContext(null);function $b(){let{matches:e}=j.useContext(Kn),n=e[e.length-1];return n?n.params:{}}function Bs(e,{relative:n}={}){let{matches:t}=j.useContext(Kn),{pathname:s}=fr(),o=JSON.stringify(ng(t));return j.useMemo(()=>rg(e,JSON.parse(o),s,n==="path"),[e,o,s,n])}function Fb(e,n){return lg(e,n)}function lg(e,n,t,s,o){var M;ut(Vs(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=j.useContext(Yn),{matches:u}=j.useContext(Kn),f=u[u.length-1],h=f?f.params:{},m=f?f.pathname:"/",p=f?f.pathnameBase:"/",y=f&&f.route;{let _=y&&y.path||"";cg(m,!y||_.endsWith("*")||_.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${_}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${_}"> to <Route path="${_==="/"?"*":`${_}/*`}">.`)}let b=fr(),v;if(n){let _=typeof n=="string"?vi(n):n;ut(p==="/"||((M=_.pathname)==null?void 0:M.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${_.pathname}" was given in the \`location\` prop.`),v=_}else v=b;let k=v.pathname||"/",S=k;if(p!=="/"){let _=p.replace(/^\//,"").split("/");S="/"+k.replace(/^\//,"").split("/").slice(_.length).join("/")}let N=Jp(e,{pathname:S});Mn(y||N!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),Mn(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let C=Hb(N&&N.map(_=>Object.assign({},_,{params:Object.assign({},h,_.params),pathname:lr([p,c.encodeLocation?c.encodeLocation(_.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?p:lr([p,c.encodeLocation?c.encodeLocation(_.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:_.pathnameBase])})),u,t,s,o);return n&&C?j.createElement(Fs.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},C):C}function Vb(){let e=Xb(),n=Ab(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),t=e instanceof Error?e.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},c={padding:"2px 4px",backgroundColor:s},u=null;return console.error("Error handled by React Router default ErrorBoundary:",e),u=j.createElement(j.Fragment,null,j.createElement("p",null," Hey developer "),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:c},"ErrorBoundary")," or"," ",j.createElement("code",{style:c},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},n),t?j.createElement("pre",{style:o},t):null,u)}var Bb=j.createElement(Vb,null),qb=class extends j.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){this.props.unstable_onError?this.props.unstable_onError(e,n):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?j.createElement(Kn.Provider,{value:this.props.routeContext},j.createElement(Id.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Wb({routeContext:e,match:n,children:t}){let s=j.useContext(wi);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),j.createElement(Kn.Provider,{value:e},t)}function Hb(e,n=[],t=null,s=null,o=null){if(e==null){if(!t)return null;if(t.errors)e=t.matches;else if(n.length===0&&!t.initialized&&t.matches.length>0)e=t.matches;else return null}let c=e,u=t==null?void 0:t.errors;if(u!=null){let m=c.findIndex(p=>p.route.id&&(u==null?void 0:u[p.route.id])!==void 0);ut(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),c=c.slice(0,Math.min(c.length,m+1))}let f=!1,h=-1;if(t)for(let m=0;m<c.length;m++){let p=c[m];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(h=m),p.route.id){let{loaderData:y,errors:b}=t,v=p.route.loader&&!y.hasOwnProperty(p.route.id)&&(!b||b[p.route.id]===void 0);if(p.route.lazy||v){f=!0,h>=0?c=c.slice(0,h+1):c=[c[0]];break}}}return c.reduceRight((m,p,y)=>{let b,v=!1,k=null,S=null;t&&(b=u&&p.route.id?u[p.route.id]:void 0,k=p.route.errorElement||Bb,f&&(h<0&&y===0?(cg("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,S=null):h===y&&(v=!0,S=p.route.hydrateFallbackElement||null)));let N=n.concat(c.slice(0,y+1)),C=()=>{let M;return b?M=k:v?M=S:p.route.Component?M=j.createElement(p.route.Component,null):p.route.element?M=p.route.element:M=m,j.createElement(Wb,{match:p,routeContext:{outlet:m,matches:N,isDataRoute:t!=null},children:M})};return t&&(p.route.ErrorBoundary||p.route.errorElement||y===0)?j.createElement(qb,{location:t.location,revalidation:t.revalidation,component:k,error:b,children:C(),routeContext:{outlet:null,matches:N,isDataRoute:!0},unstable_onError:s}):C()},null)}function Rd(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ub(e){let n=j.useContext(wi);return ut(n,Rd(e)),n}function Yb(e){let n=j.useContext(Bl);return ut(n,Rd(e)),n}function Kb(e){let n=j.useContext(Kn);return ut(n,Rd(e)),n}function Dd(e){let n=Kb(e),t=n.matches[n.matches.length-1];return ut(t.route.id,`${e} can only be used on routes that contain a unique "id"`),t.route.id}function Gb(){return Dd("useRouteId")}function Xb(){var s;let e=j.useContext(Id),n=Yb("useRouteError"),t=Dd("useRouteError");return e!==void 0?e:(s=n.errors)==null?void 0:s[t]}function Zb(){let{router:e}=Ub("useNavigate"),n=Dd("useNavigate"),t=j.useRef(!1);return og(()=>{t.current=!0}),j.useCallback(async(o,c={})=>{Mn(t.current,sg),t.current&&(typeof o=="number"?e.navigate(o):await e.navigate(o,{fromRouteId:n,...c}))},[e,n])}var lm={};function cg(e,n,t){!n&&!lm[e]&&(lm[e]=!0,Mn(!1,t))}j.memo(Qb);function Qb({routes:e,future:n,state:t,unstable_onError:s}){return lg(e,void 0,t,s,n)}function Tn(e){ut(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Jb({basename:e="/",children:n=null,location:t,navigationType:s="POP",navigator:o,static:c=!1}){ut(!Vs(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=e.replace(/^\/*/,"/"),f=j.useMemo(()=>({basename:u,navigator:o,static:c,future:{}}),[u,o,c]);typeof t=="string"&&(t=vi(t));let{pathname:h="/",search:m="",hash:p="",state:y=null,key:b="default"}=t,v=j.useMemo(()=>{let k=cr(h,u);return k==null?null:{location:{pathname:k,search:m,hash:p,state:y,key:b},navigationType:s}},[u,h,m,p,y,b,s]);return Mn(v!=null,`<Router basename="${u}"> is not able to match the URL "${h}${m}${p}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:j.createElement(Yn.Provider,{value:f},j.createElement(Fs.Provider,{children:n,value:v}))}function ev({children:e,location:n}){return Fb(td(e),n)}function td(e,n=[]){let t=[];return j.Children.forEach(e,(s,o)=>{if(!j.isValidElement(s))return;let c=[...n,o];if(s.type===j.Fragment){t.push.apply(t,td(s.props.children,c));return}ut(s.type===Tn,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ut(!s.props.index||!s.props.children,"An index route cannot have child routes.");let u={id:s.props.id||c.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(u.children=td(s.props.children,c)),t.push(u)}),t}var yl="get",bl="application/x-www-form-urlencoded";function ql(e){return e!=null&&typeof e.tagName=="string"}function tv(e){return ql(e)&&e.tagName.toLowerCase()==="button"}function nv(e){return ql(e)&&e.tagName.toLowerCase()==="form"}function rv(e){return ql(e)&&e.tagName.toLowerCase()==="input"}function av(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function iv(e,n){return e.button===0&&(!n||n==="_self")&&!av(e)}function nd(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((n,t)=>{let s=e[t];return n.concat(Array.isArray(s)?s.map(o=>[t,o]):[[t,s]])},[]))}function sv(e,n){let t=nd(e);return n&&n.forEach((s,o)=>{t.has(o)||n.getAll(o).forEach(c=>{t.append(o,c)})}),t}var cl=null;function ov(){if(cl===null)try{new FormData(document.createElement("form"),0),cl=!1}catch{cl=!0}return cl}var lv=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Iu(e){return e!=null&&!lv.has(e)?(Mn(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${bl}"`),null):e}function cv(e,n){let t,s,o,c,u;if(nv(e)){let f=e.getAttribute("action");s=f?cr(f,n):null,t=e.getAttribute("method")||yl,o=Iu(e.getAttribute("enctype"))||bl,c=new FormData(e)}else if(tv(e)||rv(e)&&(e.type==="submit"||e.type==="image")){let f=e.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=e.getAttribute("formaction")||f.getAttribute("action");if(s=h?cr(h,n):null,t=e.getAttribute("formmethod")||f.getAttribute("method")||yl,o=Iu(e.getAttribute("formenctype"))||Iu(f.getAttribute("enctype"))||bl,c=new FormData(f,e),!ov()){let{name:m,type:p,value:y}=e;if(p==="image"){let b=m?`${m}.`:"";c.append(`${b}x`,"0"),c.append(`${b}y`,"0")}else m&&c.append(m,y)}}else{if(ql(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=yl,s=null,o=bl,u=e}return c&&o==="text/plain"&&(u=c,c=void 0),{action:s,method:t.toLowerCase(),encType:o,formData:c,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ld(e,n){if(e===!1||e===null||typeof e>"u")throw new Error(n)}function uv(e,n,t){let s=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return s.pathname==="/"?s.pathname=`_root.${t}`:n&&cr(s.pathname,n)==="/"?s.pathname=`${n.replace(/\/$/,"")}/_root.${t}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${t}`,s}async function dv(e,n){if(e.id in n)return n[e.id];try{let t=await import(e.module);return n[e.id]=t,t}catch(t){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function hv(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function fv(e,n,t){let s=await Promise.all(e.map(async o=>{let c=n.routes[o.route.id];if(c){let u=await dv(c,t);return u.links?u.links():[]}return[]}));return xv(s.flat(1).filter(hv).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function cm(e,n,t,s,o,c){let u=(h,m)=>t[m]?h.route.id!==t[m].route.id:!0,f=(h,m)=>{var p;return t[m].pathname!==h.pathname||((p=t[m].route.path)==null?void 0:p.endsWith("*"))&&t[m].params["*"]!==h.params["*"]};return c==="assets"?n.filter((h,m)=>u(h,m)||f(h,m)):c==="data"?n.filter((h,m)=>{var y;let p=s.routes[h.route.id];if(!p||!p.hasLoader)return!1;if(u(h,m)||f(h,m))return!0;if(h.route.shouldRevalidate){let b=h.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((y=t[0])==null?void 0:y.params)||{},nextUrl:new URL(e,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function mv(e,n,{includeHydrateFallback:t}={}){return pv(e.map(s=>{let o=n.routes[s.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function pv(e){return[...new Set(e)]}function gv(e){let n={},t=Object.keys(e).sort();for(let s of t)n[s]=e[s];return n}function xv(e,n){let t=new Set;return new Set(n),e.reduce((s,o)=>{let c=JSON.stringify(gv(o));return t.has(c)||(t.add(c),s.push({key:c,link:o})),s},[])}function ug(){let e=j.useContext(wi);return Ld(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function yv(){let e=j.useContext(Bl);return Ld(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Od=j.createContext(void 0);Od.displayName="FrameworkContext";function dg(){let e=j.useContext(Od);return Ld(e,"You must render this element inside a <HydratedRouter> element"),e}function bv(e,n){let t=j.useContext(Od),[s,o]=j.useState(!1),[c,u]=j.useState(!1),{onFocus:f,onBlur:h,onMouseEnter:m,onMouseLeave:p,onTouchStart:y}=n,b=j.useRef(null);j.useEffect(()=>{if(e==="render"&&u(!0),e==="viewport"){let S=C=>{C.forEach(M=>{u(M.isIntersecting)})},N=new IntersectionObserver(S,{threshold:.5});return b.current&&N.observe(b.current),()=>{N.disconnect()}}},[e]),j.useEffect(()=>{if(s){let S=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(S)}}},[s]);let v=()=>{o(!0)},k=()=>{o(!1),u(!1)};return t?e!=="intent"?[c,b,{}]:[c,b,{onFocus:fs(f,v),onBlur:fs(h,k),onMouseEnter:fs(m,v),onMouseLeave:fs(p,k),onTouchStart:fs(y,v)}]:[!1,b,{}]}function fs(e,n){return t=>{e&&e(t),t.defaultPrevented||n(t)}}function vv({page:e,...n}){let{router:t}=ug(),s=j.useMemo(()=>Jp(t.routes,e,t.basename),[t.routes,e,t.basename]);return s?j.createElement(jv,{page:e,matches:s,...n}):null}function wv(e){let{manifest:n,routeModules:t}=dg(),[s,o]=j.useState([]);return j.useEffect(()=>{let c=!1;return fv(e,n,t).then(u=>{c||o(u)}),()=>{c=!0}},[e,n,t]),s}function jv({page:e,matches:n,...t}){let s=fr(),{manifest:o,routeModules:c}=dg(),{basename:u}=ug(),{loaderData:f,matches:h}=yv(),m=j.useMemo(()=>cm(e,n,h,o,s,"data"),[e,n,h,o,s]),p=j.useMemo(()=>cm(e,n,h,o,s,"assets"),[e,n,h,o,s]),y=j.useMemo(()=>{if(e===s.pathname+s.search+s.hash)return[];let k=new Set,S=!1;if(n.forEach(C=>{var _;let M=o.routes[C.route.id];!M||!M.hasLoader||(!m.some(z=>z.route.id===C.route.id)&&C.route.id in f&&((_=c[C.route.id])!=null&&_.shouldRevalidate)||M.hasClientLoader?S=!0:k.add(C.route.id))}),k.size===0)return[];let N=uv(e,u,"data");return S&&k.size>0&&N.searchParams.set("_routes",n.filter(C=>k.has(C.route.id)).map(C=>C.route.id).join(",")),[N.pathname+N.search]},[u,f,s,o,m,n,e,c]),b=j.useMemo(()=>mv(p,o),[p,o]),v=wv(p);return j.createElement(j.Fragment,null,y.map(k=>j.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...t})),b.map(k=>j.createElement("link",{key:k,rel:"modulepreload",href:k,...t})),v.map(({key:k,link:S})=>j.createElement("link",{key:k,nonce:t.nonce,...S})))}function Nv(...e){return n=>{e.forEach(t=>{typeof t=="function"?t(n):t!=null&&(t.current=n)})}}var hg=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{hg&&(window.__reactRouterVersion="7.9.5")}catch{}function Sv({basename:e,children:n,window:t}){let s=j.useRef();s.current==null&&(s.current=ub({window:t,v5Compat:!0}));let o=s.current,[c,u]=j.useState({action:o.action,location:o.location}),f=j.useCallback(h=>{j.startTransition(()=>u(h))},[u]);return j.useLayoutEffect(()=>o.listen(f),[o,f]),j.createElement(Jb,{basename:e,children:n,location:c.location,navigationType:c.action,navigator:o})}var fg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,di=j.forwardRef(function({onClick:n,discover:t="render",prefetch:s="none",relative:o,reloadDocument:c,replace:u,state:f,target:h,to:m,preventScrollReset:p,viewTransition:y,...b},v){let{basename:k}=j.useContext(Yn),S=typeof m=="string"&&fg.test(m),N,C=!1;if(typeof m=="string"&&S&&(N=m,hg))try{let Y=new URL(window.location.href),$=m.startsWith("//")?new URL(Y.protocol+m):new URL(m),Q=cr($.pathname,k);$.origin===Y.origin&&Q!=null?m=Q+$.search+$.hash:C=!0}catch{Mn(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let M=Lb(m,{relative:o}),[_,z,R]=bv(s,b),A=zv(m,{replace:u,state:f,target:h,preventScrollReset:p,relative:o,viewTransition:y});function O(Y){n&&n(Y),Y.defaultPrevented||A(Y)}let U=j.createElement("a",{...b,...R,href:N||M,onClick:C||c?n:O,ref:Nv(v,z),target:h,"data-discover":!S&&t==="render"?"true":void 0});return _&&!S?j.createElement(j.Fragment,null,U,j.createElement(vv,{page:M})):U});di.displayName="Link";var kv=j.forwardRef(function({"aria-current":n="page",caseSensitive:t=!1,className:s="",end:o=!1,style:c,to:u,viewTransition:f,children:h,...m},p){let y=Bs(u,{relative:m.relative}),b=fr(),v=j.useContext(Bl),{navigator:k,basename:S}=j.useContext(Yn),N=v!=null&&Av(y)&&f===!0,C=k.encodeLocation?k.encodeLocation(y).pathname:y.pathname,M=b.pathname,_=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;t||(M=M.toLowerCase(),_=_?_.toLowerCase():null,C=C.toLowerCase()),_&&S&&(_=cr(_,S)||_);const z=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let R=M===C||!o&&M.startsWith(C)&&M.charAt(z)==="/",A=_!=null&&(_===C||!o&&_.startsWith(C)&&_.charAt(C.length)==="/"),O={isActive:R,isPending:A,isTransitioning:N},U=R?n:void 0,Y;typeof s=="function"?Y=s(O):Y=[s,R?"active":null,A?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let $=typeof c=="function"?c(O):c;return j.createElement(di,{...m,"aria-current":U,className:Y,ref:p,style:$,to:u,viewTransition:f},typeof h=="function"?h(O):h)});kv.displayName="NavLink";var _v=j.forwardRef(({discover:e="render",fetcherKey:n,navigate:t,reloadDocument:s,replace:o,state:c,method:u=yl,action:f,onSubmit:h,relative:m,preventScrollReset:p,viewTransition:y,...b},v)=>{let k=Ev(),S=Mv(f,{relative:m}),N=u.toLowerCase()==="get"?"get":"post",C=typeof f=="string"&&fg.test(f),M=_=>{if(h&&h(_),_.defaultPrevented)return;_.preventDefault();let z=_.nativeEvent.submitter,R=(z==null?void 0:z.getAttribute("formmethod"))||u;k(z||_.currentTarget,{fetcherKey:n,method:R,navigate:t,replace:o,state:c,relative:m,preventScrollReset:p,viewTransition:y})};return j.createElement("form",{ref:v,method:N,action:S,onSubmit:s?h:M,...b,"data-discover":!C&&e==="render"?"true":void 0})});_v.displayName="Form";function Cv(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function mg(e){let n=j.useContext(wi);return ut(n,Cv(e)),n}function zv(e,{target:n,replace:t,state:s,preventScrollReset:o,relative:c,viewTransition:u}={}){let f=An(),h=fr(),m=Bs(e,{relative:c});return j.useCallback(p=>{if(iv(p,n)){p.preventDefault();let y=t!==void 0?t:zs(h)===zs(m);f(e,{replace:y,state:s,preventScrollReset:o,relative:c,viewTransition:u})}},[h,f,m,t,s,n,e,o,c,u])}function pg(e){Mn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let n=j.useRef(nd(e)),t=j.useRef(!1),s=fr(),o=j.useMemo(()=>sv(s.search,t.current?null:n.current),[s.search]),c=An(),u=j.useCallback((f,h)=>{const m=nd(typeof f=="function"?f(new URLSearchParams(o)):f);t.current=!0,c("?"+m,h)},[c,o]);return[o,u]}var Tv=0,Pv=()=>`__${String(++Tv)}__`;function Ev(){let{router:e}=mg("useSubmit"),{basename:n}=j.useContext(Yn),t=Gb();return j.useCallback(async(s,o={})=>{let{action:c,method:u,encType:f,formData:h,body:m}=cv(s,n);if(o.navigate===!1){let p=o.fetcherKey||Pv();await e.fetch(p,t,o.action||c,{preventScrollReset:o.preventScrollReset,formData:h,body:m,formMethod:o.method||u,formEncType:o.encType||f,flushSync:o.flushSync})}else await e.navigate(o.action||c,{preventScrollReset:o.preventScrollReset,formData:h,body:m,formMethod:o.method||u,formEncType:o.encType||f,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[e,n,t])}function Mv(e,{relative:n}={}){let{basename:t}=j.useContext(Yn),s=j.useContext(Kn);ut(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),c={...Bs(e||".",{relative:n})},u=fr();if(e==null){c.search=u.search;let f=new URLSearchParams(c.search),h=f.getAll("index");if(h.some(p=>p==="")){f.delete("index"),h.filter(y=>y).forEach(y=>f.append("index",y));let p=f.toString();c.search=p?`?${p}`:""}}return(!e||e===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(c.pathname=c.pathname==="/"?t:lr([t,c.pathname])),zs(c)}function Av(e,{relative:n}={}){let t=j.useContext(ig);ut(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=mg("useViewTransitionState"),o=Bs(e,{relative:n});if(!t.isTransitioning)return!1;let c=cr(t.currentLocation.pathname,s)||t.currentLocation.pathname,u=cr(t.nextLocation.pathname,s)||t.nextLocation.pathname;return zl(o.pathname,u)!=null||zl(o.pathname,c)!=null}Qp();const $d=j.createContext({});function Fd(e){const n=j.useRef(null);return n.current===null&&(n.current=e()),n.current}const Vd=typeof window<"u",gg=Vd?j.useLayoutEffect:j.useEffect,Wl=j.createContext(null);function Bd(e,n){e.indexOf(n)===-1&&e.push(n)}function qd(e,n){const t=e.indexOf(n);t>-1&&e.splice(t,1)}const ur=(e,n,t)=>t>n?n:t<e?e:t;let Wd=()=>{};const dr={},xg=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function yg(e){return typeof e=="object"&&e!==null}const bg=e=>/^0[^.\s]+$/u.test(e);function Hd(e){let n;return()=>(n===void 0&&(n=e()),n)}const vn=e=>e,Iv=(e,n)=>t=>n(e(t)),qs=(...e)=>e.reduce(Iv),Ts=(e,n,t)=>{const s=n-e;return s===0?1:(t-e)/s};class Ud{constructor(){this.subscriptions=[]}add(n){return Bd(this.subscriptions,n),()=>qd(this.subscriptions,n)}notify(n,t,s){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](n,t,s);else for(let c=0;c<o;c++){const u=this.subscriptions[c];u&&u(n,t,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const qn=e=>e*1e3,bn=e=>e/1e3;function vg(e,n){return n?e*(1e3/n):0}const wg=(e,n,t)=>(((1-3*t+3*n)*e+(3*t-6*n))*e+3*n)*e,Rv=1e-7,Dv=12;function Lv(e,n,t,s,o){let c,u,f=0;do u=n+(t-n)/2,c=wg(u,s,o)-e,c>0?t=u:n=u;while(Math.abs(c)>Rv&&++f<Dv);return u}function Ws(e,n,t,s){if(e===n&&t===s)return vn;const o=c=>Lv(c,0,1,e,t);return c=>c===0||c===1?c:wg(o(c),n,s)}const jg=e=>n=>n<=.5?e(2*n)/2:(2-e(2*(1-n)))/2,Ng=e=>n=>1-e(1-n),Sg=Ws(.33,1.53,.69,.99),Yd=Ng(Sg),kg=jg(Yd),_g=e=>(e*=2)<1?.5*Yd(e):.5*(2-Math.pow(2,-10*(e-1))),Kd=e=>1-Math.sin(Math.acos(e)),Cg=Ng(Kd),zg=jg(Kd),Ov=Ws(.42,0,1,1),$v=Ws(0,0,.58,1),Tg=Ws(.42,0,.58,1),Fv=e=>Array.isArray(e)&&typeof e[0]!="number",Pg=e=>Array.isArray(e)&&typeof e[0]=="number",Vv={linear:vn,easeIn:Ov,easeInOut:Tg,easeOut:$v,circIn:Kd,circInOut:zg,circOut:Cg,backIn:Yd,backInOut:kg,backOut:Sg,anticipate:_g},Bv=e=>typeof e=="string",um=e=>{if(Pg(e)){Wd(e.length===4);const[n,t,s,o]=e;return Ws(n,t,s,o)}else if(Bv(e))return Vv[e];return e},ul=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function qv(e,n){let t=new Set,s=new Set,o=!1,c=!1;const u=new WeakSet;let f={delta:0,timestamp:0,isProcessing:!1};function h(p){u.has(p)&&(m.schedule(p),e()),p(f)}const m={schedule:(p,y=!1,b=!1)=>{const k=b&&o?t:s;return y&&u.add(p),k.has(p)||k.add(p),p},cancel:p=>{s.delete(p),u.delete(p)},process:p=>{if(f=p,o){c=!0;return}o=!0,[t,s]=[s,t],t.forEach(h),t.clear(),o=!1,c&&(c=!1,m.process(p))}};return m}const Wv=40;function Eg(e,n){let t=!1,s=!0;const o={delta:0,timestamp:0,isProcessing:!1},c=()=>t=!0,u=ul.reduce((_,z)=>(_[z]=qv(c),_),{}),{setup:f,read:h,resolveKeyframes:m,preUpdate:p,update:y,preRender:b,render:v,postRender:k}=u,S=()=>{const _=dr.useManualTiming?o.timestamp:performance.now();t=!1,dr.useManualTiming||(o.delta=s?1e3/60:Math.max(Math.min(_-o.timestamp,Wv),1)),o.timestamp=_,o.isProcessing=!0,f.process(o),h.process(o),m.process(o),p.process(o),y.process(o),b.process(o),v.process(o),k.process(o),o.isProcessing=!1,t&&n&&(s=!1,e(S))},N=()=>{t=!0,s=!0,o.isProcessing||e(S)};return{schedule:ul.reduce((_,z)=>{const R=u[z];return _[z]=(A,O=!1,U=!1)=>(t||N(),R.schedule(A,O,U)),_},{}),cancel:_=>{for(let z=0;z<ul.length;z++)u[ul[z]].cancel(_)},state:o,steps:u}}const{schedule:it,cancel:Hr,state:Ct,steps:Ru}=Eg(typeof requestAnimationFrame<"u"?requestAnimationFrame:vn,!0);let vl;function Hv(){vl=void 0}const Zt={now:()=>(vl===void 0&&Zt.set(Ct.isProcessing||dr.useManualTiming?Ct.timestamp:performance.now()),vl),set:e=>{vl=e,queueMicrotask(Hv)}},Mg=e=>n=>typeof n=="string"&&n.startsWith(e),Gd=Mg("--"),Uv=Mg("var(--"),Xd=e=>Uv(e)?Yv.test(e.split("/*")[0].trim()):!1,Yv=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,ji={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Ps={...ji,transform:e=>ur(0,1,e)},dl={...ji,default:1},ws=e=>Math.round(e*1e5)/1e5,Zd=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Kv(e){return e==null}const Gv=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Qd=(e,n)=>t=>!!(typeof t=="string"&&Gv.test(t)&&t.startsWith(e)||n&&!Kv(t)&&Object.prototype.hasOwnProperty.call(t,n)),Ag=(e,n,t)=>s=>{if(typeof s!="string")return s;const[o,c,u,f]=s.match(Zd);return{[e]:parseFloat(o),[n]:parseFloat(c),[t]:parseFloat(u),alpha:f!==void 0?parseFloat(f):1}},Xv=e=>ur(0,255,e),Du={...ji,transform:e=>Math.round(Xv(e))},wa={test:Qd("rgb","red"),parse:Ag("red","green","blue"),transform:({red:e,green:n,blue:t,alpha:s=1})=>"rgba("+Du.transform(e)+", "+Du.transform(n)+", "+Du.transform(t)+", "+ws(Ps.transform(s))+")"};function Zv(e){let n="",t="",s="",o="";return e.length>5?(n=e.substring(1,3),t=e.substring(3,5),s=e.substring(5,7),o=e.substring(7,9)):(n=e.substring(1,2),t=e.substring(2,3),s=e.substring(3,4),o=e.substring(4,5),n+=n,t+=t,s+=s,o+=o),{red:parseInt(n,16),green:parseInt(t,16),blue:parseInt(s,16),alpha:o?parseInt(o,16)/255:1}}const rd={test:Qd("#"),parse:Zv,transform:wa.transform},Hs=e=>({test:n=>typeof n=="string"&&n.endsWith(e)&&n.split(" ").length===1,parse:parseFloat,transform:n=>`${n}${e}`}),$r=Hs("deg"),Wn=Hs("%"),ze=Hs("px"),Qv=Hs("vh"),Jv=Hs("vw"),dm={...Wn,parse:e=>Wn.parse(e)/100,transform:e=>Wn.transform(e*100)},ii={test:Qd("hsl","hue"),parse:Ag("hue","saturation","lightness"),transform:({hue:e,saturation:n,lightness:t,alpha:s=1})=>"hsla("+Math.round(e)+", "+Wn.transform(ws(n))+", "+Wn.transform(ws(t))+", "+ws(Ps.transform(s))+")"},bt={test:e=>wa.test(e)||rd.test(e)||ii.test(e),parse:e=>wa.test(e)?wa.parse(e):ii.test(e)?ii.parse(e):rd.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?wa.transform(e):ii.transform(e),getAnimatableNone:e=>{const n=bt.parse(e);return n.alpha=0,bt.transform(n)}},e1=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function t1(e){var n,t;return isNaN(e)&&typeof e=="string"&&(((n=e.match(Zd))==null?void 0:n.length)||0)+(((t=e.match(e1))==null?void 0:t.length)||0)>0}const Ig="number",Rg="color",n1="var",r1="var(",hm="${}",a1=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Es(e){const n=e.toString(),t=[],s={color:[],number:[],var:[]},o=[];let c=0;const f=n.replace(a1,h=>(bt.test(h)?(s.color.push(c),o.push(Rg),t.push(bt.parse(h))):h.startsWith(r1)?(s.var.push(c),o.push(n1),t.push(h)):(s.number.push(c),o.push(Ig),t.push(parseFloat(h))),++c,hm)).split(hm);return{values:t,split:f,indexes:s,types:o}}function Dg(e){return Es(e).values}function Lg(e){const{split:n,types:t}=Es(e),s=n.length;return o=>{let c="";for(let u=0;u<s;u++)if(c+=n[u],o[u]!==void 0){const f=t[u];f===Ig?c+=ws(o[u]):f===Rg?c+=bt.transform(o[u]):c+=o[u]}return c}}const i1=e=>typeof e=="number"?0:bt.test(e)?bt.getAnimatableNone(e):e;function s1(e){const n=Dg(e);return Lg(e)(n.map(i1))}const Ur={test:t1,parse:Dg,createTransformer:Lg,getAnimatableNone:s1};function Lu(e,n,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?e+(n-e)*6*t:t<1/2?n:t<2/3?e+(n-e)*(2/3-t)*6:e}function o1({hue:e,saturation:n,lightness:t,alpha:s}){e/=360,n/=100,t/=100;let o=0,c=0,u=0;if(!n)o=c=u=t;else{const f=t<.5?t*(1+n):t+n-t*n,h=2*t-f;o=Lu(h,f,e+1/3),c=Lu(h,f,e),u=Lu(h,f,e-1/3)}return{red:Math.round(o*255),green:Math.round(c*255),blue:Math.round(u*255),alpha:s}}function Tl(e,n){return t=>t>0?n:e}const ct=(e,n,t)=>e+(n-e)*t,Ou=(e,n,t)=>{const s=e*e,o=t*(n*n-s)+s;return o<0?0:Math.sqrt(o)},l1=[rd,wa,ii],c1=e=>l1.find(n=>n.test(e));function fm(e){const n=c1(e);if(!n)return!1;let t=n.parse(e);return n===ii&&(t=o1(t)),t}const mm=(e,n)=>{const t=fm(e),s=fm(n);if(!t||!s)return Tl(e,n);const o={...t};return c=>(o.red=Ou(t.red,s.red,c),o.green=Ou(t.green,s.green,c),o.blue=Ou(t.blue,s.blue,c),o.alpha=ct(t.alpha,s.alpha,c),wa.transform(o))},ad=new Set(["none","hidden"]);function u1(e,n){return ad.has(e)?t=>t<=0?e:n:t=>t>=1?n:e}function d1(e,n){return t=>ct(e,n,t)}function Jd(e){return typeof e=="number"?d1:typeof e=="string"?Xd(e)?Tl:bt.test(e)?mm:m1:Array.isArray(e)?Og:typeof e=="object"?bt.test(e)?mm:h1:Tl}function Og(e,n){const t=[...e],s=t.length,o=e.map((c,u)=>Jd(c)(c,n[u]));return c=>{for(let u=0;u<s;u++)t[u]=o[u](c);return t}}function h1(e,n){const t={...e,...n},s={};for(const o in t)e[o]!==void 0&&n[o]!==void 0&&(s[o]=Jd(e[o])(e[o],n[o]));return o=>{for(const c in s)t[c]=s[c](o);return t}}function f1(e,n){const t=[],s={color:0,var:0,number:0};for(let o=0;o<n.values.length;o++){const c=n.types[o],u=e.indexes[c][s[c]],f=e.values[u]??0;t[o]=f,s[c]++}return t}const m1=(e,n)=>{const t=Ur.createTransformer(n),s=Es(e),o=Es(n);return s.indexes.var.length===o.indexes.var.length&&s.indexes.color.length===o.indexes.color.length&&s.indexes.number.length>=o.indexes.number.length?ad.has(e)&&!o.values.length||ad.has(n)&&!s.values.length?u1(e,n):qs(Og(f1(s,o),o.values),t):Tl(e,n)};function $g(e,n,t){return typeof e=="number"&&typeof n=="number"&&typeof t=="number"?ct(e,n,t):Jd(e)(e,n)}const p1=e=>{const n=({timestamp:t})=>e(t);return{start:(t=!0)=>it.update(n,t),stop:()=>Hr(n),now:()=>Ct.isProcessing?Ct.timestamp:Zt.now()}},Fg=(e,n,t=10)=>{let s="";const o=Math.max(Math.round(n/t),2);for(let c=0;c<o;c++)s+=Math.round(e(c/(o-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},Pl=2e4;function e0(e){let n=0;const t=50;let s=e.next(n);for(;!s.done&&n<Pl;)n+=t,s=e.next(n);return n>=Pl?1/0:n}function g1(e,n=100,t){const s=t({...e,keyframes:[0,n]}),o=Math.min(e0(s),Pl);return{type:"keyframes",ease:c=>s.next(o*c).value/n,duration:bn(o)}}const x1=5;function Vg(e,n,t){const s=Math.max(n-x1,0);return vg(t-e(s),n-s)}const ft={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},$u=.001;function y1({duration:e=ft.duration,bounce:n=ft.bounce,velocity:t=ft.velocity,mass:s=ft.mass}){let o,c,u=1-n;u=ur(ft.minDamping,ft.maxDamping,u),e=ur(ft.minDuration,ft.maxDuration,bn(e)),u<1?(o=m=>{const p=m*u,y=p*e,b=p-t,v=id(m,u),k=Math.exp(-y);return $u-b/v*k},c=m=>{const y=m*u*e,b=y*t+t,v=Math.pow(u,2)*Math.pow(m,2)*e,k=Math.exp(-y),S=id(Math.pow(m,2),u);return(-o(m)+$u>0?-1:1)*((b-v)*k)/S}):(o=m=>{const p=Math.exp(-m*e),y=(m-t)*e+1;return-$u+p*y},c=m=>{const p=Math.exp(-m*e),y=(t-m)*(e*e);return p*y});const f=5/e,h=v1(o,c,f);if(e=qn(e),isNaN(h))return{stiffness:ft.stiffness,damping:ft.damping,duration:e};{const m=Math.pow(h,2)*s;return{stiffness:m,damping:u*2*Math.sqrt(s*m),duration:e}}}const b1=12;function v1(e,n,t){let s=t;for(let o=1;o<b1;o++)s=s-e(s)/n(s);return s}function id(e,n){return e*Math.sqrt(1-n*n)}const w1=["duration","bounce"],j1=["stiffness","damping","mass"];function pm(e,n){return n.some(t=>e[t]!==void 0)}function N1(e){let n={velocity:ft.velocity,stiffness:ft.stiffness,damping:ft.damping,mass:ft.mass,isResolvedFromDuration:!1,...e};if(!pm(e,j1)&&pm(e,w1))if(e.visualDuration){const t=e.visualDuration,s=2*Math.PI/(t*1.2),o=s*s,c=2*ur(.05,1,1-(e.bounce||0))*Math.sqrt(o);n={...n,mass:ft.mass,stiffness:o,damping:c}}else{const t=y1(e);n={...n,...t,mass:ft.mass},n.isResolvedFromDuration=!0}return n}function El(e=ft.visualDuration,n=ft.bounce){const t=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:n}:e;let{restSpeed:s,restDelta:o}=t;const c=t.keyframes[0],u=t.keyframes[t.keyframes.length-1],f={done:!1,value:c},{stiffness:h,damping:m,mass:p,duration:y,velocity:b,isResolvedFromDuration:v}=N1({...t,velocity:-bn(t.velocity||0)}),k=b||0,S=m/(2*Math.sqrt(h*p)),N=u-c,C=bn(Math.sqrt(h/p)),M=Math.abs(N)<5;s||(s=M?ft.restSpeed.granular:ft.restSpeed.default),o||(o=M?ft.restDelta.granular:ft.restDelta.default);let _;if(S<1){const R=id(C,S);_=A=>{const O=Math.exp(-S*C*A);return u-O*((k+S*C*N)/R*Math.sin(R*A)+N*Math.cos(R*A))}}else if(S===1)_=R=>u-Math.exp(-C*R)*(N+(k+C*N)*R);else{const R=C*Math.sqrt(S*S-1);_=A=>{const O=Math.exp(-S*C*A),U=Math.min(R*A,300);return u-O*((k+S*C*N)*Math.sinh(U)+R*N*Math.cosh(U))/R}}const z={calculatedDuration:v&&y||null,next:R=>{const A=_(R);if(v)f.done=R>=y;else{let O=R===0?k:0;S<1&&(O=R===0?qn(k):Vg(_,R,A));const U=Math.abs(O)<=s,Y=Math.abs(u-A)<=o;f.done=U&&Y}return f.value=f.done?u:A,f},toString:()=>{const R=Math.min(e0(z),Pl),A=Fg(O=>z.next(R*O).value,R,30);return R+"ms "+A},toTransition:()=>{}};return z}El.applyToOptions=e=>{const n=g1(e,100,El);return e.ease=n.ease,e.duration=qn(n.duration),e.type="keyframes",e};function sd({keyframes:e,velocity:n=0,power:t=.8,timeConstant:s=325,bounceDamping:o=10,bounceStiffness:c=500,modifyTarget:u,min:f,max:h,restDelta:m=.5,restSpeed:p}){const y=e[0],b={done:!1,value:y},v=U=>f!==void 0&&U<f||h!==void 0&&U>h,k=U=>f===void 0?h:h===void 0||Math.abs(f-U)<Math.abs(h-U)?f:h;let S=t*n;const N=y+S,C=u===void 0?N:u(N);C!==N&&(S=C-y);const M=U=>-S*Math.exp(-U/s),_=U=>C+M(U),z=U=>{const Y=M(U),$=_(U);b.done=Math.abs(Y)<=m,b.value=b.done?C:$};let R,A;const O=U=>{v(b.value)&&(R=U,A=El({keyframes:[b.value,k(b.value)],velocity:Vg(_,U,b.value),damping:o,stiffness:c,restDelta:m,restSpeed:p}))};return O(0),{calculatedDuration:null,next:U=>{let Y=!1;return!A&&R===void 0&&(Y=!0,z(U),O(U)),R!==void 0&&U>=R?A.next(U-R):(!Y&&z(U),b)}}}function S1(e,n,t){const s=[],o=t||dr.mix||$g,c=e.length-1;for(let u=0;u<c;u++){let f=o(e[u],e[u+1]);if(n){const h=Array.isArray(n)?n[u]||vn:n;f=qs(h,f)}s.push(f)}return s}function k1(e,n,{clamp:t=!0,ease:s,mixer:o}={}){const c=e.length;if(Wd(c===n.length),c===1)return()=>n[0];if(c===2&&n[0]===n[1])return()=>n[1];const u=e[0]===e[1];e[0]>e[c-1]&&(e=[...e].reverse(),n=[...n].reverse());const f=S1(n,s,o),h=f.length,m=p=>{if(u&&p<e[0])return n[0];let y=0;if(h>1)for(;y<e.length-2&&!(p<e[y+1]);y++);const b=Ts(e[y],e[y+1],p);return f[y](b)};return t?p=>m(ur(e[0],e[c-1],p)):m}function _1(e,n){const t=e[e.length-1];for(let s=1;s<=n;s++){const o=Ts(0,n,s);e.push(ct(t,1,o))}}function C1(e){const n=[0];return _1(n,e.length-1),n}function z1(e,n){return e.map(t=>t*n)}function T1(e,n){return e.map(()=>n||Tg).splice(0,e.length-1)}function js({duration:e=300,keyframes:n,times:t,ease:s="easeInOut"}){const o=Fv(s)?s.map(um):um(s),c={done:!1,value:n[0]},u=z1(t&&t.length===n.length?t:C1(n),e),f=k1(u,n,{ease:Array.isArray(o)?o:T1(n,o)});return{calculatedDuration:e,next:h=>(c.value=f(h),c.done=h>=e,c)}}const P1=e=>e!==null;function t0(e,{repeat:n,repeatType:t="loop"},s,o=1){const c=e.filter(P1),f=o<0||n&&t!=="loop"&&n%2===1?0:c.length-1;return!f||s===void 0?c[f]:s}const E1={decay:sd,inertia:sd,tween:js,keyframes:js,spring:El};function Bg(e){typeof e.type=="string"&&(e.type=E1[e.type])}class n0{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(n=>{this.resolve=n})}notifyFinished(){this.resolve()}then(n,t){return this.finished.then(n,t)}}const M1=e=>e/100;class r0 extends n0{constructor(n){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var s,o;const{motionValue:t}=this.options;t&&t.updatedAt!==Zt.now()&&this.tick(Zt.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(o=(s=this.options).onStop)==null||o.call(s))},this.options=n,this.initAnimation(),this.play(),n.autoplay===!1&&this.pause()}initAnimation(){const{options:n}=this;Bg(n);const{type:t=js,repeat:s=0,repeatDelay:o=0,repeatType:c,velocity:u=0}=n;let{keyframes:f}=n;const h=t||js;h!==js&&typeof f[0]!="number"&&(this.mixKeyframes=qs(M1,$g(f[0],f[1])),f=[0,100]);const m=h({...n,keyframes:f});c==="mirror"&&(this.mirroredGenerator=h({...n,keyframes:[...f].reverse(),velocity:-u})),m.calculatedDuration===null&&(m.calculatedDuration=e0(m));const{calculatedDuration:p}=m;this.calculatedDuration=p,this.resolvedDuration=p+o,this.totalDuration=this.resolvedDuration*(s+1)-o,this.generator=m}updateTime(n){const t=Math.round(n-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=t}tick(n,t=!1){const{generator:s,totalDuration:o,mixKeyframes:c,mirroredGenerator:u,resolvedDuration:f,calculatedDuration:h}=this;if(this.startTime===null)return s.next(0);const{delay:m=0,keyframes:p,repeat:y,repeatType:b,repeatDelay:v,type:k,onUpdate:S,finalKeyframe:N}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,n):this.speed<0&&(this.startTime=Math.min(n-o/this.speed,this.startTime)),t?this.currentTime=n:this.updateTime(n);const C=this.currentTime-m*(this.playbackSpeed>=0?1:-1),M=this.playbackSpeed>=0?C<0:C>o;this.currentTime=Math.max(C,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let _=this.currentTime,z=s;if(y){const U=Math.min(this.currentTime,o)/f;let Y=Math.floor(U),$=U%1;!$&&U>=1&&($=1),$===1&&Y--,Y=Math.min(Y,y+1),!!(Y%2)&&(b==="reverse"?($=1-$,v&&($-=v/f)):b==="mirror"&&(z=u)),_=ur(0,1,$)*f}const R=M?{done:!1,value:p[0]}:z.next(_);c&&(R.value=c(R.value));let{done:A}=R;!M&&h!==null&&(A=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const O=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&A);return O&&k!==sd&&(R.value=t0(p,this.options,N,this.speed)),S&&S(R.value),O&&this.finish(),R}then(n,t){return this.finished.then(n,t)}get duration(){return bn(this.calculatedDuration)}get iterationDuration(){const{delay:n=0}=this.options||{};return this.duration+bn(n)}get time(){return bn(this.currentTime)}set time(n){var t;n=qn(n),this.currentTime=n,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=n:this.driver&&(this.startTime=this.driver.now()-n/this.playbackSpeed),(t=this.driver)==null||t.start(!1)}get speed(){return this.playbackSpeed}set speed(n){this.updateTime(Zt.now());const t=this.playbackSpeed!==n;this.playbackSpeed=n,t&&(this.time=bn(this.currentTime))}play(){var o,c;if(this.isStopped)return;const{driver:n=p1,startTime:t}=this.options;this.driver||(this.driver=n(u=>this.tick(u))),(c=(o=this.options).onPlay)==null||c.call(o);const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=t??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Zt.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var n,t;this.notifyFinished(),this.teardown(),this.state="finished",(t=(n=this.options).onComplete)==null||t.call(n)}cancel(){var n,t;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(t=(n=this.options).onCancel)==null||t.call(n)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(n){return this.startTime=0,this.tick(n,!0)}attachTimeline(n){var t;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(t=this.driver)==null||t.stop(),n.observe(this)}}function A1(e){for(let n=1;n<e.length;n++)e[n]??(e[n]=e[n-1])}const ja=e=>e*180/Math.PI,od=e=>{const n=ja(Math.atan2(e[1],e[0]));return ld(n)},I1={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:od,rotateZ:od,skewX:e=>ja(Math.atan(e[1])),skewY:e=>ja(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},ld=e=>(e=e%360,e<0&&(e+=360),e),gm=od,xm=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),ym=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),R1={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:xm,scaleY:ym,scale:e=>(xm(e)+ym(e))/2,rotateX:e=>ld(ja(Math.atan2(e[6],e[5]))),rotateY:e=>ld(ja(Math.atan2(-e[2],e[0]))),rotateZ:gm,rotate:gm,skewX:e=>ja(Math.atan(e[4])),skewY:e=>ja(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function cd(e){return e.includes("scale")?1:0}function ud(e,n){if(!e||e==="none")return cd(n);const t=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,o;if(t)s=R1,o=t;else{const f=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=I1,o=f}if(!o)return cd(n);const c=s[n],u=o[1].split(",").map(L1);return typeof c=="function"?c(u):u[c]}const D1=(e,n)=>{const{transform:t="none"}=getComputedStyle(e);return ud(t,n)};function L1(e){return parseFloat(e.trim())}const Ni=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Si=new Set(Ni),bm=e=>e===ji||e===ze,O1=new Set(["x","y","z"]),$1=Ni.filter(e=>!O1.has(e));function F1(e){const n=[];return $1.forEach(t=>{const s=e.getValue(t);s!==void 0&&(n.push([t,s.get()]),s.set(t.startsWith("scale")?1:0))}),n}const Sa={width:({x:e},{paddingLeft:n="0",paddingRight:t="0"})=>e.max-e.min-parseFloat(n)-parseFloat(t),height:({y:e},{paddingTop:n="0",paddingBottom:t="0"})=>e.max-e.min-parseFloat(n)-parseFloat(t),top:(e,{top:n})=>parseFloat(n),left:(e,{left:n})=>parseFloat(n),bottom:({y:e},{top:n})=>parseFloat(n)+(e.max-e.min),right:({x:e},{left:n})=>parseFloat(n)+(e.max-e.min),x:(e,{transform:n})=>ud(n,"x"),y:(e,{transform:n})=>ud(n,"y")};Sa.translateX=Sa.x;Sa.translateY=Sa.y;const ka=new Set;let dd=!1,hd=!1,fd=!1;function qg(){if(hd){const e=Array.from(ka).filter(s=>s.needsMeasurement),n=new Set(e.map(s=>s.element)),t=new Map;n.forEach(s=>{const o=F1(s);o.length&&(t.set(s,o),s.render())}),e.forEach(s=>s.measureInitialState()),n.forEach(s=>{s.render();const o=t.get(s);o&&o.forEach(([c,u])=>{var f;(f=s.getValue(c))==null||f.set(u)})}),e.forEach(s=>s.measureEndState()),e.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}hd=!1,dd=!1,ka.forEach(e=>e.complete(fd)),ka.clear()}function Wg(){ka.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(hd=!0)})}function V1(){fd=!0,Wg(),qg(),fd=!1}class a0{constructor(n,t,s,o,c,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...n],this.onComplete=t,this.name=s,this.motionValue=o,this.element=c,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(ka.add(this),dd||(dd=!0,it.read(Wg),it.resolveKeyframes(qg))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:n,name:t,element:s,motionValue:o}=this;if(n[0]===null){const c=o==null?void 0:o.get(),u=n[n.length-1];if(c!==void 0)n[0]=c;else if(s&&t){const f=s.readValue(t,u);f!=null&&(n[0]=f)}n[0]===void 0&&(n[0]=u),o&&c===void 0&&o.set(n[0])}A1(n)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(n=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,n),ka.delete(this)}cancel(){this.state==="scheduled"&&(ka.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const B1=e=>e.startsWith("--");function q1(e,n,t){B1(n)?e.style.setProperty(n,t):e.style[n]=t}const W1=Hd(()=>window.ScrollTimeline!==void 0),H1={};function U1(e,n){const t=Hd(e);return()=>H1[n]??t()}const Hg=U1(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),xs=([e,n,t,s])=>`cubic-bezier(${e}, ${n}, ${t}, ${s})`,vm={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:xs([0,.65,.55,1]),circOut:xs([.55,0,1,.45]),backIn:xs([.31,.01,.66,-.59]),backOut:xs([.33,1.53,.69,.99])};function Ug(e,n){if(e)return typeof e=="function"?Hg()?Fg(e,n):"ease-out":Pg(e)?xs(e):Array.isArray(e)?e.map(t=>Ug(t,n)||vm.easeOut):vm[e]}function Y1(e,n,t,{delay:s=0,duration:o=300,repeat:c=0,repeatType:u="loop",ease:f="easeOut",times:h}={},m=void 0){const p={[n]:t};h&&(p.offset=h);const y=Ug(f,o);Array.isArray(y)&&(p.easing=y);const b={delay:s,duration:o,easing:Array.isArray(y)?"linear":y,fill:"both",iterations:c+1,direction:u==="reverse"?"alternate":"normal"};return m&&(b.pseudoElement=m),e.animate(p,b)}function Yg(e){return typeof e=="function"&&"applyToOptions"in e}function K1({type:e,...n}){return Yg(e)&&Hg()?e.applyToOptions(n):(n.duration??(n.duration=300),n.ease??(n.ease="easeOut"),n)}class G1 extends n0{constructor(n){if(super(),this.finishedTime=null,this.isStopped=!1,!n)return;const{element:t,name:s,keyframes:o,pseudoElement:c,allowFlatten:u=!1,finalKeyframe:f,onComplete:h}=n;this.isPseudoElement=!!c,this.allowFlatten=u,this.options=n,Wd(typeof n.type!="string");const m=K1(n);this.animation=Y1(t,s,o,m,c),m.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!c){const p=t0(o,this.options,f,this.speed);this.updateMotionValue?this.updateMotionValue(p):q1(t,s,p),this.animation.cancel()}h==null||h(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var n,t;(t=(n=this.animation).finish)==null||t.call(n)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:n}=this;n==="idle"||n==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var n,t;this.isPseudoElement||(t=(n=this.animation).commitStyles)==null||t.call(n)}get duration(){var t,s;const n=((s=(t=this.animation.effect)==null?void 0:t.getComputedTiming)==null?void 0:s.call(t).duration)||0;return bn(Number(n))}get iterationDuration(){const{delay:n=0}=this.options||{};return this.duration+bn(n)}get time(){return bn(Number(this.animation.currentTime)||0)}set time(n){this.finishedTime=null,this.animation.currentTime=qn(n)}get speed(){return this.animation.playbackRate}set speed(n){n<0&&(this.finishedTime=null),this.animation.playbackRate=n}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(n){this.animation.startTime=n}attachTimeline({timeline:n,observe:t}){var s;return this.allowFlatten&&((s=this.animation.effect)==null||s.updateTiming({easing:"linear"})),this.animation.onfinish=null,n&&W1()?(this.animation.timeline=n,vn):t(this)}}const Kg={anticipate:_g,backInOut:kg,circInOut:zg};function X1(e){return e in Kg}function Z1(e){typeof e.ease=="string"&&X1(e.ease)&&(e.ease=Kg[e.ease])}const wm=10;class Q1 extends G1{constructor(n){Z1(n),Bg(n),super(n),n.startTime&&(this.startTime=n.startTime),this.options=n}updateMotionValue(n){const{motionValue:t,onUpdate:s,onComplete:o,element:c,...u}=this.options;if(!t)return;if(n!==void 0){t.set(n);return}const f=new r0({...u,autoplay:!1}),h=qn(this.finishedTime??this.time);t.setWithVelocity(f.sample(h-wm).value,f.sample(h).value,wm),f.stop()}}const jm=(e,n)=>n==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Ur.test(e)||e==="0")&&!e.startsWith("url("));function J1(e){const n=e[0];if(e.length===1)return!0;for(let t=0;t<e.length;t++)if(e[t]!==n)return!0}function ew(e,n,t,s){const o=e[0];if(o===null)return!1;if(n==="display"||n==="visibility")return!0;const c=e[e.length-1],u=jm(o,n),f=jm(c,n);return!u||!f?!1:J1(e)||(t==="spring"||Yg(t))&&s}function md(e){e.duration=0,e.type="keyframes"}const tw=new Set(["opacity","clipPath","filter","transform"]),nw=Hd(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function rw(e){var p;const{motionValue:n,name:t,repeatDelay:s,repeatType:o,damping:c,type:u}=e;if(!(((p=n==null?void 0:n.owner)==null?void 0:p.current)instanceof HTMLElement))return!1;const{onUpdate:h,transformTemplate:m}=n.owner.getProps();return nw()&&t&&tw.has(t)&&(t!=="transform"||!m)&&!h&&!s&&o!=="mirror"&&c!==0&&u!=="inertia"}const aw=40;class iw extends n0{constructor({autoplay:n=!0,delay:t=0,type:s="keyframes",repeat:o=0,repeatDelay:c=0,repeatType:u="loop",keyframes:f,name:h,motionValue:m,element:p,...y}){var k;super(),this.stop=()=>{var S,N;this._animation&&(this._animation.stop(),(S=this.stopTimeline)==null||S.call(this)),(N=this.keyframeResolver)==null||N.cancel()},this.createdAt=Zt.now();const b={autoplay:n,delay:t,type:s,repeat:o,repeatDelay:c,repeatType:u,name:h,motionValue:m,element:p,...y},v=(p==null?void 0:p.KeyframeResolver)||a0;this.keyframeResolver=new v(f,(S,N,C)=>this.onKeyframesResolved(S,N,b,!C),h,m,p),(k=this.keyframeResolver)==null||k.scheduleResolve()}onKeyframesResolved(n,t,s,o){this.keyframeResolver=void 0;const{name:c,type:u,velocity:f,delay:h,isHandoff:m,onUpdate:p}=s;this.resolvedAt=Zt.now(),ew(n,c,u,f)||((dr.instantAnimations||!h)&&(p==null||p(t0(n,s,t))),n[0]=n[n.length-1],md(s),s.repeat=0);const b={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>aw?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:t,...s,keyframes:n},v=!m&&rw(b)?new Q1({...b,element:b.motionValue.owner.current}):new r0(b);v.finished.then(()=>this.notifyFinished()).catch(vn),this.pendingTimeline&&(this.stopTimeline=v.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=v}get finished(){return this._animation?this.animation.finished:this._finished}then(n,t){return this.finished.finally(n).then(()=>{})}get animation(){var n;return this._animation||((n=this.keyframeResolver)==null||n.resume(),V1()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(n){this.animation.time=n}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(n){this.animation.speed=n}get startTime(){return this.animation.startTime}attachTimeline(n){return this._animation?this.stopTimeline=this.animation.attachTimeline(n):this.pendingTimeline=n,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var n;this._animation&&this.animation.cancel(),(n=this.keyframeResolver)==null||n.cancel()}}const sw=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function ow(e){const n=sw.exec(e);if(!n)return[,];const[,t,s,o]=n;return[`--${t??s}`,o]}function Gg(e,n,t=1){const[s,o]=ow(e);if(!s)return;const c=window.getComputedStyle(n).getPropertyValue(s);if(c){const u=c.trim();return xg(u)?parseFloat(u):u}return Xd(o)?Gg(o,n,t+1):o}function i0(e,n){return(e==null?void 0:e[n])??(e==null?void 0:e.default)??e}const Xg=new Set(["width","height","top","left","right","bottom",...Ni]),lw={test:e=>e==="auto",parse:e=>e},Zg=e=>n=>n.test(e),Qg=[ji,ze,Wn,$r,Jv,Qv,lw],Nm=e=>Qg.find(Zg(e));function cw(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||bg(e):!0}const uw=new Set(["brightness","contrast","saturate","opacity"]);function dw(e){const[n,t]=e.slice(0,-1).split("(");if(n==="drop-shadow")return e;const[s]=t.match(Zd)||[];if(!s)return e;const o=t.replace(s,"");let c=uw.has(n)?1:0;return s!==t&&(c*=100),n+"("+c+o+")"}const hw=/\b([a-z-]*)\(.*?\)/gu,pd={...Ur,getAnimatableNone:e=>{const n=e.match(hw);return n?n.map(dw).join(" "):e}},Sm={...ji,transform:Math.round},fw={rotate:$r,rotateX:$r,rotateY:$r,rotateZ:$r,scale:dl,scaleX:dl,scaleY:dl,scaleZ:dl,skew:$r,skewX:$r,skewY:$r,distance:ze,translateX:ze,translateY:ze,translateZ:ze,x:ze,y:ze,z:ze,perspective:ze,transformPerspective:ze,opacity:Ps,originX:dm,originY:dm,originZ:ze},s0={borderWidth:ze,borderTopWidth:ze,borderRightWidth:ze,borderBottomWidth:ze,borderLeftWidth:ze,borderRadius:ze,radius:ze,borderTopLeftRadius:ze,borderTopRightRadius:ze,borderBottomRightRadius:ze,borderBottomLeftRadius:ze,width:ze,maxWidth:ze,height:ze,maxHeight:ze,top:ze,right:ze,bottom:ze,left:ze,padding:ze,paddingTop:ze,paddingRight:ze,paddingBottom:ze,paddingLeft:ze,margin:ze,marginTop:ze,marginRight:ze,marginBottom:ze,marginLeft:ze,backgroundPositionX:ze,backgroundPositionY:ze,...fw,zIndex:Sm,fillOpacity:Ps,strokeOpacity:Ps,numOctaves:Sm},mw={...s0,color:bt,backgroundColor:bt,outlineColor:bt,fill:bt,stroke:bt,borderColor:bt,borderTopColor:bt,borderRightColor:bt,borderBottomColor:bt,borderLeftColor:bt,filter:pd,WebkitFilter:pd},Jg=e=>mw[e];function ex(e,n){let t=Jg(e);return t!==pd&&(t=Ur),t.getAnimatableNone?t.getAnimatableNone(n):void 0}const pw=new Set(["auto","none","0"]);function gw(e,n,t){let s=0,o;for(;s<e.length&&!o;){const c=e[s];typeof c=="string"&&!pw.has(c)&&Es(c).values.length&&(o=e[s]),s++}if(o&&t)for(const c of n)e[c]=ex(t,o)}class xw extends a0{constructor(n,t,s,o,c){super(n,t,s,o,c,!0)}readKeyframes(){const{unresolvedKeyframes:n,element:t,name:s}=this;if(!t||!t.current)return;super.readKeyframes();for(let h=0;h<n.length;h++){let m=n[h];if(typeof m=="string"&&(m=m.trim(),Xd(m))){const p=Gg(m,t.current);p!==void 0&&(n[h]=p),h===n.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!Xg.has(s)||n.length!==2)return;const[o,c]=n,u=Nm(o),f=Nm(c);if(u!==f)if(bm(u)&&bm(f))for(let h=0;h<n.length;h++){const m=n[h];typeof m=="string"&&(n[h]=parseFloat(m))}else Sa[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:n,name:t}=this,s=[];for(let o=0;o<n.length;o++)(n[o]===null||cw(n[o]))&&s.push(o);s.length&&gw(n,s,t)}measureInitialState(){const{element:n,unresolvedKeyframes:t,name:s}=this;if(!n||!n.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Sa[s](n.measureViewportBox(),window.getComputedStyle(n.current)),t[0]=this.measuredOrigin;const o=t[t.length-1];o!==void 0&&n.getValue(s,o).jump(o,!1)}measureEndState(){var f;const{element:n,name:t,unresolvedKeyframes:s}=this;if(!n||!n.current)return;const o=n.getValue(t);o&&o.jump(this.measuredOrigin,!1);const c=s.length-1,u=s[c];s[c]=Sa[t](n.measureViewportBox(),window.getComputedStyle(n.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),(f=this.removedTransforms)!=null&&f.length&&this.removedTransforms.forEach(([h,m])=>{n.getValue(h).set(m)}),this.resolveNoneKeyframes()}}function yw(e,n,t){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let s=document;const o=(t==null?void 0:t[e])??s.querySelectorAll(e);return o?Array.from(o):[]}return Array.from(e)}const tx=(e,n)=>n&&typeof e=="number"?n.transform(e):e;function nx(e){return yg(e)&&"offsetHeight"in e}const km=30,bw=e=>!isNaN(parseFloat(e));class vw{constructor(n,t={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{var c;const o=Zt.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&((c=this.events.change)==null||c.notify(this.current),this.dependents))for(const u of this.dependents)u.dirty()},this.hasAnimated=!1,this.setCurrent(n),this.owner=t.owner}setCurrent(n){this.current=n,this.updatedAt=Zt.now(),this.canTrackVelocity===null&&n!==void 0&&(this.canTrackVelocity=bw(this.current))}setPrevFrameValue(n=this.current){this.prevFrameValue=n,this.prevUpdatedAt=this.updatedAt}onChange(n){return this.on("change",n)}on(n,t){this.events[n]||(this.events[n]=new Ud);const s=this.events[n].add(t);return n==="change"?()=>{s(),it.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const n in this.events)this.events[n].clear()}attach(n,t){this.passiveEffect=n,this.stopPassiveEffect=t}set(n){this.passiveEffect?this.passiveEffect(n,this.updateAndNotify):this.updateAndNotify(n)}setWithVelocity(n,t,s){this.set(t),this.prev=void 0,this.prevFrameValue=n,this.prevUpdatedAt=this.updatedAt-s}jump(n,t=!0){this.updateAndNotify(n),this.prev=n,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var n;(n=this.events.change)==null||n.notify(this.current)}addDependent(n){this.dependents||(this.dependents=new Set),this.dependents.add(n)}removeDependent(n){this.dependents&&this.dependents.delete(n)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const n=Zt.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||n-this.updatedAt>km)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,km);return vg(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(n){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=n(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var n,t;(n=this.dependents)==null||n.clear(),(t=this.events.destroy)==null||t.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function gi(e,n){return new vw(e,n)}const{schedule:o0}=Eg(queueMicrotask,!1),Pn={x:!1,y:!1};function rx(){return Pn.x||Pn.y}function ww(e){return e==="x"||e==="y"?Pn[e]?null:(Pn[e]=!0,()=>{Pn[e]=!1}):Pn.x||Pn.y?null:(Pn.x=Pn.y=!0,()=>{Pn.x=Pn.y=!1})}function ax(e,n){const t=yw(e),s=new AbortController,o={passive:!0,...n,signal:s.signal};return[t,o,()=>s.abort()]}function _m(e){return!(e.pointerType==="touch"||rx())}function jw(e,n,t={}){const[s,o,c]=ax(e,t),u=f=>{if(!_m(f))return;const{target:h}=f,m=n(h,f);if(typeof m!="function"||!h)return;const p=y=>{_m(y)&&(m(y),h.removeEventListener("pointerleave",p))};h.addEventListener("pointerleave",p,o)};return s.forEach(f=>{f.addEventListener("pointerenter",u,o)}),c}const ix=(e,n)=>n?e===n?!0:ix(e,n.parentElement):!1,l0=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,Nw=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Sw(e){return Nw.has(e.tagName)||e.tabIndex!==-1}const wl=new WeakSet;function Cm(e){return n=>{n.key==="Enter"&&e(n)}}function Fu(e,n){e.dispatchEvent(new PointerEvent("pointer"+n,{isPrimary:!0,bubbles:!0}))}const kw=(e,n)=>{const t=e.currentTarget;if(!t)return;const s=Cm(()=>{if(wl.has(t))return;Fu(t,"down");const o=Cm(()=>{Fu(t,"up")}),c=()=>Fu(t,"cancel");t.addEventListener("keyup",o,n),t.addEventListener("blur",c,n)});t.addEventListener("keydown",s,n),t.addEventListener("blur",()=>t.removeEventListener("keydown",s),n)};function zm(e){return l0(e)&&!rx()}function _w(e,n,t={}){const[s,o,c]=ax(e,t),u=f=>{const h=f.currentTarget;if(!zm(f))return;wl.add(h);const m=n(h,f),p=(v,k)=>{window.removeEventListener("pointerup",y),window.removeEventListener("pointercancel",b),wl.has(h)&&wl.delete(h),zm(v)&&typeof m=="function"&&m(v,{success:k})},y=v=>{p(v,h===window||h===document||t.useGlobalTarget||ix(h,v.target))},b=v=>{p(v,!1)};window.addEventListener("pointerup",y,o),window.addEventListener("pointercancel",b,o)};return s.forEach(f=>{(t.useGlobalTarget?window:f).addEventListener("pointerdown",u,o),nx(f)&&(f.addEventListener("focus",m=>kw(m,o)),!Sw(f)&&!f.hasAttribute("tabindex")&&(f.tabIndex=0))}),c}function sx(e){return yg(e)&&"ownerSVGElement"in e}function Cw(e){return sx(e)&&e.tagName==="svg"}const Dt=e=>!!(e&&e.getVelocity),zw=[...Qg,bt,Ur],Tw=e=>zw.find(Zg(e)),c0=j.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function Tm(e,n){if(typeof e=="function")return e(n);e!=null&&(e.current=n)}function Pw(...e){return n=>{let t=!1;const s=e.map(o=>{const c=Tm(o,n);return!t&&typeof c=="function"&&(t=!0),c});if(t)return()=>{for(let o=0;o<s.length;o++){const c=s[o];typeof c=="function"?c():Tm(e[o],null)}}}}function Ew(...e){return j.useCallback(Pw(...e),e)}class Mw extends j.Component{getSnapshotBeforeUpdate(n){const t=this.props.childRef.current;if(t&&n.isPresent&&!this.props.isPresent){const s=t.offsetParent,o=nx(s)&&s.offsetWidth||0,c=this.props.sizeRef.current;c.height=t.offsetHeight||0,c.width=t.offsetWidth||0,c.top=t.offsetTop,c.left=t.offsetLeft,c.right=o-c.width-c.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Aw({children:e,isPresent:n,anchorX:t,root:s}){const o=j.useId(),c=j.useRef(null),u=j.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:f}=j.useContext(c0),h=Ew(c,e==null?void 0:e.ref);return j.useInsertionEffect(()=>{const{width:m,height:p,top:y,left:b,right:v}=u.current;if(n||!c.current||!m||!p)return;const k=t==="left"?`left: ${b}`:`right: ${v}`;c.current.dataset.motionPopId=o;const S=document.createElement("style");f&&(S.nonce=f);const N=s??document.head;return N.appendChild(S),S.sheet&&S.sheet.insertRule(`
          [data-motion-pop-id="${o}"] {
            position: absolute !important;
            width: ${m}px !important;
            height: ${p}px !important;
            ${k}px !important;
            top: ${y}px !important;
          }
        `),()=>{N.contains(S)&&N.removeChild(S)}},[n]),i.jsx(Mw,{isPresent:n,childRef:c,sizeRef:u,children:j.cloneElement(e,{ref:h})})}const Iw=({children:e,initial:n,isPresent:t,onExitComplete:s,custom:o,presenceAffectsLayout:c,mode:u,anchorX:f,root:h})=>{const m=Fd(Rw),p=j.useId();let y=!0,b=j.useMemo(()=>(y=!1,{id:p,initial:n,isPresent:t,custom:o,onExitComplete:v=>{m.set(v,!0);for(const k of m.values())if(!k)return;s&&s()},register:v=>(m.set(v,!1),()=>m.delete(v))}),[t,m,s]);return c&&y&&(b={...b}),j.useMemo(()=>{m.forEach((v,k)=>m.set(k,!1))},[t]),j.useEffect(()=>{!t&&!m.size&&s&&s()},[t]),u==="popLayout"&&(e=i.jsx(Aw,{isPresent:t,anchorX:f,root:h,children:e})),i.jsx(Wl.Provider,{value:b,children:e})};function Rw(){return new Map}function ox(e=!0){const n=j.useContext(Wl);if(n===null)return[!0,null];const{isPresent:t,onExitComplete:s,register:o}=n,c=j.useId();j.useEffect(()=>{if(e)return o(c)},[e]);const u=j.useCallback(()=>e&&s&&s(c),[c,s,e]);return!t&&s?[!1,u]:[!0]}const hl=e=>e.key||"";function Pm(e){const n=[];return j.Children.forEach(e,t=>{j.isValidElement(t)&&n.push(t)}),n}const Un=({children:e,custom:n,initial:t=!0,onExitComplete:s,presenceAffectsLayout:o=!0,mode:c="sync",propagate:u=!1,anchorX:f="left",root:h})=>{const[m,p]=ox(u),y=j.useMemo(()=>Pm(e),[e]),b=u&&!m?[]:y.map(hl),v=j.useRef(!0),k=j.useRef(y),S=Fd(()=>new Map),[N,C]=j.useState(y),[M,_]=j.useState(y);gg(()=>{v.current=!1,k.current=y;for(let A=0;A<M.length;A++){const O=hl(M[A]);b.includes(O)?S.delete(O):S.get(O)!==!0&&S.set(O,!1)}},[M,b.length,b.join("-")]);const z=[];if(y!==N){let A=[...y];for(let O=0;O<M.length;O++){const U=M[O],Y=hl(U);b.includes(Y)||(A.splice(O,0,U),z.push(U))}return c==="wait"&&z.length&&(A=z),_(Pm(A)),C(y),null}const{forceRender:R}=j.useContext($d);return i.jsx(i.Fragment,{children:M.map(A=>{const O=hl(A),U=u&&!m?!1:y===M||b.includes(O),Y=()=>{if(S.has(O))S.set(O,!0);else return;let $=!0;S.forEach(Q=>{Q||($=!1)}),$&&(R==null||R(),_(k.current),u&&(p==null||p()),s&&s())};return i.jsx(Iw,{isPresent:U,initial:!v.current||t?void 0:!1,custom:n,presenceAffectsLayout:o,mode:c,root:h,onExitComplete:U?void 0:Y,anchorX:f,children:A},O)})})},lx=j.createContext({strict:!1}),Em={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},xi={};for(const e in Em)xi[e]={isEnabled:n=>Em[e].some(t=>!!n[t])};function Dw(e){for(const n in e)xi[n]={...xi[n],...e[n]}}const Lw=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ml(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Lw.has(e)}let cx=e=>!Ml(e);function Ow(e){typeof e=="function"&&(cx=n=>n.startsWith("on")?!Ml(n):e(n))}try{Ow(require("@emotion/is-prop-valid").default)}catch{}function $w(e,n,t){const s={};for(const o in e)o==="values"&&typeof e.values=="object"||(cx(o)||t===!0&&Ml(o)||!n&&!Ml(o)||e.draggable&&o.startsWith("onDrag"))&&(s[o]=e[o]);return s}const Hl=j.createContext({});function Ul(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Ms(e){return typeof e=="string"||Array.isArray(e)}const u0=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],d0=["initial",...u0];function Yl(e){return Ul(e.animate)||d0.some(n=>Ms(e[n]))}function ux(e){return!!(Yl(e)||e.variants)}function Fw(e,n){if(Yl(e)){const{initial:t,animate:s}=e;return{initial:t===!1||Ms(t)?t:void 0,animate:Ms(s)?s:void 0}}return e.inherit!==!1?n:{}}function Vw(e){const{initial:n,animate:t}=Fw(e,j.useContext(Hl));return j.useMemo(()=>({initial:n,animate:t}),[Mm(n),Mm(t)])}function Mm(e){return Array.isArray(e)?e.join(" "):e}const As={};function Bw(e){for(const n in e)As[n]=e[n],Gd(n)&&(As[n].isCSSVariable=!0)}function dx(e,{layout:n,layoutId:t}){return Si.has(e)||e.startsWith("origin")||(n||t!==void 0)&&(!!As[e]||e==="opacity")}const qw={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Ww=Ni.length;function Hw(e,n,t){let s="",o=!0;for(let c=0;c<Ww;c++){const u=Ni[c],f=e[u];if(f===void 0)continue;let h=!0;if(typeof f=="number"?h=f===(u.startsWith("scale")?1:0):h=parseFloat(f)===0,!h||t){const m=tx(f,s0[u]);if(!h){o=!1;const p=qw[u]||u;s+=`${p}(${m}) `}t&&(n[u]=m)}}return s=s.trim(),t?s=t(n,o?"":s):o&&(s="none"),s}function h0(e,n,t){const{style:s,vars:o,transformOrigin:c}=e;let u=!1,f=!1;for(const h in n){const m=n[h];if(Si.has(h)){u=!0;continue}else if(Gd(h)){o[h]=m;continue}else{const p=tx(m,s0[h]);h.startsWith("origin")?(f=!0,c[h]=p):s[h]=p}}if(n.transform||(u||t?s.transform=Hw(n,e.transform,t):s.transform&&(s.transform="none")),f){const{originX:h="50%",originY:m="50%",originZ:p=0}=c;s.transformOrigin=`${h} ${m} ${p}`}}const f0=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function hx(e,n,t){for(const s in n)!Dt(n[s])&&!dx(s,t)&&(e[s]=n[s])}function Uw({transformTemplate:e},n){return j.useMemo(()=>{const t=f0();return h0(t,n,e),Object.assign({},t.vars,t.style)},[n])}function Yw(e,n){const t=e.style||{},s={};return hx(s,t,e),Object.assign(s,Uw(e,n)),s}function Kw(e,n){const t={},s=Yw(e,n);return e.drag&&e.dragListener!==!1&&(t.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(t.tabIndex=0),t.style=s,t}const Gw={offset:"stroke-dashoffset",array:"stroke-dasharray"},Xw={offset:"strokeDashoffset",array:"strokeDasharray"};function Zw(e,n,t=1,s=0,o=!0){e.pathLength=1;const c=o?Gw:Xw;e[c.offset]=ze.transform(-s);const u=ze.transform(n),f=ze.transform(t);e[c.array]=`${u} ${f}`}function fx(e,{attrX:n,attrY:t,attrScale:s,pathLength:o,pathSpacing:c=1,pathOffset:u=0,...f},h,m,p){if(h0(e,f,m),h){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:y,style:b}=e;y.transform&&(b.transform=y.transform,delete y.transform),(b.transform||y.transformOrigin)&&(b.transformOrigin=y.transformOrigin??"50% 50%",delete y.transformOrigin),b.transform&&(b.transformBox=(p==null?void 0:p.transformBox)??"fill-box",delete y.transformBox),n!==void 0&&(y.x=n),t!==void 0&&(y.y=t),s!==void 0&&(y.scale=s),o!==void 0&&Zw(y,o,c,u,!1)}const mx=()=>({...f0(),attrs:{}}),px=e=>typeof e=="string"&&e.toLowerCase()==="svg";function Qw(e,n,t,s){const o=j.useMemo(()=>{const c=mx();return fx(c,n,px(s),e.transformTemplate,e.style),{...c.attrs,style:{...c.style}}},[n]);if(e.style){const c={};hx(c,e.style,e),o.style={...c,...o.style}}return o}const Jw=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function m0(e){return typeof e!="string"||e.includes("-")?!1:!!(Jw.indexOf(e)>-1||/[A-Z]/u.test(e))}function ej(e,n,t,{latestValues:s},o,c=!1){const f=(m0(e)?Qw:Kw)(n,s,o,e),h=$w(n,typeof e=="string",c),m=e!==j.Fragment?{...h,...f,ref:t}:{},{children:p}=n,y=j.useMemo(()=>Dt(p)?p.get():p,[p]);return j.createElement(e,{...m,children:y})}function Am(e){const n=[{},{}];return e==null||e.values.forEach((t,s)=>{n[0][s]=t.get(),n[1][s]=t.getVelocity()}),n}function p0(e,n,t,s){if(typeof n=="function"){const[o,c]=Am(s);n=n(t!==void 0?t:e.custom,o,c)}if(typeof n=="string"&&(n=e.variants&&e.variants[n]),typeof n=="function"){const[o,c]=Am(s);n=n(t!==void 0?t:e.custom,o,c)}return n}function jl(e){return Dt(e)?e.get():e}function tj({scrapeMotionValuesFromProps:e,createRenderState:n},t,s,o){return{latestValues:nj(t,s,o,e),renderState:n()}}function nj(e,n,t,s){const o={},c=s(e,{});for(const b in c)o[b]=jl(c[b]);let{initial:u,animate:f}=e;const h=Yl(e),m=ux(e);n&&m&&!h&&e.inherit!==!1&&(u===void 0&&(u=n.initial),f===void 0&&(f=n.animate));let p=t?t.initial===!1:!1;p=p||u===!1;const y=p?f:u;if(y&&typeof y!="boolean"&&!Ul(y)){const b=Array.isArray(y)?y:[y];for(let v=0;v<b.length;v++){const k=p0(e,b[v]);if(k){const{transitionEnd:S,transition:N,...C}=k;for(const M in C){let _=C[M];if(Array.isArray(_)){const z=p?_.length-1:0;_=_[z]}_!==null&&(o[M]=_)}for(const M in S)o[M]=S[M]}}}return o}const gx=e=>(n,t)=>{const s=j.useContext(Hl),o=j.useContext(Wl),c=()=>tj(e,n,s,o);return t?c():Fd(c)};function g0(e,n,t){var c;const{style:s}=e,o={};for(const u in s)(Dt(s[u])||n.style&&Dt(n.style[u])||dx(u,e)||((c=t==null?void 0:t.getValue(u))==null?void 0:c.liveStyle)!==void 0)&&(o[u]=s[u]);return o}const rj=gx({scrapeMotionValuesFromProps:g0,createRenderState:f0});function xx(e,n,t){const s=g0(e,n,t);for(const o in e)if(Dt(e[o])||Dt(n[o])){const c=Ni.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;s[c]=e[o]}return s}const aj=gx({scrapeMotionValuesFromProps:xx,createRenderState:mx}),ij=Symbol.for("motionComponentSymbol");function si(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function sj(e,n,t){return j.useCallback(s=>{s&&e.onMount&&e.onMount(s),n&&(s?n.mount(s):n.unmount()),t&&(typeof t=="function"?t(s):si(t)&&(t.current=s))},[n])}const x0=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),oj="framerAppearId",yx="data-"+x0(oj),bx=j.createContext({});function lj(e,n,t,s,o){var S,N;const{visualElement:c}=j.useContext(Hl),u=j.useContext(lx),f=j.useContext(Wl),h=j.useContext(c0).reducedMotion,m=j.useRef(null);s=s||u.renderer,!m.current&&s&&(m.current=s(e,{visualState:n,parent:c,props:t,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:h}));const p=m.current,y=j.useContext(bx);p&&!p.projection&&o&&(p.type==="html"||p.type==="svg")&&cj(m.current,t,o,y);const b=j.useRef(!1);j.useInsertionEffect(()=>{p&&b.current&&p.update(t,f)});const v=t[yx],k=j.useRef(!!v&&!((S=window.MotionHandoffIsComplete)!=null&&S.call(window,v))&&((N=window.MotionHasOptimisedAnimation)==null?void 0:N.call(window,v)));return gg(()=>{p&&(b.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),p.scheduleRenderMicrotask(),k.current&&p.animationState&&p.animationState.animateChanges())}),j.useEffect(()=>{p&&(!k.current&&p.animationState&&p.animationState.animateChanges(),k.current&&(queueMicrotask(()=>{var C;(C=window.MotionHandoffMarkAsComplete)==null||C.call(window,v)}),k.current=!1),p.enteringChildren=void 0)}),p}function cj(e,n,t,s){const{layoutId:o,layout:c,drag:u,dragConstraints:f,layoutScroll:h,layoutRoot:m,layoutCrossfade:p}=n;e.projection=new t(e.latestValues,n["data-framer-portal-id"]?void 0:vx(e.parent)),e.projection.setOptions({layoutId:o,layout:c,alwaysMeasureLayout:!!u||f&&si(f),visualElement:e,animationType:typeof c=="string"?c:"both",initialPromotionConfig:s,crossfade:p,layoutScroll:h,layoutRoot:m})}function vx(e){if(e)return e.options.allowProjection!==!1?e.projection:vx(e.parent)}function Vu(e,{forwardMotionProps:n=!1}={},t,s){t&&Dw(t);const o=m0(e)?aj:rj;function c(f,h){let m;const p={...j.useContext(c0),...f,layoutId:uj(f)},{isStatic:y}=p,b=Vw(f),v=o(f,y);if(!y&&Vd){dj();const k=hj(p);m=k.MeasureLayout,b.visualElement=lj(e,v,p,s,k.ProjectionNode)}return i.jsxs(Hl.Provider,{value:b,children:[m&&b.visualElement?i.jsx(m,{visualElement:b.visualElement,...p}):null,ej(e,f,sj(v,b.visualElement,h),v,y,n)]})}c.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const u=j.forwardRef(c);return u[ij]=e,u}function uj({layoutId:e}){const n=j.useContext($d).id;return n&&e!==void 0?n+"-"+e:e}function dj(e,n){j.useContext(lx).strict}function hj(e){const{drag:n,layout:t}=xi;if(!n&&!t)return{};const s={...n,...t};return{MeasureLayout:n!=null&&n.isEnabled(e)||t!=null&&t.isEnabled(e)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function fj(e,n){if(typeof Proxy>"u")return Vu;const t=new Map,s=(c,u)=>Vu(c,u,e,n),o=(c,u)=>s(c,u);return new Proxy(o,{get:(c,u)=>u==="create"?s:(t.has(u)||t.set(u,Vu(u,void 0,e,n)),t.get(u))})}function wx({top:e,left:n,right:t,bottom:s}){return{x:{min:n,max:t},y:{min:e,max:s}}}function mj({x:e,y:n}){return{top:n.min,right:e.max,bottom:n.max,left:e.min}}function pj(e,n){if(!n)return e;const t=n({x:e.left,y:e.top}),s=n({x:e.right,y:e.bottom});return{top:t.y,left:t.x,bottom:s.y,right:s.x}}function Bu(e){return e===void 0||e===1}function gd({scale:e,scaleX:n,scaleY:t}){return!Bu(e)||!Bu(n)||!Bu(t)}function va(e){return gd(e)||jx(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function jx(e){return Im(e.x)||Im(e.y)}function Im(e){return e&&e!=="0%"}function Al(e,n,t){const s=e-t,o=n*s;return t+o}function Rm(e,n,t,s,o){return o!==void 0&&(e=Al(e,o,s)),Al(e,t,s)+n}function xd(e,n=0,t=1,s,o){e.min=Rm(e.min,n,t,s,o),e.max=Rm(e.max,n,t,s,o)}function Nx(e,{x:n,y:t}){xd(e.x,n.translate,n.scale,n.originPoint),xd(e.y,t.translate,t.scale,t.originPoint)}const Dm=.999999999999,Lm=1.0000000000001;function gj(e,n,t,s=!1){const o=t.length;if(!o)return;n.x=n.y=1;let c,u;for(let f=0;f<o;f++){c=t[f],u=c.projectionDelta;const{visualElement:h}=c.options;h&&h.props.style&&h.props.style.display==="contents"||(s&&c.options.layoutScroll&&c.scroll&&c!==c.root&&li(e,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),u&&(n.x*=u.x.scale,n.y*=u.y.scale,Nx(e,u)),s&&va(c.latestValues)&&li(e,c.latestValues))}n.x<Lm&&n.x>Dm&&(n.x=1),n.y<Lm&&n.y>Dm&&(n.y=1)}function oi(e,n){e.min=e.min+n,e.max=e.max+n}function Om(e,n,t,s,o=.5){const c=ct(e.min,e.max,o);xd(e,n,t,c,s)}function li(e,n){Om(e.x,n.x,n.scaleX,n.scale,n.originX),Om(e.y,n.y,n.scaleY,n.scale,n.originY)}function Sx(e,n){return wx(pj(e.getBoundingClientRect(),n))}function xj(e,n,t){const s=Sx(e,t),{scroll:o}=n;return o&&(oi(s.x,o.offset.x),oi(s.y,o.offset.y)),s}const $m=()=>({translate:0,scale:1,origin:0,originPoint:0}),ci=()=>({x:$m(),y:$m()}),Fm=()=>({min:0,max:0}),xt=()=>({x:Fm(),y:Fm()}),yd={current:null},kx={current:!1};function yj(){if(kx.current=!0,!!Vd)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),n=()=>yd.current=e.matches;e.addEventListener("change",n),n()}else yd.current=!1}const bj=new WeakMap;function vj(e,n,t){for(const s in n){const o=n[s],c=t[s];if(Dt(o))e.addValue(s,o);else if(Dt(c))e.addValue(s,gi(o,{owner:e}));else if(c!==o)if(e.hasValue(s)){const u=e.getValue(s);u.liveStyle===!0?u.jump(o):u.hasAnimated||u.set(o)}else{const u=e.getStaticValue(s);e.addValue(s,gi(u!==void 0?u:o,{owner:e}))}}for(const s in t)n[s]===void 0&&e.removeValue(s);return n}const Vm=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class wj{scrapeMotionValuesFromProps(n,t,s){return{}}constructor({parent:n,props:t,presenceContext:s,reducedMotionConfig:o,blockInitialAnimation:c,visualState:u},f={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=a0,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const b=Zt.now();this.renderScheduledAt<b&&(this.renderScheduledAt=b,it.render(this.render,!1,!0))};const{latestValues:h,renderState:m}=u;this.latestValues=h,this.baseTarget={...h},this.initialValues=t.initial?{...h}:{},this.renderState=m,this.parent=n,this.props=t,this.presenceContext=s,this.depth=n?n.depth+1:0,this.reducedMotionConfig=o,this.options=f,this.blockInitialAnimation=!!c,this.isControllingVariants=Yl(t),this.isVariantNode=ux(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(n&&n.current);const{willChange:p,...y}=this.scrapeMotionValuesFromProps(t,{},this);for(const b in y){const v=y[b];h[b]!==void 0&&Dt(v)&&v.set(h[b])}}mount(n){var t;this.current=n,bj.set(n,this),this.projection&&!this.projection.instance&&this.projection.mount(n),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,o)=>this.bindToMotionValue(o,s)),kx.current||yj(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:yd.current,(t=this.parent)==null||t.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var n;this.projection&&this.projection.unmount(),Hr(this.notifyUpdate),Hr(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(n=this.parent)==null||n.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const s=this.features[t];s&&(s.unmount(),s.isMounted=!1)}this.current=null}addChild(n){this.children.add(n),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(n)}removeChild(n){this.children.delete(n),this.enteringChildren&&this.enteringChildren.delete(n)}bindToMotionValue(n,t){this.valueSubscriptions.has(n)&&this.valueSubscriptions.get(n)();const s=Si.has(n);s&&this.onBindTransform&&this.onBindTransform();const o=t.on("change",u=>{this.latestValues[n]=u,this.props.onUpdate&&it.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let c;window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,n,t)),this.valueSubscriptions.set(n,()=>{o(),c&&c(),t.owner&&t.stop()})}sortNodePosition(n){return!this.current||!this.sortInstanceNodePosition||this.type!==n.type?0:this.sortInstanceNodePosition(this.current,n.current)}updateFeatures(){let n="animation";for(n in xi){const t=xi[n];if(!t)continue;const{isEnabled:s,Feature:o}=t;if(!this.features[n]&&o&&s(this.props)&&(this.features[n]=new o(this)),this.features[n]){const c=this.features[n];c.isMounted?c.update():(c.mount(),c.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):xt()}getStaticValue(n){return this.latestValues[n]}setStaticValue(n,t){this.latestValues[n]=t}update(n,t){(n.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=n,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let s=0;s<Vm.length;s++){const o=Vm[s];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const c="on"+o,u=n[c];u&&(this.propEventSubscriptions[o]=this.on(o,u))}this.prevMotionValues=vj(this,this.scrapeMotionValuesFromProps(n,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(n){return this.props.variants?this.props.variants[n]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(n){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(n),()=>t.variantChildren.delete(n)}addValue(n,t){const s=this.values.get(n);t!==s&&(s&&this.removeValue(n),this.bindToMotionValue(n,t),this.values.set(n,t),this.latestValues[n]=t.get())}removeValue(n){this.values.delete(n);const t=this.valueSubscriptions.get(n);t&&(t(),this.valueSubscriptions.delete(n)),delete this.latestValues[n],this.removeValueFromRenderState(n,this.renderState)}hasValue(n){return this.values.has(n)}getValue(n,t){if(this.props.values&&this.props.values[n])return this.props.values[n];let s=this.values.get(n);return s===void 0&&t!==void 0&&(s=gi(t===null?void 0:t,{owner:this}),this.addValue(n,s)),s}readValue(n,t){let s=this.latestValues[n]!==void 0||!this.current?this.latestValues[n]:this.getBaseTargetFromProps(this.props,n)??this.readValueFromInstance(this.current,n,this.options);return s!=null&&(typeof s=="string"&&(xg(s)||bg(s))?s=parseFloat(s):!Tw(s)&&Ur.test(t)&&(s=ex(n,t)),this.setBaseTarget(n,Dt(s)?s.get():s)),Dt(s)?s.get():s}setBaseTarget(n,t){this.baseTarget[n]=t}getBaseTarget(n){var c;const{initial:t}=this.props;let s;if(typeof t=="string"||typeof t=="object"){const u=p0(this.props,t,(c=this.presenceContext)==null?void 0:c.custom);u&&(s=u[n])}if(t&&s!==void 0)return s;const o=this.getBaseTargetFromProps(this.props,n);return o!==void 0&&!Dt(o)?o:this.initialValues[n]!==void 0&&s===void 0?void 0:this.baseTarget[n]}on(n,t){return this.events[n]||(this.events[n]=new Ud),this.events[n].add(t)}notify(n,...t){this.events[n]&&this.events[n].notify(...t)}scheduleRenderMicrotask(){o0.render(this.render)}}class _x extends wj{constructor(){super(...arguments),this.KeyframeResolver=xw}sortInstanceNodePosition(n,t){return n.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(n,t){return n.style?n.style[t]:void 0}removeValueFromRenderState(n,{vars:t,style:s}){delete t[n],delete s[n]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:n}=this.props;Dt(n)&&(this.childSubscription=n.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function Cx(e,{style:n,vars:t},s,o){const c=e.style;let u;for(u in n)c[u]=n[u];o==null||o.applyProjectionStyles(c,s);for(u in t)c.setProperty(u,t[u])}function jj(e){return window.getComputedStyle(e)}class Nj extends _x{constructor(){super(...arguments),this.type="html",this.renderInstance=Cx}readValueFromInstance(n,t){var s;if(Si.has(t))return(s=this.projection)!=null&&s.isProjecting?cd(t):D1(n,t);{const o=jj(n),c=(Gd(t)?o.getPropertyValue(t):o[t])||0;return typeof c=="string"?c.trim():c}}measureInstanceViewportBox(n,{transformPagePoint:t}){return Sx(n,t)}build(n,t,s){h0(n,t,s.transformTemplate)}scrapeMotionValuesFromProps(n,t,s){return g0(n,t,s)}}const zx=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Sj(e,n,t,s){Cx(e,n,void 0,s);for(const o in n.attrs)e.setAttribute(zx.has(o)?o:x0(o),n.attrs[o])}class kj extends _x{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=xt}getBaseTargetFromProps(n,t){return n[t]}readValueFromInstance(n,t){if(Si.has(t)){const s=Jg(t);return s&&s.default||0}return t=zx.has(t)?t:x0(t),n.getAttribute(t)}scrapeMotionValuesFromProps(n,t,s){return xx(n,t,s)}build(n,t,s){fx(n,t,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(n,t,s,o){Sj(n,t,s,o)}mount(n){this.isSVGTag=px(n.tagName),super.mount(n)}}const _j=(e,n)=>m0(e)?new kj(n):new Nj(n,{allowProjection:e!==j.Fragment});function hi(e,n,t){const s=e.getProps();return p0(s,n,t!==void 0?t:s.custom,e)}const bd=e=>Array.isArray(e);function Cj(e,n,t){e.hasValue(n)?e.getValue(n).set(t):e.addValue(n,gi(t))}function zj(e){return bd(e)?e[e.length-1]||0:e}function Tj(e,n){const t=hi(e,n);let{transitionEnd:s={},transition:o={},...c}=t||{};c={...c,...s};for(const u in c){const f=zj(c[u]);Cj(e,u,f)}}function Pj(e){return!!(Dt(e)&&e.add)}function vd(e,n){const t=e.getValue("willChange");if(Pj(t))return t.add(n);if(!t&&dr.WillChange){const s=new dr.WillChange("auto");e.addValue("willChange",s),s.add(n)}}function Tx(e){return e.props[yx]}const Ej=e=>e!==null;function Mj(e,{repeat:n,repeatType:t="loop"},s){const o=e.filter(Ej),c=n&&t!=="loop"&&n%2===1?0:o.length-1;return o[c]}const Aj={type:"spring",stiffness:500,damping:25,restSpeed:10},Ij=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Rj={type:"keyframes",duration:.8},Dj={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Lj=(e,{keyframes:n})=>n.length>2?Rj:Si.has(e)?e.startsWith("scale")?Ij(n[1]):Aj:Dj;function Oj({when:e,delay:n,delayChildren:t,staggerChildren:s,staggerDirection:o,repeat:c,repeatType:u,repeatDelay:f,from:h,elapsed:m,...p}){return!!Object.keys(p).length}const y0=(e,n,t,s={},o,c)=>u=>{const f=i0(s,e)||{},h=f.delay||s.delay||0;let{elapsed:m=0}=s;m=m-qn(h);const p={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:n.getVelocity(),...f,delay:-m,onUpdate:b=>{n.set(b),f.onUpdate&&f.onUpdate(b)},onComplete:()=>{u(),f.onComplete&&f.onComplete()},name:e,motionValue:n,element:c?void 0:o};Oj(f)||Object.assign(p,Lj(e,p)),p.duration&&(p.duration=qn(p.duration)),p.repeatDelay&&(p.repeatDelay=qn(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let y=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(md(p),p.delay===0&&(y=!0)),(dr.instantAnimations||dr.skipAnimations)&&(y=!0,md(p),p.delay=0),p.allowFlatten=!f.type&&!f.ease,y&&!c&&n.get()!==void 0){const b=Mj(p.keyframes,f);if(b!==void 0){it.update(()=>{p.onUpdate(b),p.onComplete()});return}}return f.isSync?new r0(p):new iw(p)};function $j({protectedKeys:e,needsAnimating:n},t){const s=e.hasOwnProperty(t)&&n[t]!==!0;return n[t]=!1,s}function Px(e,n,{delay:t=0,transitionOverride:s,type:o}={}){let{transition:c=e.getDefaultTransition(),transitionEnd:u,...f}=n;s&&(c=s);const h=[],m=o&&e.animationState&&e.animationState.getState()[o];for(const p in f){const y=e.getValue(p,e.latestValues[p]??null),b=f[p];if(b===void 0||m&&$j(m,p))continue;const v={delay:t,...i0(c||{},p)},k=y.get();if(k!==void 0&&!y.isAnimating&&!Array.isArray(b)&&b===k&&!v.velocity)continue;let S=!1;if(window.MotionHandoffAnimation){const C=Tx(e);if(C){const M=window.MotionHandoffAnimation(C,p,it);M!==null&&(v.startTime=M,S=!0)}}vd(e,p),y.start(y0(p,y,b,e.shouldReduceMotion&&Xg.has(p)?{type:!1}:v,e,S));const N=y.animation;N&&h.push(N)}return u&&Promise.all(h).then(()=>{it.update(()=>{u&&Tj(e,u)})}),h}function Ex(e,n,t,s=0,o=1){const c=Array.from(e).sort((m,p)=>m.sortNodePosition(p)).indexOf(n),u=e.size,f=(u-1)*s;return typeof t=="function"?t(c,u):o===1?c*s:f-c*s}function wd(e,n,t={}){var h;const s=hi(e,n,t.type==="exit"?(h=e.presenceContext)==null?void 0:h.custom:void 0);let{transition:o=e.getDefaultTransition()||{}}=s||{};t.transitionOverride&&(o=t.transitionOverride);const c=s?()=>Promise.all(Px(e,s,t)):()=>Promise.resolve(),u=e.variantChildren&&e.variantChildren.size?(m=0)=>{const{delayChildren:p=0,staggerChildren:y,staggerDirection:b}=o;return Fj(e,n,m,p,y,b,t)}:()=>Promise.resolve(),{when:f}=o;if(f){const[m,p]=f==="beforeChildren"?[c,u]:[u,c];return m().then(()=>p())}else return Promise.all([c(),u(t.delay)])}function Fj(e,n,t=0,s=0,o=0,c=1,u){const f=[];for(const h of e.variantChildren)h.notify("AnimationStart",n),f.push(wd(h,n,{...u,delay:t+(typeof s=="function"?0:s)+Ex(e.variantChildren,h,s,o,c)}).then(()=>h.notify("AnimationComplete",n)));return Promise.all(f)}function Vj(e,n,t={}){e.notify("AnimationStart",n);let s;if(Array.isArray(n)){const o=n.map(c=>wd(e,c,t));s=Promise.all(o)}else if(typeof n=="string")s=wd(e,n,t);else{const o=typeof n=="function"?hi(e,n,t.custom):n;s=Promise.all(Px(e,o,t))}return s.then(()=>{e.notify("AnimationComplete",n)})}function Mx(e,n){if(!Array.isArray(n))return!1;const t=n.length;if(t!==e.length)return!1;for(let s=0;s<t;s++)if(n[s]!==e[s])return!1;return!0}const Bj=d0.length;function Ax(e){if(!e)return;if(!e.isControllingVariants){const t=e.parent?Ax(e.parent)||{}:{};return e.props.initial!==void 0&&(t.initial=e.props.initial),t}const n={};for(let t=0;t<Bj;t++){const s=d0[t],o=e.props[s];(Ms(o)||o===!1)&&(n[s]=o)}return n}const qj=[...u0].reverse(),Wj=u0.length;function Hj(e){return n=>Promise.all(n.map(({animation:t,options:s})=>Vj(e,t,s)))}function Uj(e){let n=Hj(e),t=Bm(),s=!0;const o=h=>(m,p)=>{var b;const y=hi(e,p,h==="exit"?(b=e.presenceContext)==null?void 0:b.custom:void 0);if(y){const{transition:v,transitionEnd:k,...S}=y;m={...m,...S,...k}}return m};function c(h){n=h(e)}function u(h){const{props:m}=e,p=Ax(e.parent)||{},y=[],b=new Set;let v={},k=1/0;for(let N=0;N<Wj;N++){const C=qj[N],M=t[C],_=m[C]!==void 0?m[C]:p[C],z=Ms(_),R=C===h?M.isActive:null;R===!1&&(k=N);let A=_===p[C]&&_!==m[C]&&z;if(A&&s&&e.manuallyAnimateOnMount&&(A=!1),M.protectedKeys={...v},!M.isActive&&R===null||!_&&!M.prevProp||Ul(_)||typeof _=="boolean")continue;const O=Yj(M.prevProp,_);let U=O||C===h&&M.isActive&&!A&&z||N>k&&z,Y=!1;const $=Array.isArray(_)?_:[_];let Q=$.reduce(o(C),{});R===!1&&(Q={});const{prevResolvedValues:he={}}=M,Se={...he,...Q},Ce=be=>{U=!0,b.has(be)&&(Y=!0,b.delete(be)),M.needsAnimating[be]=!0;const K=e.getValue(be);K&&(K.liveStyle=!1)};for(const be in Se){const K=Q[be],de=he[be];if(v.hasOwnProperty(be))continue;let se=!1;bd(K)&&bd(de)?se=!Mx(K,de):se=K!==de,se?K!=null?Ce(be):b.add(be):K!==void 0&&b.has(be)?Ce(be):M.protectedKeys[be]=!0}M.prevProp=_,M.prevResolvedValues=Q,M.isActive&&(v={...v,...Q}),s&&e.blockInitialAnimation&&(U=!1);const Ie=A&&O;U&&(!Ie||Y)&&y.push(...$.map(be=>{const K={type:C};if(typeof be=="string"&&s&&!Ie&&e.manuallyAnimateOnMount&&e.parent){const{parent:de}=e,se=hi(de,be);if(de.enteringChildren&&se){const{delayChildren:L}=se.transition||{};K.delay=Ex(de.enteringChildren,e,L)}}return{animation:be,options:K}}))}if(b.size){const N={};if(typeof m.initial!="boolean"){const C=hi(e,Array.isArray(m.initial)?m.initial[0]:m.initial);C&&C.transition&&(N.transition=C.transition)}b.forEach(C=>{const M=e.getBaseTarget(C),_=e.getValue(C);_&&(_.liveStyle=!0),N[C]=M??null}),y.push({animation:N})}let S=!!y.length;return s&&(m.initial===!1||m.initial===m.animate)&&!e.manuallyAnimateOnMount&&(S=!1),s=!1,S?n(y):Promise.resolve()}function f(h,m){var y;if(t[h].isActive===m)return Promise.resolve();(y=e.variantChildren)==null||y.forEach(b=>{var v;return(v=b.animationState)==null?void 0:v.setActive(h,m)}),t[h].isActive=m;const p=u(h);for(const b in t)t[b].protectedKeys={};return p}return{animateChanges:u,setActive:f,setAnimateFunction:c,getState:()=>t,reset:()=>{t=Bm()}}}function Yj(e,n){return typeof n=="string"?n!==e:Array.isArray(n)?!Mx(n,e):!1}function ya(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Bm(){return{animate:ya(!0),whileInView:ya(),whileHover:ya(),whileTap:ya(),whileDrag:ya(),whileFocus:ya(),exit:ya()}}class Yr{constructor(n){this.isMounted=!1,this.node=n}update(){}}class Kj extends Yr{constructor(n){super(n),n.animationState||(n.animationState=Uj(n))}updateAnimationControlsSubscription(){const{animate:n}=this.node.getProps();Ul(n)&&(this.unmountControls=n.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:n}=this.node.getProps(),{animate:t}=this.node.prevProps||{};n!==t&&this.updateAnimationControlsSubscription()}unmount(){var n;this.node.animationState.reset(),(n=this.unmountControls)==null||n.call(this)}}let Gj=0;class Xj extends Yr{constructor(){super(...arguments),this.id=Gj++}update(){if(!this.node.presenceContext)return;const{isPresent:n,onExitComplete:t}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||n===s)return;const o=this.node.animationState.setActive("exit",!n);t&&!n&&o.then(()=>{t(this.id)})}mount(){const{register:n,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),n&&(this.unmount=n(this.id))}unmount(){}}const Zj={animation:{Feature:Kj},exit:{Feature:Xj}};function Is(e,n,t,s={passive:!0}){return e.addEventListener(n,t,s),()=>e.removeEventListener(n,t)}function Us(e){return{point:{x:e.pageX,y:e.pageY}}}const Qj=e=>n=>l0(n)&&e(n,Us(n));function Ns(e,n,t,s){return Is(e,n,Qj(t),s)}const Ix=1e-4,Jj=1-Ix,e3=1+Ix,Rx=.01,t3=0-Rx,n3=0+Rx;function Vt(e){return e.max-e.min}function r3(e,n,t){return Math.abs(e-n)<=t}function qm(e,n,t,s=.5){e.origin=s,e.originPoint=ct(n.min,n.max,e.origin),e.scale=Vt(t)/Vt(n),e.translate=ct(t.min,t.max,e.origin)-e.originPoint,(e.scale>=Jj&&e.scale<=e3||isNaN(e.scale))&&(e.scale=1),(e.translate>=t3&&e.translate<=n3||isNaN(e.translate))&&(e.translate=0)}function Ss(e,n,t,s){qm(e.x,n.x,t.x,s?s.originX:void 0),qm(e.y,n.y,t.y,s?s.originY:void 0)}function Wm(e,n,t){e.min=t.min+n.min,e.max=e.min+Vt(n)}function a3(e,n,t){Wm(e.x,n.x,t.x),Wm(e.y,n.y,t.y)}function Hm(e,n,t){e.min=n.min-t.min,e.max=e.min+Vt(n)}function ks(e,n,t){Hm(e.x,n.x,t.x),Hm(e.y,n.y,t.y)}function xn(e){return[e("x"),e("y")]}const Dx=({current:e})=>e?e.ownerDocument.defaultView:null,Um=(e,n)=>Math.abs(e-n);function i3(e,n){const t=Um(e.x,n.x),s=Um(e.y,n.y);return Math.sqrt(t**2+s**2)}class Lx{constructor(n,t,{transformPagePoint:s,contextWindow:o=window,dragSnapToOrigin:c=!1,distanceThreshold:u=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=Wu(this.lastMoveEventInfo,this.history),v=this.startEvent!==null,k=i3(b.offset,{x:0,y:0})>=this.distanceThreshold;if(!v&&!k)return;const{point:S}=b,{timestamp:N}=Ct;this.history.push({...S,timestamp:N});const{onStart:C,onMove:M}=this.handlers;v||(C&&C(this.lastMoveEvent,b),this.startEvent=this.lastMoveEvent),M&&M(this.lastMoveEvent,b)},this.handlePointerMove=(b,v)=>{this.lastMoveEvent=b,this.lastMoveEventInfo=qu(v,this.transformPagePoint),it.update(this.updatePoint,!0)},this.handlePointerUp=(b,v)=>{this.end();const{onEnd:k,onSessionEnd:S,resumeAnimation:N}=this.handlers;if(this.dragSnapToOrigin&&N&&N(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const C=Wu(b.type==="pointercancel"?this.lastMoveEventInfo:qu(v,this.transformPagePoint),this.history);this.startEvent&&k&&k(b,C),S&&S(b,C)},!l0(n))return;this.dragSnapToOrigin=c,this.handlers=t,this.transformPagePoint=s,this.distanceThreshold=u,this.contextWindow=o||window;const f=Us(n),h=qu(f,this.transformPagePoint),{point:m}=h,{timestamp:p}=Ct;this.history=[{...m,timestamp:p}];const{onSessionStart:y}=t;y&&y(n,Wu(h,this.history)),this.removeListeners=qs(Ns(this.contextWindow,"pointermove",this.handlePointerMove),Ns(this.contextWindow,"pointerup",this.handlePointerUp),Ns(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(n){this.handlers=n}end(){this.removeListeners&&this.removeListeners(),Hr(this.updatePoint)}}function qu(e,n){return n?{point:n(e.point)}:e}function Ym(e,n){return{x:e.x-n.x,y:e.y-n.y}}function Wu({point:e},n){return{point:e,delta:Ym(e,Ox(n)),offset:Ym(e,s3(n)),velocity:o3(n,.1)}}function s3(e){return e[0]}function Ox(e){return e[e.length-1]}function o3(e,n){if(e.length<2)return{x:0,y:0};let t=e.length-1,s=null;const o=Ox(e);for(;t>=0&&(s=e[t],!(o.timestamp-s.timestamp>qn(n)));)t--;if(!s)return{x:0,y:0};const c=bn(o.timestamp-s.timestamp);if(c===0)return{x:0,y:0};const u={x:(o.x-s.x)/c,y:(o.y-s.y)/c};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function l3(e,{min:n,max:t},s){return n!==void 0&&e<n?e=s?ct(n,e,s.min):Math.max(e,n):t!==void 0&&e>t&&(e=s?ct(t,e,s.max):Math.min(e,t)),e}function Km(e,n,t){return{min:n!==void 0?e.min+n:void 0,max:t!==void 0?e.max+t-(e.max-e.min):void 0}}function c3(e,{top:n,left:t,bottom:s,right:o}){return{x:Km(e.x,t,o),y:Km(e.y,n,s)}}function Gm(e,n){let t=n.min-e.min,s=n.max-e.max;return n.max-n.min<e.max-e.min&&([t,s]=[s,t]),{min:t,max:s}}function u3(e,n){return{x:Gm(e.x,n.x),y:Gm(e.y,n.y)}}function d3(e,n){let t=.5;const s=Vt(e),o=Vt(n);return o>s?t=Ts(n.min,n.max-s,e.min):s>o&&(t=Ts(e.min,e.max-o,n.min)),ur(0,1,t)}function h3(e,n){const t={};return n.min!==void 0&&(t.min=n.min-e.min),n.max!==void 0&&(t.max=n.max-e.min),t}const jd=.35;function f3(e=jd){return e===!1?e=0:e===!0&&(e=jd),{x:Xm(e,"left","right"),y:Xm(e,"top","bottom")}}function Xm(e,n,t){return{min:Zm(e,n),max:Zm(e,t)}}function Zm(e,n){return typeof e=="number"?e:e[n]||0}const m3=new WeakMap;class p3{constructor(n){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=xt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=n}start(n,{snapToCursor:t=!1,distanceThreshold:s}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const c=y=>{const{dragSnapToOrigin:b}=this.getProps();b?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(Us(y).point)},u=(y,b)=>{const{drag:v,dragPropagation:k,onDragStart:S}=this.getProps();if(v&&!k&&(this.openDragLock&&this.openDragLock(),this.openDragLock=ww(v),!this.openDragLock))return;this.latestPointerEvent=y,this.latestPanInfo=b,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),xn(C=>{let M=this.getAxisMotionValue(C).get()||0;if(Wn.test(M)){const{projection:_}=this.visualElement;if(_&&_.layout){const z=_.layout.layoutBox[C];z&&(M=Vt(z)*(parseFloat(M)/100))}}this.originPoint[C]=M}),S&&it.postRender(()=>S(y,b)),vd(this.visualElement,"transform");const{animationState:N}=this.visualElement;N&&N.setActive("whileDrag",!0)},f=(y,b)=>{this.latestPointerEvent=y,this.latestPanInfo=b;const{dragPropagation:v,dragDirectionLock:k,onDirectionLock:S,onDrag:N}=this.getProps();if(!v&&!this.openDragLock)return;const{offset:C}=b;if(k&&this.currentDirection===null){this.currentDirection=g3(C),this.currentDirection!==null&&S&&S(this.currentDirection);return}this.updateAxis("x",b.point,C),this.updateAxis("y",b.point,C),this.visualElement.render(),N&&N(y,b)},h=(y,b)=>{this.latestPointerEvent=y,this.latestPanInfo=b,this.stop(y,b),this.latestPointerEvent=null,this.latestPanInfo=null},m=()=>xn(y=>{var b;return this.getAnimationState(y)==="paused"&&((b=this.getAxisMotionValue(y).animation)==null?void 0:b.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new Lx(n,{onSessionStart:c,onStart:u,onMove:f,onSessionEnd:h,resumeAnimation:m},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,distanceThreshold:s,contextWindow:Dx(this.visualElement)})}stop(n,t){const s=n||this.latestPointerEvent,o=t||this.latestPanInfo,c=this.isDragging;if(this.cancel(),!c||!o||!s)return;const{velocity:u}=o;this.startAnimation(u);const{onDragEnd:f}=this.getProps();f&&it.postRender(()=>f(s,o))}cancel(){this.isDragging=!1;const{projection:n,animationState:t}=this.visualElement;n&&(n.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(n,t,s){const{drag:o}=this.getProps();if(!s||!fl(n,o,this.currentDirection))return;const c=this.getAxisMotionValue(n);let u=this.originPoint[n]+s[n];this.constraints&&this.constraints[n]&&(u=l3(u,this.constraints[n],this.elastic[n])),c.set(u)}resolveConstraints(){var c;const{dragConstraints:n,dragElastic:t}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(c=this.visualElement.projection)==null?void 0:c.layout,o=this.constraints;n&&si(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=c3(s.layoutBox,n):this.constraints=!1,this.elastic=f3(t),o!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&xn(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=h3(s.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:n,onMeasureDragConstraints:t}=this.getProps();if(!n||!si(n))return!1;const s=n.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const c=xj(s,o.root,this.visualElement.getTransformPagePoint());let u=u3(o.layout.layoutBox,c);if(t){const f=t(mj(u));this.hasMutatedConstraints=!!f,f&&(u=wx(f))}return u}startAnimation(n){const{drag:t,dragMomentum:s,dragElastic:o,dragTransition:c,dragSnapToOrigin:u,onDragTransitionEnd:f}=this.getProps(),h=this.constraints||{},m=xn(p=>{if(!fl(p,t,this.currentDirection))return;let y=h&&h[p]||{};u&&(y={min:0,max:0});const b=o?200:1e6,v=o?40:1e7,k={type:"inertia",velocity:s?n[p]:0,bounceStiffness:b,bounceDamping:v,timeConstant:750,restDelta:1,restSpeed:10,...c,...y};return this.startAxisValueAnimation(p,k)});return Promise.all(m).then(f)}startAxisValueAnimation(n,t){const s=this.getAxisMotionValue(n);return vd(this.visualElement,n),s.start(y0(n,s,0,t,this.visualElement,!1))}stopAnimation(){xn(n=>this.getAxisMotionValue(n).stop())}pauseAnimation(){xn(n=>{var t;return(t=this.getAxisMotionValue(n).animation)==null?void 0:t.pause()})}getAnimationState(n){var t;return(t=this.getAxisMotionValue(n).animation)==null?void 0:t.state}getAxisMotionValue(n){const t=`_drag${n.toUpperCase()}`,s=this.visualElement.getProps(),o=s[t];return o||this.visualElement.getValue(n,(s.initial?s.initial[n]:void 0)||0)}snapToCursor(n){xn(t=>{const{drag:s}=this.getProps();if(!fl(t,s,this.currentDirection))return;const{projection:o}=this.visualElement,c=this.getAxisMotionValue(t);if(o&&o.layout){const{min:u,max:f}=o.layout.layoutBox[t];c.set(n[t]-ct(u,f,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:n,dragConstraints:t}=this.getProps(),{projection:s}=this.visualElement;if(!si(t)||!s||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};xn(u=>{const f=this.getAxisMotionValue(u);if(f&&this.constraints!==!1){const h=f.get();o[u]=d3({min:h,max:h},this.constraints[u])}});const{transformTemplate:c}=this.visualElement.getProps();this.visualElement.current.style.transform=c?c({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),xn(u=>{if(!fl(u,n,null))return;const f=this.getAxisMotionValue(u),{min:h,max:m}=this.constraints[u];f.set(ct(h,m,o[u]))})}addListeners(){if(!this.visualElement.current)return;m3.set(this.visualElement,this);const n=this.visualElement.current,t=Ns(n,"pointerdown",h=>{const{drag:m,dragListener:p=!0}=this.getProps();m&&p&&this.start(h)}),s=()=>{const{dragConstraints:h}=this.getProps();si(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,c=o.addEventListener("measure",s);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),it.read(s);const u=Is(window,"resize",()=>this.scalePositionWithinConstraints()),f=o.addEventListener("didUpdate",(({delta:h,hasLayoutChanged:m})=>{this.isDragging&&m&&(xn(p=>{const y=this.getAxisMotionValue(p);y&&(this.originPoint[p]+=h[p].translate,y.set(y.get()+h[p].translate))}),this.visualElement.render())}));return()=>{u(),t(),c(),f&&f()}}getProps(){const n=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:s=!1,dragPropagation:o=!1,dragConstraints:c=!1,dragElastic:u=jd,dragMomentum:f=!0}=n;return{...n,drag:t,dragDirectionLock:s,dragPropagation:o,dragConstraints:c,dragElastic:u,dragMomentum:f}}}function fl(e,n,t){return(n===!0||n===e)&&(t===null||t===e)}function g3(e,n=10){let t=null;return Math.abs(e.y)>n?t="y":Math.abs(e.x)>n&&(t="x"),t}class x3 extends Yr{constructor(n){super(n),this.removeGroupControls=vn,this.removeListeners=vn,this.controls=new p3(n)}mount(){const{dragControls:n}=this.node.getProps();n&&(this.removeGroupControls=n.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||vn}unmount(){this.removeGroupControls(),this.removeListeners()}}const Qm=e=>(n,t)=>{e&&it.postRender(()=>e(n,t))};class y3 extends Yr{constructor(){super(...arguments),this.removePointerDownListener=vn}onPointerDown(n){this.session=new Lx(n,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Dx(this.node)})}createPanHandlers(){const{onPanSessionStart:n,onPanStart:t,onPan:s,onPanEnd:o}=this.node.getProps();return{onSessionStart:Qm(n),onStart:Qm(t),onMove:s,onEnd:(c,u)=>{delete this.session,o&&it.postRender(()=>o(c,u))}}}mount(){this.removePointerDownListener=Ns(this.node.current,"pointerdown",n=>this.onPointerDown(n))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Nl={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Jm(e,n){return n.max===n.min?0:e/(n.max-n.min)*100}const ms={correct:(e,n)=>{if(!n.target)return e;if(typeof e=="string")if(ze.test(e))e=parseFloat(e);else return e;const t=Jm(e,n.target.x),s=Jm(e,n.target.y);return`${t}% ${s}%`}},b3={correct:(e,{treeScale:n,projectionDelta:t})=>{const s=e,o=Ur.parse(e);if(o.length>5)return s;const c=Ur.createTransformer(e),u=typeof o[0]!="number"?1:0,f=t.x.scale*n.x,h=t.y.scale*n.y;o[0+u]/=f,o[1+u]/=h;const m=ct(f,h,.5);return typeof o[2+u]=="number"&&(o[2+u]/=m),typeof o[3+u]=="number"&&(o[3+u]/=m),c(o)}};let Hu=!1;class v3 extends j.Component{componentDidMount(){const{visualElement:n,layoutGroup:t,switchLayoutGroup:s,layoutId:o}=this.props,{projection:c}=n;Bw(w3),c&&(t.group&&t.group.add(c),s&&s.register&&o&&s.register(c),Hu&&c.root.didUpdate(),c.addEventListener("animationComplete",()=>{this.safeToRemove()}),c.setOptions({...c.options,onExitComplete:()=>this.safeToRemove()})),Nl.hasEverUpdated=!0}getSnapshotBeforeUpdate(n){const{layoutDependency:t,visualElement:s,drag:o,isPresent:c}=this.props,{projection:u}=s;return u&&(u.isPresent=c,Hu=!0,o||n.layoutDependency!==t||t===void 0||n.isPresent!==c?u.willUpdate():this.safeToRemove(),n.isPresent!==c&&(c?u.promote():u.relegate()||it.postRender(()=>{const f=u.getStack();(!f||!f.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:n}=this.props.visualElement;n&&(n.root.didUpdate(),o0.postRender(()=>{!n.currentAnimation&&n.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:n,layoutGroup:t,switchLayoutGroup:s}=this.props,{projection:o}=n;Hu=!0,o&&(o.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(o),s&&s.deregister&&s.deregister(o))}safeToRemove(){const{safeToRemove:n}=this.props;n&&n()}render(){return null}}function $x(e){const[n,t]=ox(),s=j.useContext($d);return i.jsx(v3,{...e,layoutGroup:s,switchLayoutGroup:j.useContext(bx),isPresent:n,safeToRemove:t})}const w3={borderRadius:{...ms,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ms,borderTopRightRadius:ms,borderBottomLeftRadius:ms,borderBottomRightRadius:ms,boxShadow:b3};function j3(e,n,t){const s=Dt(e)?e:gi(e);return s.start(y0("",s,n,t)),s.animation}const N3=(e,n)=>e.depth-n.depth;class S3{constructor(){this.children=[],this.isDirty=!1}add(n){Bd(this.children,n),this.isDirty=!0}remove(n){qd(this.children,n),this.isDirty=!0}forEach(n){this.isDirty&&this.children.sort(N3),this.isDirty=!1,this.children.forEach(n)}}function k3(e,n){const t=Zt.now(),s=({timestamp:o})=>{const c=o-t;c>=n&&(Hr(s),e(c-n))};return it.setup(s,!0),()=>Hr(s)}const Fx=["TopLeft","TopRight","BottomLeft","BottomRight"],_3=Fx.length,ep=e=>typeof e=="string"?parseFloat(e):e,tp=e=>typeof e=="number"||ze.test(e);function C3(e,n,t,s,o,c){o?(e.opacity=ct(0,t.opacity??1,z3(s)),e.opacityExit=ct(n.opacity??1,0,T3(s))):c&&(e.opacity=ct(n.opacity??1,t.opacity??1,s));for(let u=0;u<_3;u++){const f=`border${Fx[u]}Radius`;let h=np(n,f),m=np(t,f);if(h===void 0&&m===void 0)continue;h||(h=0),m||(m=0),h===0||m===0||tp(h)===tp(m)?(e[f]=Math.max(ct(ep(h),ep(m),s),0),(Wn.test(m)||Wn.test(h))&&(e[f]+="%")):e[f]=m}(n.rotate||t.rotate)&&(e.rotate=ct(n.rotate||0,t.rotate||0,s))}function np(e,n){return e[n]!==void 0?e[n]:e.borderRadius}const z3=Vx(0,.5,Cg),T3=Vx(.5,.95,vn);function Vx(e,n,t){return s=>s<e?0:s>n?1:t(Ts(e,n,s))}function rp(e,n){e.min=n.min,e.max=n.max}function gn(e,n){rp(e.x,n.x),rp(e.y,n.y)}function ap(e,n){e.translate=n.translate,e.scale=n.scale,e.originPoint=n.originPoint,e.origin=n.origin}function ip(e,n,t,s,o){return e-=n,e=Al(e,1/t,s),o!==void 0&&(e=Al(e,1/o,s)),e}function P3(e,n=0,t=1,s=.5,o,c=e,u=e){if(Wn.test(n)&&(n=parseFloat(n),n=ct(u.min,u.max,n/100)-u.min),typeof n!="number")return;let f=ct(c.min,c.max,s);e===c&&(f-=n),e.min=ip(e.min,n,t,f,o),e.max=ip(e.max,n,t,f,o)}function sp(e,n,[t,s,o],c,u){P3(e,n[t],n[s],n[o],n.scale,c,u)}const E3=["x","scaleX","originX"],M3=["y","scaleY","originY"];function op(e,n,t,s){sp(e.x,n,E3,t?t.x:void 0,s?s.x:void 0),sp(e.y,n,M3,t?t.y:void 0,s?s.y:void 0)}function lp(e){return e.translate===0&&e.scale===1}function Bx(e){return lp(e.x)&&lp(e.y)}function cp(e,n){return e.min===n.min&&e.max===n.max}function A3(e,n){return cp(e.x,n.x)&&cp(e.y,n.y)}function up(e,n){return Math.round(e.min)===Math.round(n.min)&&Math.round(e.max)===Math.round(n.max)}function qx(e,n){return up(e.x,n.x)&&up(e.y,n.y)}function dp(e){return Vt(e.x)/Vt(e.y)}function hp(e,n){return e.translate===n.translate&&e.scale===n.scale&&e.originPoint===n.originPoint}class I3{constructor(){this.members=[]}add(n){Bd(this.members,n),n.scheduleRender()}remove(n){if(qd(this.members,n),n===this.prevLead&&(this.prevLead=void 0),n===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(n){const t=this.members.findIndex(o=>n===o);if(t===0)return!1;let s;for(let o=t;o>=0;o--){const c=this.members[o];if(c.isPresent!==!1){s=c;break}}return s?(this.promote(s),!0):!1}promote(n,t){const s=this.lead;if(n!==s&&(this.prevLead=s,this.lead=n,n.show(),s)){s.instance&&s.scheduleRender(),n.scheduleRender(),n.resumeFrom=s,t&&(n.resumeFrom.preserveOpacity=!0),s.snapshot&&(n.snapshot=s.snapshot,n.snapshot.latestValues=s.animationValues||s.latestValues),n.root&&n.root.isUpdating&&(n.isLayoutDirty=!0);const{crossfade:o}=n.options;o===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(n=>{const{options:t,resumingFrom:s}=n;t.onExitComplete&&t.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(n=>{n.instance&&n.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function R3(e,n,t){let s="";const o=e.x.translate/n.x,c=e.y.translate/n.y,u=(t==null?void 0:t.z)||0;if((o||c||u)&&(s=`translate3d(${o}px, ${c}px, ${u}px) `),(n.x!==1||n.y!==1)&&(s+=`scale(${1/n.x}, ${1/n.y}) `),t){const{transformPerspective:m,rotate:p,rotateX:y,rotateY:b,skewX:v,skewY:k}=t;m&&(s=`perspective(${m}px) ${s}`),p&&(s+=`rotate(${p}deg) `),y&&(s+=`rotateX(${y}deg) `),b&&(s+=`rotateY(${b}deg) `),v&&(s+=`skewX(${v}deg) `),k&&(s+=`skewY(${k}deg) `)}const f=e.x.scale*n.x,h=e.y.scale*n.y;return(f!==1||h!==1)&&(s+=`scale(${f}, ${h})`),s||"none"}const Uu=["","X","Y","Z"],D3=1e3;let L3=0;function Yu(e,n,t,s){const{latestValues:o}=n;o[e]&&(t[e]=o[e],n.setStaticValue(e,0),s&&(s[e]=0))}function Wx(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:n}=e.options;if(!n)return;const t=Tx(n);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:o,layoutId:c}=e.options;window.MotionCancelOptimisedAnimation(t,"transform",it,!(o||c))}const{parent:s}=e;s&&!s.hasCheckedOptimisedAppear&&Wx(s)}function Hx({attachResizeListener:e,defaultParent:n,measureScroll:t,checkIsScrollRoot:s,resetTransform:o}){return class{constructor(u={},f=n==null?void 0:n()){this.id=L3++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(F3),this.nodes.forEach(W3),this.nodes.forEach(H3),this.nodes.forEach(V3)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=f?f.root||f:this,this.path=f?[...f.path,f]:[],this.parent=f,this.depth=f?f.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new S3)}addEventListener(u,f){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new Ud),this.eventHandlers.get(u).add(f)}notifyListeners(u,...f){const h=this.eventHandlers.get(u);h&&h.notify(...f)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=sx(u)&&!Cw(u),this.instance=u;const{layoutId:f,layout:h,visualElement:m}=this.options;if(m&&!m.current&&m.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(h||f)&&(this.isLayoutDirty=!0),e){let p,y=0;const b=()=>this.root.updateBlockedByResize=!1;it.read(()=>{y=window.innerWidth}),e(u,()=>{const v=window.innerWidth;v!==y&&(y=v,this.root.updateBlockedByResize=!0,p&&p(),p=k3(b,250),Nl.hasAnimatedSinceResize&&(Nl.hasAnimatedSinceResize=!1,this.nodes.forEach(pp)))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&m&&(f||h)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:y,hasRelativeLayoutChanged:b,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const k=this.options.transition||m.getDefaultTransition()||X3,{onLayoutAnimationStart:S,onLayoutAnimationComplete:N}=m.getProps(),C=!this.targetLayout||!qx(this.targetLayout,v),M=!y&&b;if(this.options.layoutRoot||this.resumeFrom||M||y&&(C||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const _={...i0(k,"layout"),onPlay:S,onComplete:N};(m.shouldReduceMotion||this.options.layoutRoot)&&(_.delay=0,_.type=!1),this.startAnimation(_),this.setAnimationOrigin(p,M)}else y||pp(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Hr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(U3),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Wx(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const y=this.path[p];y.shouldResetTransform=!0,y.updateScroll("snapshot"),y.options.layoutRoot&&y.willUpdate(!1)}const{layoutId:f,layout:h}=this.options;if(f===void 0&&!h)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(fp);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(mp);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(q3),this.nodes.forEach(O3),this.nodes.forEach($3)):this.nodes.forEach(mp),this.clearAllSnapshots();const f=Zt.now();Ct.delta=ur(0,1e3/60,f-Ct.timestamp),Ct.timestamp=f,Ct.isProcessing=!0,Ru.update.process(Ct),Ru.preRender.process(Ct),Ru.render.process(Ct),Ct.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,o0.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(B3),this.sharedNodes.forEach(Y3)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,it.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){it.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Vt(this.snapshot.measuredBox.x)&&!Vt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=xt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:f}=this.options;f&&f.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let f=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(f=!1),f&&this.instance){const h=s(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:h,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!o)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,f=this.projectionDelta&&!Bx(this.projectionDelta),h=this.getTransformTemplate(),m=h?h(this.latestValues,""):void 0,p=m!==this.prevTransformTemplateValue;u&&this.instance&&(f||va(this.latestValues)||p)&&(o(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const f=this.measurePageBox();let h=this.removeElementScroll(f);return u&&(h=this.removeTransform(h)),Z3(h),{animationId:this.root.animationId,measuredBox:f,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){var m;const{visualElement:u}=this.options;if(!u)return xt();const f=u.measureViewportBox();if(!(((m=this.scroll)==null?void 0:m.wasRoot)||this.path.some(Q3))){const{scroll:p}=this.root;p&&(oi(f.x,p.offset.x),oi(f.y,p.offset.y))}return f}removeElementScroll(u){var h;const f=xt();if(gn(f,u),(h=this.scroll)!=null&&h.wasRoot)return f;for(let m=0;m<this.path.length;m++){const p=this.path[m],{scroll:y,options:b}=p;p!==this.root&&y&&b.layoutScroll&&(y.wasRoot&&gn(f,u),oi(f.x,y.offset.x),oi(f.y,y.offset.y))}return f}applyTransform(u,f=!1){const h=xt();gn(h,u);for(let m=0;m<this.path.length;m++){const p=this.path[m];!f&&p.options.layoutScroll&&p.scroll&&p!==p.root&&li(h,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),va(p.latestValues)&&li(h,p.latestValues)}return va(this.latestValues)&&li(h,this.latestValues),h}removeTransform(u){const f=xt();gn(f,u);for(let h=0;h<this.path.length;h++){const m=this.path[h];if(!m.instance||!va(m.latestValues))continue;gd(m.latestValues)&&m.updateSnapshot();const p=xt(),y=m.measurePageBox();gn(p,y),op(f,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,p)}return va(this.latestValues)&&op(f,this.latestValues),f}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ct.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){var b;const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==f;if(!(u||h&&this.isSharedProjectionDirty||this.isProjectionDirty||(b=this.parent)!=null&&b.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:y}=this.options;if(!(!this.layout||!(p||y))){if(this.resolvedRelativeTargetAt=Ct.timestamp,!this.targetDelta&&!this.relativeTarget){const v=this.getClosestProjectingParent();v&&v.layout&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=xt(),this.relativeTargetOrigin=xt(),ks(this.relativeTargetOrigin,this.layout.layoutBox,v.layout.layoutBox),gn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=xt(),this.targetWithTransforms=xt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),a3(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):gn(this.target,this.layout.layoutBox),Nx(this.target,this.targetDelta)):gn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const v=this.getClosestProjectingParent();v&&!!v.resumingFrom==!!this.resumingFrom&&!v.options.layoutScroll&&v.target&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=xt(),this.relativeTargetOrigin=xt(),ks(this.relativeTargetOrigin,this.target,v.target),gn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||gd(this.parent.latestValues)||jx(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var k;const u=this.getLead(),f=!!this.resumingFrom||this!==u;let h=!0;if((this.isProjectionDirty||(k=this.parent)!=null&&k.isProjectionDirty)&&(h=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===Ct.timestamp&&(h=!1),h)return;const{layout:m,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||p))return;gn(this.layoutCorrected,this.layout.layoutBox);const y=this.treeScale.x,b=this.treeScale.y;gj(this.layoutCorrected,this.treeScale,this.path,f),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=xt());const{target:v}=u;if(!v){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(ap(this.prevProjectionDelta.x,this.projectionDelta.x),ap(this.prevProjectionDelta.y,this.projectionDelta.y)),Ss(this.projectionDelta,this.layoutCorrected,v,this.latestValues),(this.treeScale.x!==y||this.treeScale.y!==b||!hp(this.projectionDelta.x,this.prevProjectionDelta.x)||!hp(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){var f;if((f=this.options.visualElement)==null||f.scheduleRender(),u){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ci(),this.projectionDelta=ci(),this.projectionDeltaWithTransform=ci()}setAnimationOrigin(u,f=!1){const h=this.snapshot,m=h?h.latestValues:{},p={...this.latestValues},y=ci();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!f;const b=xt(),v=h?h.source:void 0,k=this.layout?this.layout.source:void 0,S=v!==k,N=this.getStack(),C=!N||N.members.length<=1,M=!!(S&&!C&&this.options.crossfade===!0&&!this.path.some(G3));this.animationProgress=0;let _;this.mixTargetDelta=z=>{const R=z/1e3;gp(y.x,u.x,R),gp(y.y,u.y,R),this.setTargetDelta(y),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ks(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),K3(this.relativeTarget,this.relativeTargetOrigin,b,R),_&&A3(this.relativeTarget,_)&&(this.isProjectionDirty=!1),_||(_=xt()),gn(_,this.relativeTarget)),S&&(this.animationValues=p,C3(p,m,this.latestValues,R,M,C)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=R},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){var f,h,m;this.notifyListeners("animationStart"),(f=this.currentAnimation)==null||f.stop(),(m=(h=this.resumingFrom)==null?void 0:h.currentAnimation)==null||m.stop(),this.pendingAnimation&&(Hr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=it.update(()=>{Nl.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=gi(0)),this.currentAnimation=j3(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:p=>{this.mixTargetDelta(p),u.onUpdate&&u.onUpdate(p)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(D3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:f,target:h,layout:m,latestValues:p}=u;if(!(!f||!h||!m)){if(this!==u&&this.layout&&m&&Ux(this.options.animationType,this.layout.layoutBox,m.layoutBox)){h=this.target||xt();const y=Vt(this.layout.layoutBox.x);h.x.min=u.target.x.min,h.x.max=h.x.min+y;const b=Vt(this.layout.layoutBox.y);h.y.min=u.target.y.min,h.y.max=h.y.min+b}gn(f,h),li(f,p),Ss(this.projectionDeltaWithTransform,this.layoutCorrected,f,p)}}registerSharedNode(u,f){this.sharedNodes.has(u)||this.sharedNodes.set(u,new I3),this.sharedNodes.get(u).add(f);const m=f.options.initialPromotionConfig;f.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(f):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){var f;const{layoutId:u}=this.options;return u?((f=this.getStack())==null?void 0:f.lead)||this:this}getPrevLead(){var f;const{layoutId:u}=this.options;return u?(f=this.getStack())==null?void 0:f.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:f,preserveFollowOpacity:h}={}){const m=this.getStack();m&&m.promote(this,h),u&&(this.projectionDelta=void 0,this.needsReset=!0),f&&this.setOptions({transition:f})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let f=!1;const{latestValues:h}=u;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(f=!0),!f)return;const m={};h.z&&Yu("z",u,m,this.animationValues);for(let p=0;p<Uu.length;p++)Yu(`rotate${Uu[p]}`,u,m,this.animationValues),Yu(`skew${Uu[p]}`,u,m,this.animationValues);u.render();for(const p in m)u.setStaticValue(p,m[p]),this.animationValues&&(this.animationValues[p]=m[p]);u.scheduleRender()}applyProjectionStyles(u,f){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const h=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=jl(f==null?void 0:f.pointerEvents)||"",u.transform=h?h(this.latestValues,""):"none";return}const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=jl(f==null?void 0:f.pointerEvents)||""),this.hasProjected&&!va(this.latestValues)&&(u.transform=h?h({},""):"none",this.hasProjected=!1);return}u.visibility="";const p=m.animationValues||m.latestValues;this.applyTransformsToTarget();let y=R3(this.projectionDeltaWithTransform,this.treeScale,p);h&&(y=h(p,y)),u.transform=y;const{x:b,y:v}=this.projectionDelta;u.transformOrigin=`${b.origin*100}% ${v.origin*100}% 0`,m.animationValues?u.opacity=m===this?p.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:u.opacity=m===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const k in As){if(p[k]===void 0)continue;const{correct:S,applyTo:N,isCSSVariable:C}=As[k],M=y==="none"?p[k]:S(p[k],m);if(N){const _=N.length;for(let z=0;z<_;z++)u[N[z]]=M}else C?this.options.visualElement.renderState.vars[k]=M:u[k]=M}this.options.layoutId&&(u.pointerEvents=m===this?jl(f==null?void 0:f.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>{var f;return(f=u.currentAnimation)==null?void 0:f.stop()}),this.root.nodes.forEach(fp),this.root.sharedNodes.clear()}}}function O3(e){e.updateLayout()}function $3(e){var t;const n=((t=e.resumeFrom)==null?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:o}=e.layout,{animationType:c}=e.options,u=n.source!==e.layout.source;c==="size"?xn(y=>{const b=u?n.measuredBox[y]:n.layoutBox[y],v=Vt(b);b.min=s[y].min,b.max=b.min+v}):Ux(c,n.layoutBox,s)&&xn(y=>{const b=u?n.measuredBox[y]:n.layoutBox[y],v=Vt(s[y]);b.max=b.min+v,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[y].max=e.relativeTarget[y].min+v)});const f=ci();Ss(f,s,n.layoutBox);const h=ci();u?Ss(h,e.applyTransform(o,!0),n.measuredBox):Ss(h,s,n.layoutBox);const m=!Bx(f);let p=!1;if(!e.resumeFrom){const y=e.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:b,layout:v}=y;if(b&&v){const k=xt();ks(k,n.layoutBox,b.layoutBox);const S=xt();ks(S,s,v.layoutBox),qx(k,S)||(p=!0),y.options.layoutRoot&&(e.relativeTarget=S,e.relativeTargetOrigin=k,e.relativeParent=y)}}}e.notifyListeners("didUpdate",{layout:s,snapshot:n,delta:h,layoutDelta:f,hasLayoutChanged:m,hasRelativeLayoutChanged:p})}else if(e.isLead()){const{onExitComplete:s}=e.options;s&&s()}e.options.transition=void 0}function F3(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function V3(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function B3(e){e.clearSnapshot()}function fp(e){e.clearMeasurements()}function mp(e){e.isLayoutDirty=!1}function q3(e){const{visualElement:n}=e.options;n&&n.getProps().onBeforeLayoutMeasure&&n.notify("BeforeLayoutMeasure"),e.resetTransform()}function pp(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function W3(e){e.resolveTargetDelta()}function H3(e){e.calcProjection()}function U3(e){e.resetSkewAndRotation()}function Y3(e){e.removeLeadSnapshot()}function gp(e,n,t){e.translate=ct(n.translate,0,t),e.scale=ct(n.scale,1,t),e.origin=n.origin,e.originPoint=n.originPoint}function xp(e,n,t,s){e.min=ct(n.min,t.min,s),e.max=ct(n.max,t.max,s)}function K3(e,n,t,s){xp(e.x,n.x,t.x,s),xp(e.y,n.y,t.y,s)}function G3(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const X3={duration:.45,ease:[.4,0,.1,1]},yp=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),bp=yp("applewebkit/")&&!yp("chrome/")?Math.round:vn;function vp(e){e.min=bp(e.min),e.max=bp(e.max)}function Z3(e){vp(e.x),vp(e.y)}function Ux(e,n,t){return e==="position"||e==="preserve-aspect"&&!r3(dp(n),dp(t),.2)}function Q3(e){var n;return e!==e.root&&((n=e.scroll)==null?void 0:n.wasRoot)}const J3=Hx({attachResizeListener:(e,n)=>Is(e,"resize",n),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Ku={current:void 0},Yx=Hx({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Ku.current){const e=new J3({});e.mount(window),e.setOptions({layoutScroll:!0}),Ku.current=e}return Ku.current},resetTransform:(e,n)=>{e.style.transform=n!==void 0?n:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),e5={pan:{Feature:y3},drag:{Feature:x3,ProjectionNode:Yx,MeasureLayout:$x}};function wp(e,n,t){const{props:s}=e;e.animationState&&s.whileHover&&e.animationState.setActive("whileHover",t==="Start");const o="onHover"+t,c=s[o];c&&it.postRender(()=>c(n,Us(n)))}class t5 extends Yr{mount(){const{current:n}=this.node;n&&(this.unmount=jw(n,(t,s)=>(wp(this.node,s,"Start"),o=>wp(this.node,o,"End"))))}unmount(){}}class n5 extends Yr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let n=!1;try{n=this.node.current.matches(":focus-visible")}catch{n=!0}!n||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=qs(Is(this.node.current,"focus",()=>this.onFocus()),Is(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function jp(e,n,t){const{props:s}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&s.whileTap&&e.animationState.setActive("whileTap",t==="Start");const o="onTap"+(t==="End"?"":t),c=s[o];c&&it.postRender(()=>c(n,Us(n)))}class r5 extends Yr{mount(){const{current:n}=this.node;n&&(this.unmount=_w(n,(t,s)=>(jp(this.node,s,"Start"),(o,{success:c})=>jp(this.node,o,c?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Nd=new WeakMap,Gu=new WeakMap,a5=e=>{const n=Nd.get(e.target);n&&n(e)},i5=e=>{e.forEach(a5)};function s5({root:e,...n}){const t=e||document;Gu.has(t)||Gu.set(t,{});const s=Gu.get(t),o=JSON.stringify(n);return s[o]||(s[o]=new IntersectionObserver(i5,{root:e,...n})),s[o]}function o5(e,n,t){const s=s5(n);return Nd.set(e,t),s.observe(e),()=>{Nd.delete(e),s.unobserve(e)}}const l5={some:0,all:1};class c5 extends Yr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:n={}}=this.node.getProps(),{root:t,margin:s,amount:o="some",once:c}=n,u={root:t?t.current:void 0,rootMargin:s,threshold:typeof o=="number"?o:l5[o]},f=h=>{const{isIntersecting:m}=h;if(this.isInView===m||(this.isInView=m,c&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:p,onViewportLeave:y}=this.node.getProps(),b=m?p:y;b&&b(h)};return o5(this.node.current,u,f)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:n,prevProps:t}=this.node;["amount","margin","root"].some(u5(n,t))&&this.startObserver()}unmount(){}}function u5({viewport:e={}},{viewport:n={}}={}){return t=>e[t]!==n[t]}const d5={inView:{Feature:c5},tap:{Feature:r5},focus:{Feature:n5},hover:{Feature:t5}},h5={layout:{ProjectionNode:Yx,MeasureLayout:$x}},f5={...Zj,...d5,...e5,...h5},T=fj(f5,_j),lt=[{id:"7",date:"2025-10-28",title:"",description:"",changes:[{type:"feature",title:"",description:""},{type:"feature",title:"",description:""},{type:"visual",title:"",description:""},{type:"feature",title:"",description:""},{type:"balance",title:"",description:""},{type:"visual",title:"UI",description:"UI"}]},{id:"6",date:"2025-10-27",title:"",description:"",changes:[{type:"feature",title:"",description:""},{type:"feature",title:"",description:""},{type:"balance",title:"",description:""},{type:"visual",title:"",description:""}]},{id:"5",date:"2025-10-21",title:"",description:"",changes:[{type:"feature",title:"",description:""},{type:"balance",title:"",description:"30000028003500.3120612150%5000352%"},{type:"balance",title:"",description:"1200007000120000.5150%12850012%Vexithra20%8"},{type:"feature",title:"",description:""},{type:"balance",title:"",description:""}]},{id:"4",date:"2025-10-20",title:"",description:"",changes:[{type:"balance",title:"",description:"200000200010100%"},{type:"balance",title:"",description:'2""850%'},{type:"balance",title:"",description:"80000500010000"},{type:"balance",title:"",description:""},{type:"feature",title:"",description:""},{type:"visual",title:"",description:""},{type:"balance",title:"",description:""}]},{id:"3",date:"2025-10-19",title:"",description:"",changes:[{type:"balance",title:"",description:'""'},{type:"bugfix",title:"",description:"bug"},{type:"visual",title:"",description:""}]},{id:"2",date:"2025-10-18",title:"",description:"",changes:[{type:"feature",title:"",description:""},{type:"feature",title:"",description:""},{type:"balance",title:"",description:""},{type:"visual",title:"",description:""}]},{id:"1",date:"2025-10-17",title:"",description:"",changes:[{type:"balance",title:"",description:""},{type:"balance",title:"",description:""},{type:"balance",title:"",description:""},{type:"feature",title:"",description:""},{type:"feature",title:"",description:""}]}];var Kp,Gp,Xp;parseInt(((Kp=lt[0])==null?void 0:Kp.id)||"1"),`${parseInt(((Gp=lt[0])==null?void 0:Gp.id)||"1")}`,(Xp=lt[0])!=null&&Xp.date||new Date().toISOString().split("T")[0];const Ue=(e,n)=>({cost:500,cooldown:2e3,attackRangeType:"all",targetSelection:"strongest",category:"",rarity:"",...n}),qe={qingyuan:Ue("qingyuan",{name:"",cost:600,cooldown:1800,health:3e5,damage:2800,attackRange:99,attackSpeed:350,specialEffect:"0.3120+8200%265%2012150%50%+100%+120%+150%+300%850%30%120001080%120%5000352%10500030%10%30%50%",description:`

"""''"



`,category:"",bestAgainst:["","","","","",""],worstAgainst:[""],quote:""}),shancatleader:Ue("shancatleader",{name:"",cost:350,cooldown:2500,health:15e3,damage:2e3,attackRange:2,attackRangeType:"melee",attackSpeed:600,targetSelection:"closest",specialEffect:'1800%150100%51""12150%100%60%""48""8630%25%40%38AOE70%23%20%20%53',description:`""





""

""`,category:"",bestAgainst:["","","","",""],worstAgainst:[""],quote:"~"}),xuqinglan:Ue("xuqinglan",{name:"",cost:400,cooldown:3e3,health:8e3,damage:1500,attackRange:6,attackRangeType:"straight",attackSpeed:800,targetSelection:"first",specialEffect:'213x325%20%150%30%""205+50%+30%820%""10%515""310%20%15%""',description:`14

""

""""

"V"

""`,category:"",bestAgainst:["","","","","",""],worstAgainst:["","",""],quote:""}),xuqinglan_student:Ue("xuqinglan_student",{name:"",cost:450,cooldown:3500,health:6e3,damage:1800,attackRange:7,attackRangeType:"straight",attackSpeed:700,targetSelection:"strongest",specialEffect:'40%""150%200%20%""50%3350%30%425%20%""12""415%10+25%+30%+40%151.510%',description:`

""

`,category:"",bestAgainst:["","","","",""],worstAgainst:["","",""],quote:""}),qingxuan:Ue("qingxuan",{name:"",cost:550,cooldown:2200,health:18e4,damage:2200,attackRange:99,attackSpeed:500,targetSelection:"closest",specialEffect:"150200%210315%20880%50%+60%+70%+80%+180%650%15%6000670%100%10%402%",description:`

""



`,category:"",bestAgainst:["","","","",""],worstAgainst:[""],quote:""}),murongyanfeng:Ue("murongyanfeng",{name:"",cost:600,cooldown:2500,health:15e4,damage:2500,attackRange:99,attackSpeed:600,targetSelection:"strongest",specialEffect:'""250%13500030%615""1040%30%+70%+60%+80%+250%810%""8000880%100%""300020%50""1%',description:`""





`,category:"",bestAgainst:["","","","",""],worstAgainst:[""],quote:""}),yijiu:Ue("yijiu",{name:"",cost:150,cooldown:1500,health:500,damage:30,attackRange:3,attackRangeType:"straight",attackSpeed:2e3,targetSelection:"closest",specialEffect:"30%3315%70%15%580%",description:`





`,category:"",rarity:"",bestAgainst:["","",""],worstAgainst:["",""],quote:""}),xuqinglan_god:Ue("xuqinglan_god",{name:"",cost:1e3,cooldown:5e3,health:5e5,damage:1e4,attackRange:99,attackSpeed:300,targetSelection:"strongest",specialEffect:"",description:"",category:"",rarity:"",bestAgainst:[""],worstAgainst:[""],quote:""}),nanaisei:Ue("nanaisei",{name:"",cost:800,cooldown:3e3,health:25e4,damage:3e3,attackRange:99,attackSpeed:600,targetSelection:"strongest",specialEffect:'280200%15""330%15%1030""820%50%30%25%""""50%50%30%200%55%10""70%50%40%',description:`""""

""

""

`,category:"",bestAgainst:["","","","BOSS",""],worstAgainst:[""],quote:""}),vexithra:Ue("vexithra",{name:"Vexithra()",cost:750,cooldown:3e3,health:2e5,damage:2800,attackRange:99,attackSpeed:500,targetSelection:"strongest",specialEffect:"525%20%70%150%200%315830%60%100%50004351%",description:'""""',category:"",bestAgainst:["","","BOSS","",""],worstAgainst:["","",""],quote:""}),xuqinglan_dream:Ue("xuqinglan_dream",{name:"",cost:1e3,cooldown:4e3,health:3e5,damage:8e3,attackRange:99,attackSpeed:400,targetSelection:"strongest",specialEffect:'70%""50%250%212""15%830%20%80%100%""6000635""2%""50%30%""""0.5',description:`



""""

`,category:"",rarity:"",bestAgainst:["","BOSS","",""],worstAgainst:[""],quote:""}),mumu:Ue("mumu",{name:"",cost:650,cooldown:3500,health:15e4,damage:2500,attackRange:99,attackSpeed:600,targetSelection:"closest",specialEffect:'200%60%""50%31""12""15%8820%70%50%""400030""1.5%30%""5',description:`

""""""""""""`,category:"",rarity:"",bestAgainst:["","","","","BOSS"],worstAgainst:["",""],quote:""}),mingjiansanshi:Ue("mingjiansanshi",{name:"",cost:750,cooldown:4e3,health:18e4,damage:2800,attackRange:99,attackSpeed:600,targetSelection:"strongest",specialEffect:'200%""10150%830%60%80%115""20%8""345""1.5%30%""5',description:`""

()

`,category:"",rarity:"",bestAgainst:["","","","BOSS",""],worstAgainst:["","","",""],quote:""}),ling:Ue("ling",{name:"",cost:1e3,cooldown:5e3,health:35e4,damage:9e3,attackRange:99,attackSpeed:450,targetSelection:"strongest",specialEffect:'250%80%""40%51""15""20%10830%80%100%""7000740""2%30%""6',description:`""

""""""`,category:"",rarity:"",bestAgainst:["","","BOSS","",""],worstAgainst:["",""],quote:""}),xingzhe:Ue("xingzhe",{name:"",cost:1200,cooldown:6e3,health:4e5,damage:12e3,attackRange:99,attackSpeed:400,targetSelection:"strongest",specialEffect:'300%90%""3800%31""15""30%121050%90%150%""150001050""3%20%""86010%',description:',.,,,."",,"";,""."",,"",."",,,."",,,,",",,"",,.,',category:"",rarity:"",bestAgainst:["","BOSS","","",""],worstAgainst:[""],quote:""}),xiaoshengkui:Ue("xiaoshengkui",{name:"",cost:500,cooldown:3e3,health:2e5,attackRange:0,attackRangeType:"melee",attackSpeed:0,targetSelection:"closest",specialEffect:"830%50%1520%50%0310%",description:",,,.,.,,,,,.,,,,.",category:"",rarity:"",bestAgainst:["","","",""],worstAgainst:["","",""],quote:""}),yunli_time_arbiter:Ue("yunli_time_arbiter",{name:"",cost:1500,cooldown:6e3,health:45e4,damage:15e3,attackRange:99,attackSpeed:350,targetSelection:"strongest",specialEffect:'350%90%""41000%41""10""520""30%1240%30%95%200%""20000860""5%3015%50%50%2',description:`7

""""

""`,category:"",rarity:"",bestAgainst:["","BOSS","","","",""],worstAgainst:[""],quote:"''''"}),xiaoyue:Ue("xiaoyue",{name:"",cost:600,cooldown:3e3,health:12e4,damage:2200,attackRange:99,attackSpeed:550,targetSelection:"closest",specialEffect:'200%1""12""15%8820%15%60%50%3030%25%""8""3""500040%535""1.5%30%""30%',description:"16)",category:"",rarity:"",bestAgainst:["","","",""],worstAgainst:["",""],quote:""}),yuchen:Ue("yuchen",{name:"",cost:150,cooldown:1500,health:300,damage:45,attackRange:3,attackRangeType:"straight",attackSpeed:2e3,targetSelection:"closest",specialEffect:'100%20%""250%50%13%',description:'""""""',category:"",rarity:"",bestAgainst:["",""],worstAgainst:["",""],quote:""}),lingyaoning:Ue("lingyaoning",{name:"",cost:900,cooldown:4e3,health:28e4,damage:7500,attackRange:99,attackRangeType:"all",attackSpeed:450,targetSelection:"strongest",specialEffect:'300%80%""31000%41""15""25%101040%85%120%""1200040""2.5%30%""8',description:`





`,category:"",rarity:"",bestAgainst:["","","BOSS","",""],worstAgainst:[""],quote:""}),lingxi:Ue("lingxi",{name:"",cost:1200,cooldown:5e3,health:32e4,damage:8500,attackRange:99,attackRangeType:"all",attackSpeed:420,targetSelection:"strongest",specialEffect:'300%90%""41000%31""15""25%101030%20%90%120%""15000850""3%30%""8',description:`""

""""""""

""""""""""""



""""`,category:"",rarity:"",bestAgainst:["","BOSS","","",""],worstAgainst:[""],quote:""}),lihuoshuangsheng_changli:Ue("lihuoshuangsheng_changli",{name:"",cost:1300,cooldown:5500,health:35e4,damage:9e3,attackRange:99,attackRangeType:"all",attackSpeed:400,targetSelection:"strongest",specialEffect:'300%90%""41000%51""15""30%101035%25%90%150%""180002060""3%25%""10',description:'""',category:"",rarity:"",bestAgainst:["","BOSS","","",""],worstAgainst:[""],quote:""}),jinghuashuiyue_lingxi:Ue("jinghuashuiyue_lingxi",{name:"",cost:1400,cooldown:6e3,health:38e4,damage:9500,attackRange:99,attackRangeType:"all",attackSpeed:380,targetSelection:"strongest",specialEffect:'300%90%""41000%51""15""30%101035%25%90%150%""200002060""3%25%""10',description:'""""""""""""""""""""7""""""""',category:"",rarity:"",bestAgainst:["","BOSS","","",""],worstAgainst:[""],quote:""}),cangxuan:Ue("cangxuan",{name:"",rarity:"",cost:1300,cooldown:5500,health:4e5,damage:1e4,attackRange:99,attackRangeType:"all",attackSpeed:400,targetSelection:"strongest",specialEffect:'90%""1000%312""6315""30%25%10""15%5%/300%90%150%1""""2000060""3%25%""10',description:`"""""""""""""""""""""""''""""""""""" """" """"""""""`,category:"",bestAgainst:["/","","BOSS","",""],worstAgainst:[""],quote:""}),qingwu:Ue("qingwu",{name:"",rarity:"",cost:1200,cooldown:5e3,health:35e4,damage:9e3,attackRange:99,attackRangeType:"all",attackSpeed:420,targetSelection:"strongest",specialEffect:'40%20""30%1085%""4800%1""3""1500055""105%/+200%',description:'""""""""""""""""""""""""""""""""""""""""""""""""""',category:"",bestAgainst:["/","","BOSS","",""],worstAgainst:[""],quote:""}),shuangshenghuaxian_lingxi:Ue("shuangshenghuaxian_lingxi",{name:"",rarity:"",cost:1300,cooldown:5500,health:38e4,damage:9500,attackRange:99,attackRangeType:"all",attackSpeed:400,targetSelection:"strongest",specialEffect:'90%""41000%""/-40%""+30%+20%815""30%10310""5%90%150%25%10""2000060""3%25%""10',description:'""""""""""""""""""""""""""""""""""""',category:"",bestAgainst:["","BOSS","","",""],worstAgainst:[""],quote:""}),xuanshuang:Ue("xuanshuang",{name:"",rarity:"",cost:1500,cooldown:7500,health:45e4,damage:13e3,attackRange:99,attackRangeType:"all",attackSpeed:340,targetSelection:"strongest",specialEffect:'""15/35%/BOSS20%""221000%2""6583""12BOSS800%""+30%10/+180%',description:'"""""""""""""""""" """""""""" ""',category:"",bestAgainst:["/","","BOSS",""],worstAgainst:[""],quote:""}),ningshuang:Ue("ningshuang",{name:"",rarity:"",cost:1400,cooldown:7e3,health:42e4,damage:12e3,attackRange:99,attackRangeType:"all",attackSpeed:360,targetSelection:"strongest",specialEffect:'""30%""2525%8""603""+6%+60%/3+150%',description:`""""""""""""

""""""""""""""""""""""""""""""""""""`,category:"",bestAgainst:["/","","BOSS",""],worstAgainst:[""],quote:""}),lingxi_chitong:Ue("lingxi_chitong",{name:"",rarity:"",cost:1400,cooldown:7200,health:44e4,damage:12500,attackRange:99,attackRangeType:"all",attackSpeed:360,targetSelection:"strongest",specialEffect:'12%20%+18%""62%/330%1.53""""4""0.8+3%""""2-40%',description:`""""- ""

""""- """"`,category:"",bestAgainst:["BOSS"],worstAgainst:[""],quote:""}),lingxuan:Ue("lingxuan",{name:"",rarity:"",cost:1450,cooldown:7300,health:43e4,damage:12800,attackRange:99,attackRangeType:"all",attackSpeed:360,targetSelection:"strongest",specialEffect:'10""-30%/BOSS20%460%""""425%2%""-35%2.57""3.5%/BOSS15%3""""8%1""1""10-2%+0.5%',description:'""""""108',category:"",bestAgainst:["","","BOSS",""],worstAgainst:[""],quote:""}),xingguisansi:Ue("xingguisansi",{name:"",rarity:"",cost:1600,cooldown:7e3,health:42e4,damage:9e3,attackRange:99,attackRangeType:"all",attackSpeed:360,targetSelection:"strongest",specialEffect:"+30%15%+25%/-25%220130%25-40%65",description:"----,--",category:"",bestAgainst:["/","BOSS","",""],worstAgainst:["","",""],quote:""})},ht={su_huai:{name:"",health:12e4,speed:.5,damage:7e3,armor:12e3,reward:25e3,specialAbility:'150%12850030%20%12%"""Vexithra"""""""50%"Vexithra"30%""""50%VexithraVexithra40%30%21%Vexithra40%35%30%20%12%5%50%15%80002515830%3x3510%10%20%8',description:`

""20%

VexithraVexithra

""`,difficulty:"",weakness:["","","","","Vexithra"],appearsIn:[1,2,3,4,5,6,7,8],strategy:"Vexithra20%",category:"",type:"special",quote:""},cat_leader:{name:"",health:15e3,speed:.8,damage:1200,reward:3e3,specialAbility:"30%80040%",description:'""""',difficulty:"",weakness:["","",""],appearsIn:[1,2,3,4,5,6,7,8],strategy:"",category:"",type:"fast",quote:"~"},ji_zai:{name:"",health:2e4,speed:.6,damage:1500,reward:4e3,armor:3e3,specialAbility:"1250%30%1040%40%615%35%20%150%",description:`""""





`,difficulty:"",weakness:["","","","",""],appearsIn:[1,2,3,4,5,6,7,8],strategy:"",category:"",type:"special",quote:""},li_huo:{name:"",health:18e3,speed:.7,damage:1200,reward:3500,armor:2e3,specialAbility:"1535%25%1220%4630%30%30%200%30%",description:`""





1+1>2`,difficulty:"",weakness:["","","","",""],appearsIn:[1,2,3,4,5,6,7,8],strategy:"",category:"",type:"special",quote:""},vexithra:{name:"Vexithra",health:45e3,speed:.9,damage:2800,armor:6500,reward:12e3,specialAbility:"70%100%830%25%15%40%70%50%40%50%10%300%Vexithra30%25%20%Vexithra25%20%530001530Vexithra30%",description:`Vexithra""

Vexithra""Vexithra

VexithraVexithraVexithra

Vexithra30%

VexithraVexithra

Vexithra`,difficulty:"",weakness:["","","","",""],appearsIn:[1,2,3,4,5,6,7,8],strategy:"VexithraVexithraVexithra",category:"",type:"special",quote:""},xuqinglan_dark:{name:"",health:5e4,speed:.8,damage:3e3,armor:7e3,reward:18e3,specialAbility:"130%5250%300%15100%30%25%5003500030%1020%20825%20%40%",description:`""



""

""`,difficulty:"",weakness:["","","","",""],appearsIn:[1,2,3,4,5,6,7,8],strategy:'""',category:"",type:"special",quote:""},alibi:{name:"Alibi",health:12e3,speed:.75,damage:1200,reward:2e3,armor:1200,specialAbility:"30%20%30%3150%20%15%310%41231Alibi10%530",description:"AlibiAlibi",difficulty:"",weakness:["","","",""],appearsIn:[1,2,3,4,5,6,7,8],strategy:"AlibiAlibi",category:"",type:"normal",quote:""},qiuyue:{name:"",health:25e3,speed:.6,damage:1800,reward:6e3,armor:4e3,specialAbility:"1525%20%1050%30%550%350%20%10%2",description:`





`,difficulty:"",weakness:["","","","",""],appearsIn:[1,2,3,4,5,6,7,8],strategy:"",category:"",type:"special",quote:""},shantao:{name:"",health:25e3,speed:.6,damage:1800,reward:6e3,armor:4e3,specialAbility:'50%30%15""20%15%832000150%10%',description:'""',difficulty:"",weakness:["","","",""],appearsIn:[1,2,3,4,5,6,7,8],strategy:"",category:"",type:"special",quote:""},xian:{name:"",health:3e4,speed:.6,damage:1800,reward:6e3,armor:3e3,specialAbility:"",description:'""""""',difficulty:"",weakness:["","",""],appearsIn:[1,2,3,4,5,6,7,8],strategy:"",category:"",type:"special",quote:""},shilie_lingxi:{name:"",health:4e5,speed:.6,damage:12e3,reward:3e4,armor:15e3,specialAbility:'300%95%""51200%61""20""80001250%90%150%""15000""1560""3%20%""10',description:'""""""""""""""""""""""""""""""""',difficulty:"",weakness:[""],appearsIn:[1,2,3,4,5,6,7,8],strategy:'""""',category:"",type:"special",quote:""},longzunjiyan:{name:"",health:45e4,speed:.6,damage:13e3,reward:35e3,armor:18e3,specialAbility:'300%95%""51200%41""20""100001260%90%150%""180002060""3%20%""12',description:'""""""""""""',difficulty:"",weakness:["",""],appearsIn:[1,2,3,4,5,6,7,8],strategy:'""""',category:"",type:"special",quote:""},xingtianzhenyang:{name:"",health:48e4,speed:.6,damage:14e3,reward:38e3,armor:22e3,specialAbility:"/5%10%3",description:'""""""""""""""""""""""""""""""',difficulty:"",weakness:["","/",""],appearsIn:[1,2,3,4,5,6,7,8],strategy:'"//"""',category:"",type:"special",quote:""},xuanye:{name:"",health:48e4,speed:.6,damage:14e3,reward:4e4,armor:22e3,specialAbility:"-5%3/",description:`""""""""""

""""""""""""""""""""""""""""""""`,difficulty:"",weakness:["/","",""],appearsIn:[1,2,3,4,5,6,7,8],strategy:'"--"/""',category:"",type:"special",quote:""},shangyao:{name:"",health:32e3,speed:.8,damage:2400,reward:9e3,armor:5e3,specialAbility:"20//13035%1250%+20%+15%",description:`"""""""""""""""""""""''""""""""''"""""""""""""""""""""""""`,difficulty:"",weakness:[""],appearsIn:[1,2,3,4,5,6,7,8],strategy:'""',category:"",type:"special",quote:""},zichen:{name:"",health:5e5,speed:.6,damage:16e3,reward:42e3,armor:24e3,specialAbility:'40%""//30%30/720%-3%+10%3',description:`"""""""""""''''"""""""""""`,difficulty:"",weakness:["/","",""],appearsIn:[1,2,3,4,5,6,7,8],strategy:'"--"//""',category:"",type:"special",quote:""},youyinglingxi:{name:"",health:46e4,speed:.6,damage:13500,reward:36e3,armor:2e4,specialAbility:'20"/"30%61%+40%+20%3x3""-30%20%20%30310%25%5""5""4/200%',description:'""""""""""""',difficulty:"",weakness:["/","","",""],strategy:'"--"//',category:"",type:"special",quote:""}},Vr={qingyuan:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/1_20251028193144.jpg",shancatleader:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/_20251018115946.jpg",xuqinglan:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/()_20251019101043.jpg",xuqinglan_student:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/(_20251019200844.jpg",qingxuan:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/_20251020073321.jpg",murongyanfeng:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/_20251020080449.jpg",yijiu:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/_20251020101211.jpg",xuqinglan_god:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/_20251020165934.jpg",nanaisei:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/_20251020220122.jpg",vexithra:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/Vexithra_20251021174818.jpg",xuqinglan_dream:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/_20251021232653.jpg",mumu:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/_20251022233255.png",mingjiansanshi:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/_20251024034644.jpeg",ling:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/_20251024054108.jpg",xingzhe:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/_20251024083503.jpg",xiaoshengkui:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/_20251024122052.jpg",yunli_time_arbiter:"https://space.coze.cn/api/coze_space/gen_image?image_size=landscape_16_9&prompt=Fantasy%20anime%20girl%20with%20long%20golden%20hair%2C%20dual%20eye%20colors%20%28yellow%20and%20green%29%2C%20wearing%20golden%20armor%20with%20blue%20gems%2C%20holding%20a%20sword%20with%20time%20symbols%2C%20time%20crystals%20floating%20around%2C%20M%C3%B6bius%20strip%20patterns%2C%20cosmic%20background&sign=f1506d4fd402ed8c499428da5c013146",xiaoyue:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/_20251024185423.jpg",yuchen:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/_20251025094010.jpg",lingyaoning:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/_20251026143816.jpg",lingxi:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/_20251026192629.jpg",lihuoshuangsheng_changli:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/_20251027110345.jpg",jinghuashuiyue_lingxi:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/_20251027120920.jpg",cangxuan:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/_compressed_1761558788116_compressed_1761558798_20251027175356.jpg",qingwu:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/_20251028060900.jpg",shuangshenghuaxian_lingxi:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/_20251028091539.jpg",ningshuang:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/_compressed_1761616502716_20251028101835.jpg",xuanshuang:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/_20251028104821.jpg",lingxi_chitong:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/_20251028125915.jpg",lingxuan:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/_20251028151227.jpg",xingguisansi:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/_20251029104649.jpg"},Br={su_huai:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/_20251017203937.jpg",cat_leader:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/_20251017204151.jpg",ji_zai:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/_20251018084258.jpg",li_huo:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/_20251018084300.jpg",vexithra:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/Vexithra_20251018182402.jpg",xuqinglan_dark:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/_20251019210654.jpg",xia:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/_20251021164140.jpg",alibi:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/Alibi_20251022055207.jpg",qiuyue:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/_20251022153700.jpg",shantao:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/Cache_-29e3261540d29512_20251023000220.jpg",xian:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/_20251023213328.jpg",shilie_lingxi:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/_20251026200352.jpg",longzunjiyan:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/_20251027093343.jpg",xingtianzhenyang:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/_20251028194918.jpg",xuanye:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/_20251029110211.jpg",shangyao:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/_20251030124911.jpg",zichen:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/_20251030152736.jpg",youyinglingxi:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/_20251031090110.jpg"},m5=(...e)=>e.filter(Boolean).join(" ");function p5({level:e,onConfirm:n,onCancel:t,isCustomLevel:s=!1,isHighIntensity:o=!1}){const[c,u]=j.useState([]),[f,h]=j.useState(""),[m,p]=j.useState(""),[y,b]=j.useState(null),[v,k]=j.useState(!1),S=["",...Array.from(new Set(Object.values(qe).map(R=>R.category)))],N=Object.entries(qe).filter(([R,A])=>{if(!A)return!1;const O=m===""||A.category===m,U=A.name.toLowerCase().includes(f.toLowerCase())||A.description.toLowerCase().includes(f.toLowerCase());return O&&U}),C=R=>{c.includes(R)?c.length>1?(u(c.filter(A=>A!==R)),console.log(` ${qe[R].name}`)):console.log(""):(u([...c,R]),console.log(` ${qe[R].name}`))},M=()=>{c.length===0&&u(["qingyuan"]),n(c)},_=R=>{switch(R){case"":return"bg-green-500";case"":return"bg-blue-500";case"":return"bg-purple-500";case"":return"bg-orange-500";default:return"bg-gray-500"}},z=()=>{u(["qingyuan"]),console.log("")};return j.useEffect(()=>{c.length===0&&u(["qingyuan"])},[]),i.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-90 z-30 flex flex-col items-center justify-start p-4 overflow-y-auto",children:[i.jsxs("div",{className:"w-full max-w-5xl flex justify-between items-center mb-8",children:[i.jsx("button",{onClick:t,className:"text-white text-xl hover:text-green-400 transition-colors duration-200",children:i.jsx("i",{className:"fa-solid fa-arrow-left"})}),i.jsxs("div",{className:"text-center",children:[i.jsx("h2",{className:"text-2xl font-bold text-green-400",children:o?" - ":s?" - ":""}),i.jsxs("p",{className:"text-gray-400",children:[" ",e,s&&" ()",o&&" ()"]})]}),i.jsx("div",{className:"w-6"})," "]}),i.jsxs("div",{className:`w-full max-w-5xl rounded-lg p-4 mb-6 ${o?"bg-gradient-to-r from-orange-900/50 to-red-900/50 border border-orange-800":"bg-gray-800"}`,children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("i",{className:`fa-solid ${o?"fa-fire text-orange-400":"fa-seedling text-green-400"} mr-2`}),i.jsxs("span",{className:"text-white",children:[" ",c.length," "]})]}),i.jsx("div",{className:`text-sm font-medium px-3 py-1 rounded-full ${c.length>=1?"bg-green-900/50 text-green-400":"bg-red-900/50 text-red-400"}`,children:c.length<1?`${1-c.length} `:` ${c.length} `})]}),i.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2 mt-3",children:i.jsx(T.div,{initial:{width:0},animate:{width:`${Math.min(c.length/10*100,100)}%`},transition:{duration:.5},className:m5("h-2 rounded-full",{"bg-red-500":c.length<1,"bg-yellow-500":c.length>=1&&c.length<5,"bg-green-500":c.length>=5})})}),i.jsxs("div",{className:"text-xs text-gray-400 mt-2 flex justify-between",children:[i.jsx("span",{children:"1"}),i.jsx("span",{children:"8"})]}),o&&i.jsxs("div",{className:"flex items-center mt-2 text-xs text-orange-400",children:[i.jsx("i",{className:"fa-solid fa-exclamation-triangle mr-1"}),i.jsx("span",{children:""})]})]}),c.length>0&&i.jsxs("div",{className:"w-full max-w-5xl mb-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-3",children:[i.jsxs("h3",{className:"text-lg font-bold text-white flex items-center",children:[i.jsx("i",{className:"fa-solid fa-check-circle text-green-400 mr-2"}),""]}),i.jsxs("button",{onClick:z,className:"text-sm text-gray-400 hover:text-white transition-colors duration-200 flex items-center",children:[i.jsx("i",{className:"fa-solid fa-rotate-left mr-1"})," "]})]}),i.jsx("div",{className:"flex flex-wrap gap-2",children:c.map((R,A)=>i.jsxs(T.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"flex items-center bg-gray-800 rounded-full px-3 py-1",children:[i.jsx("img",{src:Vr[R],alt:qe[R].name,className:"w-6 h-6 rounded-full mr-2"}),i.jsx("span",{className:"text-white text-sm",children:qe[R].name}),i.jsx("button",{onClick:()=>C(R),className:"ml-1 text-gray-400 hover:text-red-400 transition-colors duration-200",children:i.jsx("i",{className:"fa-solid fa-times-circle"})})]},R))})]}),i.jsxs("div",{className:"w-full max-w-5xl mb-6",children:[i.jsxs("div",{className:"relative mb-4",children:[i.jsx("input",{type:"text",placeholder:"...",value:f,onChange:R=>h(R.target.value),className:"w-full px-4 py-3 pl-10 bg-gray-800 rounded-lg border border-gray-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-300"}),i.jsx("i",{className:"fa-solid fa-search absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),f&&i.jsx("button",{onClick:()=>h(""),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-white transition-colors duration-200",children:i.jsx("i",{className:"fa-solid fa-times-circle"})})]}),i.jsx("div",{className:"overflow-x-auto pb-2",children:i.jsx("div",{className:"flex space-x-2",children:S.map(R=>i.jsx("button",{onClick:()=>p(R),className:`px-4 py-2 rounded-full whitespace-nowrap transition-all duration-300 ${m===R?"bg-green-600 text-white":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:R},R))})})]}),i.jsx("div",{className:"w-full max-w-5xl grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 mb-8",children:N.map(([R,A])=>{const O=c.includes(R);return i.jsxs("div",{className:`bg-gradient-to-br ${O?"from-green-900/50 to-green-800/20":"from-gray-900/50 to-gray-800/20"} rounded-xl overflow-hidden shadow-lg border ${O?"border-green-500":"border-gray-700"} flex flex-col h-full transition-all duration-300 hover:scale-103 hover:shadow-[0_20px_25px_-5px_rgba(34,139,34,0.3)] hover:z-10 ${c.length>=8&&!O?"opacity-60 cursor-not-allowed":""}`,onClick:()=>(c.length<8||O)&&C(R),children:[i.jsxs("div",{className:"h-32 overflow-hidden relative",children:[i.jsx("img",{src:Vr[R],alt:A.name,className:"w-full h-full object-cover object-center transform hover:scale-110 transition-transform duration-700",loading:"lazy"}),i.jsx("div",{className:`absolute top-3 right-3 text-xs font-bold px-2 py-1 rounded-full ${_(A.rarity)} shadow-md`,children:A.rarity}),O&&i.jsx("div",{className:"absolute top-3 left-3 text-xs font-bold px-2 py-1 rounded-full bg-green-600 text-white shadow-md",children:""}),i.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-20 bg-gradient-to-t from-gray-900 to-transparent"})]}),i.jsxs("div",{className:"p-3 flex-grow flex flex-col",children:[i.jsxs("div",{className:"flex justify-between items-center mb-2",children:[i.jsx("h3",{className:"text-base font-bold text-white",children:A.name}),i.jsxs("span",{className:"bg-yellow-500 text-black font-bold px-2 py-1 rounded-full flex items-center",children:[i.jsx("i",{className:"fa-solid fa-sun mr-1"})," ",A.cost]})]}),i.jsx("p",{className:"text-gray-300 text-xs mb-2 line-clamp-2 flex-grow",children:A.description}),i.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[i.jsxs("div",{className:"bg-gray-800/80 p-2 rounded-lg",children:[i.jsx("span",{className:"text-gray-400 block",children:""}),i.jsx("span",{className:"font-bold text-white",children:A.health})]}),i.jsxs("div",{className:"bg-gray-800/80 p-2 rounded-lg",children:[i.jsx("span",{className:"text-gray-400 block",children:""}),i.jsxs("span",{className:"font-bold text-white",children:[A.cooldown/1e3,""]})]}),A.damage&&i.jsxs("div",{className:"bg-gray-800/80 p-2 rounded-lg",children:[i.jsx("span",{className:"text-gray-400 block",children:""}),i.jsx("span",{className:"font-bold text-white",children:A.damage})]}),A.attackSpeed&&i.jsxs("div",{className:"bg-gray-800/80 p-2 rounded-lg",children:[i.jsx("span",{className:"text-gray-400 block",children:""}),i.jsxs("span",{className:"font-bold text-white",children:[A.attackSpeed/1e3,"/"]})]})]}),i.jsxs("button",{onClick:()=>b(R),className:"mt-3 w-full bg-transparent border border-green-500 text-green-500 hover:bg-green-500 hover:text-black font-medium py-1.5 rounded-lg transition-all duration-300 text-sm flex items-center justify-center",children:[i.jsx("i",{className:"fa-solid fa-info-circle mr-1"})," "]})]})]},R)})}),i.jsx(T.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:M,disabled:c.length<1,className:`w-full max-w-5xl bg-gradient-to-r from-green-600 to-green-500 hover:from-green-700 hover:to-green-600 text-white font-bold py-4 rounded-xl transition-all duration-300 shadow-lg mb-8 ${c.length<1?"opacity-50 cursor-not-allowed":"hover:shadow-green-500/30"}`,children:i.jsxs("div",{className:"flex items-center justify-center",children:[i.jsx("i",{className:`fa-solid ${o?"fa-bolt text-orange-300":"fa-play-circle"} mr-2 text-xl`}),o?"":""]})}),y&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-80 z-40 flex items-center justify-center p-4 opacity-100 transition-opacity duration-300",onClick:()=>b(null),children:i.jsxs("div",{className:"bg-gray-800 rounded-xl max-w-3xl w-full max-h-[90vh] overflow-y-auto shadow-2xl relative transform translate-y-0 opacity-100 transition-all duration-500",onClick:R=>R.stopPropagation(),children:[i.jsx("button",{onClick:()=>b(null),className:"absolute top-4 right-4 bg-gray-700 hover:bg-gray-600 text-white rounded-full w-8 h-8 flex items-center justify-center transition-colors duration-200 z-10",children:i.jsx("i",{className:"fa-solid fa-times"})}),i.jsx("div",{className:"p-6",children:i.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[i.jsx("div",{className:"w-full md:w-1/3",children:i.jsxs("div",{className:"relative overflow-hidden rounded-xl aspect-square",children:[i.jsx("img",{src:Vr[y],alt:qe[y].name,className:"w-full h-full object-cover"}),i.jsx("div",{className:`absolute top-3 right-3 text-xs font-bold px-2 py-1 rounded-full ${_(qe[y].rarity)} shadow-md`,children:qe[y].rarity})]})}),i.jsxs("div",{className:"w-full md:w-2/3",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsx("h2",{className:"text-2xl font-bold text-green-400",children:qe[y].name}),i.jsxs("span",{className:"bg-yellow-500 text-black font-bold px-3 py-1 rounded-full flex items-center",children:[i.jsx("i",{className:"fa-solid fa-sun mr-1"})," ",qe[y].cost]})]}),i.jsxs("div",{className:"mb-6",children:[i.jsxs("div",{className:`relative transition-all duration-500 overflow-hidden ${v?"max-h-[2000px]":"max-h-24"}`,children:[i.jsx("p",{className:"text-gray-300",children:qe[y].description}),!v&&i.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-16 bg-gradient-to-t from-gray-800 via-gray-800/80 to-transparent"})]}),i.jsxs(T.button,{onClick:()=>k(!v),className:"mt-2 mx-auto block px-3 py-1.5 bg-gradient-to-r from-green-600 to-blue-600 hover:from-green-700 hover:to-blue-700 text-white font-medium rounded-full shadow-lg transition-all duration-300 flex items-center text-sm",whileHover:{scale:1.05},whileTap:{scale:.95},children:[i.jsx("i",{className:`fa-solid mr-1 ${v?"fa-chevron-up":"fa-chevron-down"}`}),v?"":""]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-6",children:[i.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg",children:[i.jsx("span",{className:"text-gray-400 block text-sm",children:""}),i.jsx("span",{className:"font-bold text-white text-lg",children:qe[y].health})]}),i.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg",children:[i.jsx("span",{className:"text-gray-400 block text-sm",children:""}),i.jsxs("span",{className:"font-bold text-white text-lg",children:[qe[y].cooldown/1e3,""]})]}),qe[y].damage&&i.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg",children:[i.jsx("span",{className:"text-gray-400 block text-sm",children:""}),i.jsx("span",{className:"font-bold text-white text-lg",children:qe[y].damage})]}),qe[y].attackRange&&i.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg",children:[i.jsx("span",{className:"text-gray-400 block text-sm",children:""}),i.jsx("span",{className:"font-bold text-white text-lg",children:qe[y].attackRange===99?"":` ${qe[y].attackRange} `})]}),qe[y].attackSpeed&&i.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg",children:[i.jsx("span",{className:"text-gray-400 block text-sm",children:""}),i.jsxs("span",{className:"font-bold text-white text-lg",children:[qe[y].attackSpeed/1e3,"/"]})]})]}),qe[y].specialEffect&&i.jsxs("div",{className:"p-4 bg-blue-900/30 border border-blue-800 rounded-lg mb-6",children:[i.jsxs("span",{className:"text-blue-300 font-medium flex items-center",children:[i.jsx("i",{className:"fa-solid fa-star mr-2"})," "]}),i.jsx("p",{className:"text-blue-200 mt-2",children:qe[y].specialEffect})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("span",{className:"text-gray-400 mr-2",children:""}),i.jsx("span",{className:"bg-gray-700 text-white px-3 py-1 rounded-full text-sm",children:qe[y].category})]})]})]})})]})}),i.jsx("div",{className:"w-full max-w-5xl h-16 flex justify-center items-center",children:i.jsx("div",{className:"text-center text-xs text-gray-500",children:i.jsx("p",{children:""})})})]})}const g5=(...e)=>e.filter(Boolean).join(" "),gt={su_huai:{...ht.su_huai,name:""},cat_leader:{...ht.cat_leader,name:""},ji_zai:{...ht.ji_zai,name:""},li_huo:{...ht.li_huo,name:""},vexithra:{...ht.vexithra,name:"Vexithra"},xuqinglan_dark:{...ht.xuqinglan_dark,name:""},xia:{...ht.xia,name:""},alibi:{...ht.alibi,name:"Alibi"},qiuyue:{...ht.qiuyue,name:""},shantao:{...ht.shantao,name:""},shilie_lingxi:{...ht.shilie_lingxi,name:""},longzunjiyan:{...ht.longzunjiyan,name:""},xingtianzhenyang:{...ht.xingtianzhenyang,name:""},xuanye:{...ht.xuanye,name:""},zichen:{...ht.zichen,name:""},shangyao:{...ht.shangyao,name:""},youyinglingxi:{...ht.youyinglingxi,name:""}};function x5({onConfirm:e,onCancel:n,isHighIntensity:t=!1}){const[s,o]=j.useState([]),[c,u]=j.useState(""),[f,h]=j.useState(""),[m,p]=j.useState(null),[y,b]=j.useState(!1),v=[""],k=Object.entries(gt).filter(([_,z])=>{if(!z)return!1;const R=f===""||z.category===f,A=z.name.toLowerCase().includes(c.toLowerCase())||z.description.toLowerCase().includes(c.toLowerCase());return R&&A}),S=_=>{if(s.includes(_))o(s.filter(z=>z!==_)),console.log(` ${gt[_].name}`);else{if(s.length>=8){console.log("8");return}o([...s,_]),console.log(` ${gt[_].name}`)}},N=()=>{if(s.length<3){console.log("3");return}e(s)},C=_=>{switch(_){case"":return"bg-green-500";case"":return"bg-yellow-500";case"":return"bg-orange-500";case"":return"bg-red-500";default:return"bg-gray-500"}},M=()=>{o([]),console.log("")};return i.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-90 z-30 flex flex-col items-center justify-start p-4 overflow-y-auto",children:[i.jsxs("div",{className:"w-full max-w-5xl flex justify-between items-center mb-8",children:[i.jsx("button",{onClick:n,className:"text-white text-xl hover:text-red-400 transition-colors duration-200",children:i.jsx("i",{className:"fa-solid fa-arrow-left"})}),i.jsxs("div",{className:"text-center",children:[i.jsx("h2",{className:"text-2xl font-bold text-red-400",children:t?" - ":""}),i.jsxs("p",{className:"text-gray-400",children:[" - ",t&&" ()"]})]}),i.jsx("div",{className:"w-6"})," "]}),i.jsxs("div",{className:`w-full max-w-5xl rounded-lg p-4 mb-6 ${t?"bg-gradient-to-r from-red-900/50 to-orange-900/50 border border-red-800":"bg-gray-800"}`,children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("i",{className:`fa-solid ${t?"fa-fire text-red-400":"fa-skull text-red-400"} mr-2`}),i.jsxs("span",{className:"text-white",children:[" ",s.length," "]})]}),i.jsx("div",{className:`text-sm font-medium px-3 py-1 rounded-full ${s.length>=3?"bg-green-900/50 text-green-400":"bg-red-900/50 text-red-400"}`,children:s.length<3?`${3-s.length} `:""})]}),i.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2 mt-3",children:i.jsx(T.div,{initial:{width:0},animate:{width:`${Math.min(s.length/8*100,100)}%`},transition:{duration:.5},className:g5("h-2 rounded-full",{"bg-red-500":s.length<3,"bg-yellow-500":s.length>=3&&s.length<6,"bg-green-500":s.length>=6})})}),i.jsxs("div",{className:"text-xs text-gray-400 mt-2 flex justify-between",children:[i.jsx("span",{children:"3"}),i.jsx("span",{children:"8"})]}),t&&i.jsxs("div",{className:"flex items-center mt-2 text-xs text-orange-400",children:[i.jsx("i",{className:"fa-solid fa-exclamation-triangle mr-1"}),i.jsx("span",{children:""})]})]}),s.length>0&&i.jsxs("div",{className:"w-full max-w-5xl mb-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-3",children:[i.jsxs("h3",{className:"text-lg font-bold text-white flex items-center",children:[i.jsx("i",{className:"fa-solid fa-check-circle text-green-400 mr-2"}),""]}),i.jsxs("button",{onClick:M,className:"text-sm text-gray-400 hover:text-white transition-colors duration-200 flex items-center",children:[i.jsx("i",{className:"fa-solid fa-rotate-left mr-1"})," "]})]}),i.jsx("div",{className:"flex flex-wrap gap-2",children:s.map((_,z)=>i.jsxs(T.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"flex items-center bg-gray-800 rounded-full px-3 py-1",children:[i.jsx("img",{src:Br[_],alt:gt[_].name,className:"w-6 h-6 rounded-full mr-2"}),i.jsx("span",{className:"text-white text-sm",children:gt[_].name}),i.jsx("button",{onClick:()=>S(_),className:"ml-1 text-gray-400 hover:text-red-400 transition-colors duration-200",children:i.jsx("i",{className:"fa-solid fa-times-circle"})})]},_))})]}),i.jsxs("div",{className:"w-full max-w-5xl mb-6",children:[i.jsxs("div",{className:"relative mb-4",children:[i.jsx("input",{type:"text",placeholder:"...",value:c,onChange:_=>u(_.target.value),className:"w-full px-4 py-3 pl-10 bg-gray-800 rounded-lg border border-gray-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent transition-all duration-300"}),i.jsx("i",{className:"fa-solid fa-search absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),c&&i.jsx("button",{onClick:()=>u(""),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-white transition-colors duration-200",children:i.jsx("i",{className:"fa-solid fa-times-circle"})})]}),i.jsx("div",{className:"overflow-x-auto pb-2",children:i.jsx("div",{className:"flex space-x-2",children:v.map(_=>i.jsx("button",{onClick:()=>h(_),className:`px-4 py-2 rounded-full whitespace-nowrap transition-all duration-300 ${f===_?"bg-red-600 text-white":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:_},_))})})]}),i.jsx("div",{className:"w-full max-w-5xl grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 mb-8",children:k.map(([_,z])=>{const R=s.includes(_);return i.jsxs("div",{className:`bg-gradient-to-br ${R?"from-red-900/50 to-red-800/20":"from-gray-900/50 to-gray-800/20"} rounded-xl overflow-hidden shadow-lg border ${R?"border-red-500":"border-gray-700"} flex flex-col h-full transition-all duration-300 hover:scale-103 hover:shadow-[0_20px_25px_-5px_rgba(220,20,60,0.3)] hover:z-10`,onClick:()=>S(_),children:[i.jsxs("div",{className:"h-32 overflow-hidden relative",children:[i.jsx("img",{src:Br[_],alt:z.name,className:"w-full h-full object-cover object-center transform hover:scale-110 transition-transform duration-700",loading:"lazy"}),i.jsx("div",{className:`absolute top-3 right-3 text-xs font-bold px-2 py-1 rounded-full ${C(z.difficulty)} shadow-md`,children:z.difficulty}),R&&i.jsx("div",{className:"absolute top-3 left-3 text-xs font-bold px-2 py-1 rounded-full bg-red-600 text-white shadow-md",children:""}),i.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-20 bg-gradient-to-t from-gray-900 to-transparent"})]}),i.jsxs("div",{className:"p-3 flex-grow flex flex-col",children:[i.jsxs("div",{className:"flex justify-between items-center mb-2",children:[i.jsx("h3",{className:"text-base font-bold text-white",children:z.name}),i.jsxs("span",{className:"bg-yellow-500 text-black font-bold px-2 py-1 rounded-full flex items-center",children:[i.jsx("i",{className:"fa-solid fa-sun mr-1"})," ",z.reward||0]})]}),i.jsx("p",{className:"text-gray-300 text-xs mb-2 line-clamp-2 flex-grow",children:z.description}),i.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[i.jsxs("div",{className:"bg-gray-800/80 p-2 rounded-lg",children:[i.jsx("span",{className:"text-gray-400 block",children:""}),i.jsx("span",{className:"font-bold text-white",children:z.health})]}),i.jsxs("div",{className:"bg-gray-800/80 p-2 rounded-lg",children:[i.jsx("span",{className:"text-gray-400 block",children:""}),i.jsx("span",{className:"font-bold text-white",children:typeof z.speed=="number"?z.speed.toFixed(1):""})]}),i.jsxs("div",{className:"bg-gray-800/80 p-2 rounded-lg",children:[i.jsx("span",{className:"text-gray-400 block",children:""}),i.jsx("span",{className:"font-bold text-white",children:z.damage})]}),z.armor&&i.jsxs("div",{className:"bg-gray-800/80 p-2 rounded-lg",children:[i.jsx("span",{className:"text-gray-400 block",children:""}),i.jsx("span",{className:"font-bold text-white",children:z.armor})]})]}),i.jsxs("button",{onClick:()=>p(_),className:"mt-3 w-full bg-transparent border border-red-500 text-red-500 hover:bg-red-500 hover:text-black font-medium py-1.5 rounded-lg transition-all duration-300 text-sm flex items-center justify-center",children:[i.jsx("i",{className:"fa-solid fa-info-circle mr-1"})," "]})]})]},_)})}),i.jsx(T.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:N,disabled:s.length<3,className:`w-full max-w-5xl bg-gradient-to-r from-red-600 to-red-500 hover:from-red-700 hover:to-red-600 text-white font-bold py-4 rounded-xl transition-all duration-300 shadow-lg mb-8 ${s.length<3?"opacity-50 cursor-not-allowed":"hover:shadow-red-500/30"}`,children:i.jsxs("div",{className:"flex items-center justify-center",children:[i.jsx("i",{className:`fa-solid ${t?"fa-bolt text-orange-300":"fa-play-circle"} mr-2 text-xl`}),t?"":""]})}),m&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-80 z-40 flex items-center justify-center p-4 opacity-100 transition-opacity duration-300",onClick:()=>p(null),children:i.jsxs("div",{className:"bg-gray-800 rounded-xl max-w-3xl w-full max-h-[90vh] overflow-y-auto shadow-2xl relative transform translate-y-0 opacity-100 transition-all duration-500",onClick:_=>_.stopPropagation(),children:[i.jsx("button",{onClick:()=>p(null),className:"absolute top-4 right-4 bg-gray-700 hover:bg-gray-600 text-white rounded-full w-8 h-8 flex items-center justify-center transition-colors duration-200 z-10",children:i.jsx("i",{className:"fa-solid fa-times"})}),i.jsx("div",{className:"p-6",children:i.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[i.jsx("div",{className:"w-full md:w-1/3",children:i.jsxs("div",{className:"relative overflow-hidden rounded-xl aspect-square",children:[i.jsx("img",{src:Br[m],alt:gt[m].name,className:"w-full h-full object-cover"}),i.jsx("div",{className:`absolute top-3 right-3 text-xs font-bold px-2 py-1 rounded-full ${C(gt[m].difficulty)} shadow-md`,children:gt[m].difficulty})]})}),i.jsxs("div",{className:"w-full md:w-2/3",children:[i.jsx("h2",{className:"text-2xl font-bold text-red-400 mb-4",children:gt[m].name}),i.jsxs("div",{className:"mb-6",children:[i.jsxs("div",{className:`relative transition-all duration-500 overflow-hidden ${y?"max-h-[2000px]":"max-h-24"}`,children:[i.jsx("p",{className:"text-gray-300",children:gt[m].description}),!y&&i.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-16 bg-gradient-to-t from-gray-800 via-gray-800/80 to-transparent"})]}),i.jsxs(T.button,{onClick:()=>b(!y),className:"mt-2 mx-auto block px-3 py-1.5 bg-gradient-to-r from-red-600 to-orange-600 hover:from-red-700 hover:to-orange-700 text-white font-medium rounded-full shadow-lg transition-all duration-300 flex items-center text-sm",whileHover:{scale:1.05},whileTap:{scale:.95},children:[i.jsx("i",{className:`fa-solid mr-1 ${y?"fa-chevron-up":"fa-chevron-down"}`}),y?"":""]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-6",children:[i.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg",children:[i.jsx("span",{className:"text-gray-400 block text-sm",children:""}),i.jsx("span",{className:"font-bold text-white text-lg",children:gt[m].health})]}),i.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg",children:[i.jsx("span",{className:"text-gray-400 block text-sm",children:""}),i.jsx("span",{className:"font-bold text-white text-lg",children:gt[m].speed.toFixed(1)})]}),i.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg",children:[i.jsx("span",{className:"text-gray-400 block text-sm",children:""}),i.jsx("span",{className:"font-bold text-white text-lg",children:gt[m].damage})]}),gt[m].reward&&i.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg",children:[i.jsx("span",{className:"text-gray-400 block text-sm",children:""}),i.jsx("span",{className:"font-bold text-white text-lg",children:gt[m].reward})]}),gt[m].armor&&i.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg",children:[i.jsx("span",{className:"text-gray-400 block text-sm",children:""}),i.jsx("span",{className:"font-bold text-white text-lg",children:gt[m].armor})]})]}),gt[m].specialAbility&&i.jsxs("div",{className:"p-4 bg-purple-900/30 border border-purple-800 rounded-lg mb-6",children:[i.jsxs("span",{className:"text-purple-300 font-medium flex items-center",children:[i.jsx("i",{className:"fa-solid fa-wand-magic-sparkles mr-2"})," "]}),i.jsx("p",{className:"text-purple-200 mt-2",children:gt[m].specialAbility})]}),i.jsxs("div",{className:"mb-6",children:[i.jsxs("span",{className:"text-green-300 font-medium flex items-center mb-3",children:[i.jsx("i",{className:"fa-solid fa-shield-halved mr-2"})," "]}),i.jsx("div",{className:"flex flex-wrap gap-2",children:gt[m].weakness.map((_,z)=>i.jsx("span",{className:"bg-green-900/30 text-green-200 px-3 py-1.5 rounded-lg",children:_},z))})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("span",{className:"text-gray-400 mr-2",children:""}),i.jsx("span",{className:"bg-gray-700 text-white px-3 py-1 rounded-full text-sm",children:gt[m].category})]})]})]})})]})}),i.jsx("div",{className:"w-full max-w-5xl h-16 flex justify-center items-center",children:i.jsx("div",{className:"text-center text-xs text-gray-500",children:i.jsx("p",{children:""})})})]})}function y5(e){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",n.appendChild(t),t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}Array(12).fill(0);let Sd=1;class b5{constructor(){this.subscribe=n=>(this.subscribers.push(n),()=>{const t=this.subscribers.indexOf(n);this.subscribers.splice(t,1)}),this.publish=n=>{this.subscribers.forEach(t=>t(n))},this.addToast=n=>{this.publish(n),this.toasts=[...this.toasts,n]},this.create=n=>{var t;const{message:s,...o}=n,c=typeof(n==null?void 0:n.id)=="number"||((t=n.id)==null?void 0:t.length)>0?n.id:Sd++,u=this.toasts.find(h=>h.id===c),f=n.dismissible===void 0?!0:n.dismissible;return this.dismissedToasts.has(c)&&this.dismissedToasts.delete(c),u?this.toasts=this.toasts.map(h=>h.id===c?(this.publish({...h,...n,id:c,title:s}),{...h,...n,id:c,dismissible:f,title:s}):h):this.addToast({title:s,...o,dismissible:f,id:c}),c},this.dismiss=n=>(n?(this.dismissedToasts.add(n),requestAnimationFrame(()=>this.subscribers.forEach(t=>t({id:n,dismiss:!0})))):this.toasts.forEach(t=>{this.subscribers.forEach(s=>s({id:t.id,dismiss:!0}))}),n),this.message=(n,t)=>this.create({...t,message:n}),this.error=(n,t)=>this.create({...t,message:n,type:"error"}),this.success=(n,t)=>this.create({...t,type:"success",message:n}),this.info=(n,t)=>this.create({...t,type:"info",message:n}),this.warning=(n,t)=>this.create({...t,type:"warning",message:n}),this.loading=(n,t)=>this.create({...t,type:"loading",message:n}),this.promise=(n,t)=>{if(!t)return;let s;t.loading!==void 0&&(s=this.create({...t,promise:n,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));const o=Promise.resolve(n instanceof Function?n():n);let c=s!==void 0,u;const f=o.then(async m=>{if(u=["resolve",m],ai.isValidElement(m))c=!1,this.create({id:s,type:"default",message:m});else if(w5(m)&&!m.ok){c=!1;const y=typeof t.error=="function"?await t.error(`HTTP error! status: ${m.status}`):t.error,b=typeof t.description=="function"?await t.description(`HTTP error! status: ${m.status}`):t.description,k=typeof y=="object"&&!ai.isValidElement(y)?y:{message:y};this.create({id:s,type:"error",description:b,...k})}else if(m instanceof Error){c=!1;const y=typeof t.error=="function"?await t.error(m):t.error,b=typeof t.description=="function"?await t.description(m):t.description,k=typeof y=="object"&&!ai.isValidElement(y)?y:{message:y};this.create({id:s,type:"error",description:b,...k})}else if(t.success!==void 0){c=!1;const y=typeof t.success=="function"?await t.success(m):t.success,b=typeof t.description=="function"?await t.description(m):t.description,k=typeof y=="object"&&!ai.isValidElement(y)?y:{message:y};this.create({id:s,type:"success",description:b,...k})}}).catch(async m=>{if(u=["reject",m],t.error!==void 0){c=!1;const p=typeof t.error=="function"?await t.error(m):t.error,y=typeof t.description=="function"?await t.description(m):t.description,v=typeof p=="object"&&!ai.isValidElement(p)?p:{message:p};this.create({id:s,type:"error",description:y,...v})}}).finally(()=>{c&&(this.dismiss(s),s=void 0),t.finally==null||t.finally.call(t)}),h=()=>new Promise((m,p)=>f.then(()=>u[0]==="reject"?p(u[1]):m(u[1])).catch(p));return typeof s!="string"&&typeof s!="number"?{unwrap:h}:Object.assign(s,{unwrap:h})},this.custom=(n,t)=>{const s=(t==null?void 0:t.id)||Sd++;return this.create({jsx:n(s),id:s,...t}),s},this.getActiveToasts=()=>this.toasts.filter(n=>!this.dismissedToasts.has(n.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const yn=new b5,v5=(e,n)=>{const t=(n==null?void 0:n.id)||Sd++;return yn.addToast({title:e,...n,id:t}),t},w5=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",j5=v5,N5=()=>yn.toasts,S5=()=>yn.getActiveToasts(),at=Object.assign(j5,{success:yn.success,info:yn.info,warning:yn.warning,error:yn.error,custom:yn.custom,message:yn.message,promise:yn.promise,dismiss:yn.dismiss,loading:yn.loading},{getHistory:N5,getToasts:S5});y5("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");const Kx={qingyuan:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/_20251016111846_103_92_20251016111910.jpg",shancatleader:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/_20251018115946.jpg",xuqinglan:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/()_20251019101043.jpg",xuqinglan_student:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/(_20251019200844.jpg",xuqinglan_dark:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/_20251019210654.jpg",su_huai:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/_20251017203937.jpg",narrator:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20narrator%20mysterious%20figure%20cloaked%20in%20light%20cute%20chibi%20style&sign=a1c196cd894d1dbf7697e8dc74a74d38",wise_elder:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20wise%20elder%20long%20white%20beard%20flowing%20robes%20wise%20expression%20cute%20chibi%20style&sign=b9cae1785e6989ed1419712530c46355",young_su_huai:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20young%20princess%20purple%20hair%20kind%20smile%20cute%20chibi%20style&sign=420077d9385cdebe0f895640c598e27a",cat:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=cute%20anime%20cat%20black%20fur%20big%20eyes%20chibi%20style&sign=b9abbe69758ee9fb563e3857bf16b3fd",qingxuan:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/_20251020073321.jpg",murongyanfeng:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/_20251020080449.jpg",xuqinglan_god:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/_20251020165934.jpg",nanaisei:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/_20251020220122.jpg"},fi={qingyuan:"",shancatleader:"",xuqinglan:"",xuqinglan_student:"",xuqinglan_dark:"",su_huai:"",narrator:"",wise_elder:"",young_su_huai:"",cat:"",qingxuan:"",murongyanfeng:"",xuqinglan_god:"",nanaisei:""},qr={qingyuan:"from-yellow-600 to-yellow-400",shancatleader:"from-blue-600 to-blue-400",xuqinglan:"from-purple-600 to-purple-400",xuqinglan_student:"from-indigo-600 to-indigo-400",xuqinglan_dark:"from-red-900 to-purple-900",su_huai:"from-red-600 to-red-400",narrator:"from-gray-600 to-gray-400",wise_elder:"from-blue-700 to-blue-500",young_su_huai:"from-purple-400 to-pink-400",cat:"from-gray-500 to-gray-300",qingxuan:"from-green-600 to-teal-400",murongyanfeng:"from-purple-900 to-indigo-600",xuqinglan_god:"from-cyan-600 to-blue-400",nanaisei:"from-yellow-500 to-white"},Rt=[{id:"chapter-1",title:"",description:"",thumbnail:"https://space.coze.cn/api/coze_space/gen_image?image_size=landscape_16_9&prompt=ancient%20fantasy%20world%20creation%20light%20and%20darkness%20anime%20style%20beautiful%20scenery&sign=389d56ec26c2b180e0b38f7db28ae11b",content:[{id:"ch1-1",character:"narrator",text:""},{id:"ch1-2",character:"narrator",text:""},{id:"ch1-3",character:"wise_elder",text:""},{id:"ch1-4",character:"wise_elder",text:""},{id:"ch1-5",character:"narrator",text:"..."},{id:"ch1-6",character:"narrator",text:"..."},{id:"ch1-7",character:"su_huai",text:"",emotion:"calm"},{id:"ch1-8",character:"qingyuan",text:"",emotion:"determined"},{id:"ch1-9",character:"su_huai",text:"''''",emotion:"angry"},{id:"ch1-10",character:"qingyuan",text:"''",emotion:"determined"},{id:"ch1-11",character:"su_huai",text:"",emotion:"angry"},{id:"ch1-12",character:"narrator",text:""},{id:"ch1-6",character:"narrator",text:"..."}]},{id:"chapter-2",title:"",description:"",thumbnail:"https://space.coze.cn/api/coze_space/gen_image?image_size=landscape_16_9&prompt=fallen%20angel%20corrupted%20by%20darkness%20anime%20style%20tragic%20scene&sign=4dcd71b43a83d4edb8abe4e264da7c23",content:[{id:"ch2-1",character:"narrator",text:""},{id:"ch2-2",character:"young_su_huai",text:"...",emotion:"sad"},{id:"ch2-3",character:"qingyuan",text:"",emotion:"calm"},{id:"ch2-4",character:"narrator",text:""},{id:"ch2-5",character:"narrator",text:""},{id:"ch2-6",character:"su_huai",text:"",emotion:"angry"},{id:"ch2-7",character:"qingyuan",text:"''",emotion:"surprised"},{id:"ch2-8",character:"su_huai",text:"",emotion:"angry"}]},{id:"chapter-3",title:"",description:"",thumbnail:"https://space.coze.cn/api/coze_space/gen_image?image_size=landscape_16_9&prompt=magical%20girl%20from%20another%20world%20anime%20style%20mystical%20atmosphere&sign=c56ce18bbfc13a43ff1cb909103e980c",content:[{id:"ch3-1",character:"narrator",text:"14"},{id:"ch3-2",character:"xuqinglan",text:"",emotion:"curious"},{id:"ch3-3",character:"wise_elder",text:"",emotion:"calm"},{id:"ch3-4",character:"narrator",text:""},{id:"ch3-5",character:"xuqinglan",text:"",emotion:"determined"},{id:"ch3-6",character:"wise_elder",text:"",emotion:"calm"},{id:"ch3-7",character:"narrator",text:""}]},{id:"chapter-4",title:"",description:"",thumbnail:"https://space.coze.cn/api/coze_space/gen_image?image_size=landscape_16_9&prompt=cat%20transformed%20by%20light%20magic%20anime%20style%20redemption%20scene&sign=0163e5b77c9d585fdfca545f5aa48596",content:[{id:"ch4-1",character:"narrator",text:""},{id:"ch4-2",character:"cat",text:"~",emotion:"happy"},{id:"ch4-3",character:"young_su_huai",text:"''",emotion:"happy"},{id:"ch4-4",character:"narrator",text:""},{id:"ch4-5",character:"narrator",text:""},{id:"ch4-6",character:"qingyuan",text:"",emotion:"surprised"},{id:"ch4-7",character:"narrator",text:""},{id:"ch4-8",character:"shancatleader",text:"",emotion:"happy"}]},{id:"chapter-5",title:"",description:"",thumbnail:"https://space.coze.cn/api/coze_space/gen_image?image_size=landscape_16_9&prompt=magical%20girl%20training%20anime%20style%20fantasy%20world%20mystical%20atmosphere&sign=fd3f64fbd1e144ee2343f95b9635c41c",content:[{id:"ch5-1",character:"narrator",text:""},{id:"ch5-2",character:"qingyuan",text:"",emotion:"calm"},{id:"ch5-3",character:"xuqinglan",text:"......",emotion:"surprised"},{id:"ch5-4",character:"narrator",text:""},{id:"ch5-5",character:"xuqinglan_student",text:".........",emotion:"surprised"},{id:"ch5-6",character:"qingyuan",text:"",emotion:"calm"},{id:"ch5-7",character:"narrator",text:"..."}]},{id:"chapter-6",title:"",description:"",thumbnail:"https://space.coze.cn/api/coze_space/gen_image?image_size=landscape_16_9&prompt=dark%20magic%20wizard%20plotting%20evil%20scheme%20anime%20style%20dark%20atmosphere&sign=7469c12d1462aef0d50bc66f84ae86a0",content:[{id:"ch6-1",character:"narrator",text:"''"},{id:"ch6-2",character:"ji_zai",text:"......",emotion:"angry"},{id:"ch6-3",character:"narrator",text:""},{id:"ch6-4",character:"xuqinglan_student",text:"...",emotion:"sad"},{id:"ch6-5",character:"ji_zai",text:"",emotion:"angry"},{id:"ch6-6",character:"narrator",text:"..."}]},{id:"chapter-7",title:"",description:"",thumbnail:"https://space.coze.cn/api/coze_space/gen_image?image_size=landscape_16_9&prompt=fallen%20magical%20girl%20corrupted%20by%20darkness%20anime%20style%20tragic%20scene&sign=88e6b148a00090819d77a9b52f580fd3",content:[{id:"ch7-1",character:"narrator",text:"''"},{id:"ch7-2",character:"xuqinglan_dark",text:"......",emotion:"angry"},{id:"ch7-3",character:"ji_zai",text:"",emotion:"happy"},{id:"ch7-4",character:"narrator",text:""},{id:"ch7-5",character:"xuqinglan_dark",text:"...",emotion:"angry"}]},{id:"chapter-8",title:"",description:"",thumbnail:"https://space.coze.cn/api/coze_space/gen_image?image_size=landscape_16_9&prompt=epic%20battle%20between%20light%20and%20darkness%20anime%20style%20heroic%20scene&sign=36f823e01eac4a285021ca80118ce903",content:[{id:"ch8-1",character:"narrator",text:""},{id:"ch8-2",character:"qingyuan",text:"",emotion:"sad"},{id:"ch8-3",character:"shancatleader",text:"~",emotion:"sad"},{id:"ch8-4",character:"xuqinglan_dark",text:"...",emotion:"angry"},{id:"ch8-5",character:"qingyuan",text:"",emotion:"determined"},{id:"ch8-6",character:"narrator",text:"..."},{id:"ch8-7",character:"xuqinglan",text:"...............",emotion:"determined"},{id:"ch8-8",character:"narrator",text:""}]},{id:"chapter-9",title:"",description:"",thumbnail:"https://space.coze.cn/api/coze_space/gen_image?image_size=landscape_16_9&prompt=reborn%20world%20after%20battle%20anime%20style%20hopeful%20scene&sign=4930c3d0d9d9dc299290d5085cd2b1ab",content:[{id:"ch9-1",character:"narrator",text:""},{id:"ch9-2",character:"su_huai",text:"............",emotion:"sad"},{id:"ch9-3",character:"qingyuan",text:"",emotion:"happy"},{id:"ch9-4",character:"narrator",text:""},{id:"ch9-5",character:"xuqinglan",text:"",emotion:"sad"},{id:"ch9-6",character:"qingyuan",text:"",emotion:"happy"},{id:"ch9-7",character:"shancatleader",text:"~",emotion:"sad"},{id:"ch9-8",character:"xuqinglan",text:"",emotion:"happy"},{id:"ch9-9",character:"narrator",text:"..."}]},{id:"chapter-10",title:"",description:"",thumbnail:"https://space.coze.cn/api/coze_space/gen_image?image_size=landscape_16_9&prompt=mysterious%20human%20in%20shadow%20light%20anime%20style%20legendary%20warrior&sign=cbd94dc69383495f670c91e0834e1315",content:[{id:"ch10-1",character:"narrator",text:"''"},{id:"ch10-2",character:"wise_elder",text:"......"},{id:"ch10-3",character:"narrator",text:""},{id:"ch10-4",character:"murongyanfeng",text:"...",emotion:"calm"},{id:"ch10-5",character:"qingyuan",text:""},{id:"ch10-6",character:"murongyanfeng",text:"",emotion:"angry"},{id:"ch10-7",character:"narrator",text:""},{id:"ch10-8",character:"xuqinglan",text:""},{id:"ch10-9",character:"murongyanfeng",text:"...",emotion:"calm"},{id:"ch10-10",character:"murongyanfeng",text:"...",emotion:"calm"}]},{id:"chapter-11",title:"",description:"",thumbnail:"https://space.coze.cn/api/coze_space/gen_image?image_size=landscape_16_9&prompt=celestial%20gate%20guardian%20anime%20style%20mystical%20atmosphere%20girl%20with%20umbrella&sign=4dc70b07b5c3d2a37336ebf35ed87860",content:[{id:"ch11-1",character:"narrator",text:""},{id:"ch11-2",character:"qingxuan",text:"...",emotion:"calm"},{id:"ch11-3",character:"narrator",text:"''"},{id:"ch11-4",character:"qingxuan",text:"...",emotion:"calm"},{id:"ch11-5",character:"narrator",text:""},{id:"ch11-6",character:"xuqinglan_dark",text:"...",emotion:"angry"},{id:"ch11-7",character:"qingxuan",text:"...",emotion:"surprised"},{id:"ch11-8",character:"narrator",text:"..."}]},{id:"chapter-12",title:"",description:"",thumbnail:"https://space.coze.cn/api/coze_space/gen_image?image_size=landscape_16_9&prompt=cute%20anime%20boy%20with%20red%20string%20of%20lanterns%20happy%20expression%20traditional%20clothing&sign=13ea0695c553f9f0887ae8d92b3e0c94",content:[{id:"ch12-1",character:"narrator",text:""},{id:"ch12-2",character:"yijiu",text:"",emotion:"happy"},{id:"ch12-3",character:"narrator",text:""},{id:"ch12-4",character:"yijiu",text:".........",emotion:"surprised"},{id:"ch12-5",character:"qingyuan",text:"...",emotion:"calm"},{id:"ch12-6",character:"narrator",text:""},{id:"ch12-7",character:"yijiu",text:"",emotion:"happy"}]}],Il=()=>{try{const e=localStorage.getItem("story_unlocked_chapters");if(e){const n=JSON.parse(e);if(Array.isArray(n))return n}return Rt.slice(0,3).map(n=>n.id)}catch(e){return console.error("Failed to get unlocked chapters:",e),Rt.slice(0,3).map(n=>n.id)}},It=[{id:"side-qingyuan",title:"",description:"",thumbnail:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/_20251016111846_103_92_20251016111910.jpg",content:[{id:"s1-1",character:"narrator",text:""},{id:"s1-2",character:"wise_elder",text:""},{id:"s1-3",character:"qingyuan",text:""},{id:"s1-4",character:"narrator",text:""},{id:"s1-5",character:"qingyuan",text:""},{id:"s1-6",character:"su_huai",text:""},{id:"s1-7",character:"narrator",text:"..."}],characterType:"plant",characterId:"qingyuan"},{id:"side-su_huai",title:"",description:"",thumbnail:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/_20251017203937.jpg",content:[{id:"s2-1",character:"narrator",text:""},{id:"s2-2",character:"young_su_huai",text:""},{id:"s2-3",character:"qingyuan",text:""},{id:"s2-4",character:"narrator",text:""},{id:"s2-5",character:"su_huai",text:""},{id:"s2-6",character:"narrator",text:"..."}],characterType:"zombie",characterId:"su_huai"},{id:"side-shancatleader",title:"",description:"",thumbnail:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/_20251018115946.jpg",content:[{id:"s3-1",character:"narrator",text:""},{id:"s3-2",character:"young_su_huai",text:""},{id:"s3-3",character:"cat",text:"~"},{id:"s3-4",character:"narrator",text:""},{id:"s3-5",character:"qingyuan",text:""},{id:"s3-6",character:"narrator",text:""},{id:"s3-7",character:"shancatleader",text:""}],characterType:"plant",characterId:"shancatleader"},{id:"side-xuqinglan",title:"",description:"",thumbnail:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/()_20251019101043.jpg",content:[{id:"s4-1",character:"narrator",text:""},{id:"s4-2",character:"xuqinglan",text:"...",emotion:"sad"},{id:"s4-3",character:"wise_elder",text:""},{id:"s4-4",character:"narrator",text:""},{id:"s4-5",character:"xuqinglan",text:"",emotion:"determined"},{id:"s4-6",character:"wise_elder",text:""}],characterType:"plant",characterId:"xuqinglan"},{id:"side-qingxuan",title:"",description:"",thumbnail:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/_20251020073321.jpg",content:[{id:"s5-1",character:"narrator",text:""},{id:"s5-2",character:"qingxuan",text:"...",emotion:"calm"},{id:"s5-3",character:"narrator",text:""},{id:"s5-4",character:"qingxuan",text:"...",emotion:"determined"},{id:"s5-5",character:"narrator",text:"..."},{id:"s5-6",character:"qingxuan",text:".........",emotion:"determined"}],characterType:"plant",characterId:"qingxuan"},{id:"side-murongyanfeng",title:"",description:"",thumbnail:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/_20251020080449.jpg",content:[{id:"s6-1",character:"narrator",text:"''"},{id:"s6-2",character:"murongyanfeng",text:"...",emotion:"calm"},{id:"s6-3",character:"narrator",text:""},{id:"s6-4",character:"ji_zai",text:"",emotion:"happy"},{id:"s6-5",character:"murongyanfeng",text:"",emotion:"angry"},{id:"s6-6",character:"narrator",text:""}],characterType:"plant",characterId:"murongyanfeng"},{id:"side-nanaisei",title:"",description:"",thumbnail:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/_20251020220122.jpg",content:[{id:"s7-1",character:"narrator",text:""},{id:"s7-2",character:"nanaisei",text:"...",emotion:"calm"},{id:"s7-3",character:"narrator",text:""},{id:"s7-4",character:"nanaisei",text:"...",emotion:"surprised"},{id:"s7-5",character:"narrator",text:""}],characterType:"plant",characterId:"nanaisei"},{id:"side-xuqinglan_god",title:"",description:"",thumbnail:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/_20251020165934.jpg",content:[{id:"s8-1",character:"narrator",text:""},{id:"s8-2",character:"xuqinglan_god",text:"",emotion:"determined"},{id:"s8-3",character:"narrator",text:""},{id:"s8-4",character:"su_huai",text:"...",emotion:"surprised"},{id:"s8-5",character:"xuqinglan_god",text:"",emotion:"happy"},{id:"s8-6",character:"narrator",text:""}],characterType:"plant",characterId:"xuqinglan_god"},{id:"side-xia",title:"",description:"",thumbnail:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/_20251021164140.jpg",content:[{id:"s9-1",character:"narrator",text:""},{id:"s9-2",character:"xia",text:"...",emotion:"sad"},{id:"s9-3",character:"narrator",text:"''"},{id:"s9-4",character:"narrator",text:"VexithraVexithra"},{id:"s9-5",character:"xia",text:"...",emotion:"surprised"},{id:"s9-6",character:"narrator",text:"Vexithra"},{id:"s9-7",character:"xia",text:"......",emotion:"determined"},{id:"s9-8",character:"narrator",text:"Vexithra"}],characterType:"zombie",characterId:"xia"},{id:"side-alibi",title:"",description:"Alibi",thumbnail:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/Alibi_20251022055207.jpg",content:[{id:"s10-1",character:"narrator",text:"''Alibi"},{id:"s10-2",character:"alibi",text:"...",emotion:"calm"},{id:"s10-3",character:"narrator",text:""},{id:"s10-4",character:"narrator",text:"Alibi"},{id:"s10-5",character:"alibi",text:"...",emotion:"sad"},{id:"s10-6",character:"narrator",text:"Alibi"},{id:"s10-7",character:"narrator",text:"Alibi..."}],characterType:"zombie",characterId:"alibi"},{id:"side-shantao",title:"",description:"",thumbnail:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/Cache_-29e3261540d29512_20251023000220.jpg",content:[{id:"s12-1",character:"narrator",text:""},{id:"s12-2",character:"wise_elder",text:"",emotion:"calm"},{id:"s12-3",character:"su_huai",text:"",emotion:"happy"},{id:"s12-4",character:"shantao",text:"",emotion:"surprised"},{id:"s12-5",character:"su_huai",text:"",emotion:"calm"},{id:"s12-6",character:"narrator",text:"",emotion:"calm"},{id:"s12-7",character:"shantao",text:"...",emotion:"curious"},{id:"s12-8",character:"narrator",text:""}],characterType:"zombie",characterId:"shantao"}],Np=()=>{const[e,n]=j.useState(!1);j.useEffect(()=>{},[]);const[t,s]=j.useState("main"),o=An(),c=localStorage.getItem("has_started_story")==="true",u=()=>{for(const p of Rt){const y=`story_progress_${p.id}`,b=localStorage.getItem(y);if(b&&parseInt(b)>0)return p.id}return Rt[0].id},f=(p,y=!1)=>{p&&(n(!1),localStorage.setItem("has_started_story","true"),o(y?`/side-stories?storyId=${p}&isSideStory=true`:`/story?chapterId=${p}`))},h=p=>{p.stopPropagation(),n(!e)},m=()=>{const p=u();f(p)};return i.jsxs("div",{className:"relative",children:[i.jsxs("button",{className:"group relative bg-gradient-to-br from-purple-600 to-pink-600 text-white p-4 rounded-full shadow-lg shadow-purple-900/50 flex flex-col items-center justify-center transition-all duration-300 border-2 border-purple-500/30 hover:border-purple-400",onClick:h,title:"","aria-label":"",children:[i.jsx(T.div,{className:"absolute -inset-0.5 bg-gradient-to-r from-purple-600 via-pink-500 to-red-500 rounded-full blur opacity-30 group-hover:opacity-100 transition duration-500",animate:{scale:[1,1.05,1],opacity:[.3,.5,.3]},transition:{duration:3,repeat:1/0,ease:"easeInOut"}}),i.jsxs("div",{className:"relative",children:[i.jsx("i",{className:"fa-solid fa-book text-2xl mb-1 group-hover:scale-110 transition-transform duration-300"}),!c&&i.jsx(T.div,{className:"absolute -top-2 -right-2 w-4 h-4 bg-red-500 rounded-full",animate:{scale:[1,1.2,1]},transition:{duration:2,repeat:1/0}})]}),i.jsx("span",{className:"text-xs font-medium group-hover:text-white transition-colors duration-300",children:""}),i.jsx("div",{className:"absolute -inset-4 rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:i.jsx("div",{className:"absolute inset-0 bg-purple-500 rounded-full blur-xl opacity-30"})})]}),i.jsx(Un,{children:e&&i.jsxs(T.div,{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 w-64 bg-gray-900 rounded-xl shadow-2xl border border-gray-700 z-40 backdrop-blur-md",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},transition:{duration:.3},children:[i.jsx("div",{className:"p-3 border-b border-gray-700 bg-gray-800 rounded-t-xl",children:i.jsxs("h3",{className:"text-white font-bold flex items-center",children:[i.jsx("i",{className:"fa-solid fa-book mr-2 text-purple-400"}),""]})}),i.jsxs("div",{className:"flex border-b border-gray-700 overflow-x-auto scrollbar-hide",children:[i.jsx("button",{className:`px-4 py-2 flex-1 text-sm font-medium transition-colors duration-200 ${t==="main"?"text-purple-400 border-b-2 border-purple-400":"text-gray-400 hover:text-gray-300"}`,onClick:()=>s("main"),children:""}),i.jsx("button",{className:`px-4 py-2 flex-1 text-sm font-medium transition-colors duration-200 ${t==="side"?"text-blue-400 border-b-2 border-blue-400":"text-gray-400 hover:text-gray-300"}`,onClick:()=>s("side"),children:""})]}),c&&i.jsxs(T.button,{className:"w-full text-left p-3 bg-purple-900/30 border-b border-gray-700 flex items-center",onClick:m,whileHover:{scale:1.02,backgroundColor:"rgba(147, 51, 234, 0.4)"},whileTap:{scale:.98},initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},children:[i.jsx("i",{className:"fa-solid fa-play-circle text-purple-400 mr-3 text-xl"}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-white font-medium",children:""}),i.jsx("p",{className:"text-gray-400 text-xs",children:""})]})]}),i.jsx("div",{className:"max-h-80 overflow-y-auto scrollbar-thin scrollbar-thumb-gray-700 scrollbar-track-gray-900",children:t==="main"?Rt.map((p,y)=>{const b=`story_progress_${p.id}`,v=localStorage.getItem(b),k=v&&parseInt(v)>0,S=k?Math.round(parseInt(v)/p.content.length*100):0;return i.jsxs(T.button,{className:`w-full text-left p-3 hover:bg-gray-800 transition-all duration-300 flex items-center ${k?"border-l-2 border-purple-500":""}`,onClick:()=>f(p.id),whileHover:{scale:1.02,x:5},whileTap:{scale:.98},initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:y*.05},"aria-label":`${p.title}`,children:[i.jsx("div",{className:"w-10 h-10 rounded-lg overflow-hidden mr-3 flex-shrink-0 border border-gray-700",children:i.jsx(T.img,{src:p.thumbnail,alt:p.title,className:"w-full h-full object-cover",loading:"lazy",whileHover:{scale:1.1},transition:{duration:.3}})}),i.jsxs("div",{className:"flex-grow",children:[i.jsx("h4",{className:"text-white font-medium line-clamp-1",children:p.title}),i.jsx("p",{className:"text-gray-400 text-xs line-clamp-1",children:p.description}),k&&i.jsxs("div",{className:"mt-1",children:[i.jsx("div",{className:"w-full bg-gray-700 rounded-full h-1 overflow-hidden",children:i.jsx(T.div,{className:"bg-purple-500 h-full rounded-full",style:{width:`${S}%`},initial:{width:0},animate:{width:`${S}%`},transition:{duration:.8,ease:"easeOut"}})}),i.jsxs("div",{className:"text-right text-xs text-gray-500 mt-0.5",children:[S,"%"]})]})]}),k&&i.jsxs(T.div,{className:"ml-2 text-xs bg-purple-500/20 text-purple-400 px-1.5 py-0.5 rounded-full",whileHover:{scale:1.1},children:[S,"%"]})]},p.id)}):i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"px-3 py-2 bg-gray-800/70 text-xs text-gray-400",children:""}),i.jsxs("div",{className:"mb-4",children:[i.jsxs("div",{className:"px-3 py-2 bg-green-900/20 text-green-400 text-sm font-medium flex items-center",children:[i.jsx("i",{className:"fa-solid fa-seedling mr-2"}),""]}),It.filter(p=>p.characterType==="plant").map((p,y)=>{const b=`side_story_progress_${p.id}`,v=localStorage.getItem(b),k=v&&parseInt(v)>0,S=k?Math.round(parseInt(v)/p.content.length*100):0;return i.jsxs(T.button,{className:`w-full text-left p-3 hover:bg-gray-800 transition-all duration-300 flex items-center ${k?"border-l-2 border-green-500":""}`,onClick:()=>f(p.id,!0),whileHover:{scale:1.02,x:5},whileTap:{scale:.98},initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:y*.05},"aria-label":`${p.title}`,children:[i.jsxs("div",{className:"w-12 h-12 rounded-full overflow-hidden mr-3 flex-shrink-0 border border-green-500/50 relative",children:[i.jsx(T.img,{src:p.thumbnail,alt:p.title,className:"w-full h-full object-cover",loading:"lazy",whileHover:{scale:1.1},transition:{duration:.3}}),i.jsx("div",{className:"absolute -top-1 -right-1 bg-green-500 text-xs px-1.5 py-0.5 rounded-full text-black font-bold",children:i.jsx("i",{className:"fa-solid fa-leaf"})})]}),i.jsxs("div",{className:"flex-grow",children:[i.jsx("h4",{className:"text-white font-medium line-clamp-1",children:p.title}),i.jsx("p",{className:"text-gray-400 text-xs line-clamp-2",children:p.description}),k&&i.jsxs("div",{className:"mt-1",children:[i.jsx("div",{className:"w-full bg-gray-700 rounded-full h-1 overflow-hidden",children:i.jsx(T.div,{className:"bg-green-500 h-full rounded-full",style:{width:`${S}%`},initial:{width:0},animate:{width:`${S}%`},transition:{duration:.8,ease:"easeOut"}})}),i.jsxs("div",{className:"text-right text-xs text-gray-500 mt-0.5",children:[S,"%"]})]})]}),k&&i.jsxs(T.div,{className:"ml-2 text-xs bg-green-500/20 text-green-400 px-1.5 py-0.5 rounded-full",whileHover:{scale:1.1},children:[S,"%"]})]},p.id)})]}),i.jsxs("div",{className:"mb-4",children:[i.jsxs("div",{className:"px-3 py-2 bg-red-900/20 text-red-400 text-sm font-medium flex items-center",children:[i.jsx("i",{className:"fa-solid fa-skull mr-2"}),""]}),It.filter(p=>p.characterType==="zombie").map((p,y)=>{const b=`side_story_progress_${p.id}`,v=localStorage.getItem(b),k=v&&parseInt(v)>0,S=k?Math.round(parseInt(v)/p.content.length*100):0;return i.jsxs(T.button,{className:`w-full text-left p-3 hover:bg-gray-800 transition-all duration-300 flex items-center ${k?"border-l-2 border-red-500":""}`,onClick:()=>f(p.id,!0),whileHover:{scale:1.02,x:5},whileTap:{scale:.98},initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:y*.05},"aria-label":`${p.title}`,children:[i.jsxs("div",{className:"w-12 h-12 rounded-full overflow-hidden mr-3 flex-shrink-0 border border-red-500/50 relative",children:[i.jsx(T.img,{src:p.thumbnail,alt:p.title,className:"w-full h-full object-cover",loading:"lazy",whileHover:{scale:1.1},transition:{duration:.3}}),i.jsx("div",{className:"absolute -top-1 -right-1 bg-red-500 text-xs px-1.5 py-0.5 rounded-full text-black font-bold",children:i.jsx("i",{className:"fa-solid fa-ghost"})})]}),i.jsxs("div",{className:"flex-grow",children:[i.jsx("h4",{className:"text-white font-medium line-clamp-1",children:p.title}),i.jsx("p",{className:"text-gray-400 text-xs line-clamp-2",children:p.description}),k&&i.jsxs("div",{className:"mt-1",children:[i.jsx("div",{className:"w-full bg-gray-700 rounded-full h-1 overflow-hidden",children:i.jsx(T.div,{className:"bg-red-500 h-full rounded-full",style:{width:`${S}%`},initial:{width:0},animate:{width:`${S}%`},transition:{duration:.8,ease:"easeOut"}})}),i.jsxs("div",{className:"text-right text-xs text-gray-500 mt-0.5",children:[S,"%"]})]})]}),k&&i.jsxs(T.div,{className:"ml-2 text-xs bg-red-500/20 text-red-400 px-1.5 py-0.5 rounded-full",whileHover:{scale:1.1},children:[S,"%"]})]},p.id)})]}),i.jsx("div",{className:"px-3 py-4 text-center text-gray-500 text-sm",children:i.jsxs("p",{className:"flex flex-col items-center",children:[i.jsx("i",{className:"fa-solid fa-lock text-2xl mb-2"}),i.jsx("span",{children:""}),i.jsx("span",{className:"mt-2 text-xs",children:""})]})})]})}),i.jsxs("div",{className:"p-3 border-t border-gray-700 bg-gray-800 rounded-b-xl flex justify-between items-center",children:[i.jsxs("div",{className:"text-xs text-gray-400",children:[Rt.length," "]}),i.jsxs("button",{className:"text-xs text-purple-400 hover:text-purple-300 transition-colors duration-200 flex items-center",onClick:()=>n(!1),children:[i.jsx("i",{className:"fa-solid fa-times mr-1"})," "]})]})]})})]})},k5={qingyuan:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/_20251016111846_103_92_20251016111910.jpg",shancatleader:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/_20251018115946.jpg",xuqinglan:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/()_20251019101043.jpg",su_huai:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/_20251017203937.jpg",narrator:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20narrator%20mysterious%20figure%20cloaked%20in%20light%20cute%20chibi%20style&sign=a1c196cd894d1dbf7697e8dc74a74d38",qingxuan:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/_20251020073321.jpg",murongyanfeng:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/_20251020080449.jpg",xuqinglan_god:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/_20251020165934.jpg",nanaisei:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/_20251020220122.jpg"},Sp={qingyuan:"",shancatleader:"",xuqinglan:"",su_huai:"",narrator:"",qingxuan:"",murongyanfeng:"",xuqinglan_god:"",nanaisei:""},ba={qingyuan:"from-yellow-600 to-yellow-400",shancatleader:"from-blue-600 to-blue-400",xuqinglan:"from-purple-600 to-purple-400",su_huai:"from-red-600 to-red-400",narrator:"from-gray-600 to-gray-400",xuqinglan_student:"from-purple-600 to-purple-400",ji_zai:"from-purple-600 to-purple-400",li_huo:"from-red-600 to-red-400",xuqinglan_dark:"from-red-600 to-red-400",qingxuan:"from-green-600 to-teal-400",murongyanfeng:"from-purple-900 to-indigo-600",xuqinglan_god:"from-cyan-600 to-blue-400",nanaisei:"from-yellow-500 to-white"},Sl=[{id:"intro-1",character:"narrator",text:"...",delay:1e3},{id:"intro-2",character:"qingyuan",text:"",emotion:"calm"},{id:"intro-3",character:"xuqinglan",text:"",emotion:"surprised"},{id:"intro-4",character:"qingyuan",text:""},{id:"intro-5",character:"shancatleader",text:"~",emotion:"happy"},{id:"wave-1-1",character:"qingyuan",text:"",condition:e=>e.currentWave===1&&e.gameStatus==="playing"},{id:"first-kill-1",character:"xuqinglan",text:"",condition:e=>e.totalZombiesKilled===1,emotion:"happy",choices:[{text:"",nextLineId:"first-kill-2"}]},{id:"first-kill-2",character:"shancatleader",text:"",emotion:"happy"},{id:"low-sun-1",character:"qingyuan",text:"",condition:e=>e.sunCount<100&&e.gameStatus==="playing"&&e.currentWave>0},{id:"wave-3-1",character:"xuqinglan",text:"",condition:e=>e.currentWave===3&&e.gameStatus==="playing",emotion:"determined"},{id:"wave-5-1",character:"shancatleader",text:"",condition:e=>e.currentWave===5&&e.gameStatus==="playing",emotion:"determined"},{id:"wave-5-2",character:"qingyuan",text:""},{id:"half-waves-1",character:"qingyuan",text:"",condition:e=>e.currentWave>0&&e.totalWaves>0&&e.currentWave>=Math.floor(e.totalWaves/2)&&e.currentWave<e.totalWaves&&!Sl.find(n=>n.id==="wave-5-1"&&e.currentWave===5)},{id:"massive-attack-1",character:"qingyuan",text:"",condition:e=>e.currentWave>5&&e.gameStatus==="playing"&&Math.random()>.7,emotion:"angry"},{id:"su-huai-appear-1",character:"su_huai",text:"",condition:e=>e.selectedLevel>=8,emotion:"angry"},{id:"su-huai-appear-2",character:"qingyuan",text:"...",emotion:"calm"},{id:"su-huai-appear-3",character:"su_huai",text:"...",emotion:"angry"},{id:"qingyuan-upgrade-1",character:"qingyuan",text:"",condition:e=>e.plants.some(n=>n.type==="qingyuan")&&e.currentWave>2&&e.gameStatus==="playing"&&Math.random()>.8,emotion:"happy"},{id:"xuqinglan-evolve-1",character:"xuqinglan_student",text:"",condition:e=>e.plants.some(n=>n.type==="xuqinglan_student")&&e.currentWave>4&&e.gameStatus==="playing"&&Math.random()>.8,emotion:"surprised"},{id:"xuqinglan-student-1",character:"xuqinglan_student",text:"...",condition:e=>e.plants.some(n=>n.type==="xuqinglan_student")&&e.plants.some(n=>n.type==="qingyuan")&&Math.random()>.7,emotion:"calm"},{id:"xuqinglan-student-2",character:"qingyuan",text:"",emotion:"calm"},{id:"ji-zai-appear-1",character:"ji_zai",text:"",condition:e=>e.currentWave>6&&e.gameStatus==="playing"&&Math.random()>.7,emotion:"angry"},{id:"ji-zai-appear-2",character:"qingyuan",text:"",emotion:"angry"},{id:"xuqinglan-dark-appear-1",character:"xuqinglan_dark",text:"......",condition:e=>e.selectedLevel>=8&&e.gameStatus==="playing"&&Math.random()>.7,emotion:"angry"},{id:"xuqinglan-dark-appear-2",character:"shancatleader",text:"~",emotion:"sad"},{id:"xuqinglan-dark-appear-3",character:"xuqinglan_dark",text:"...",emotion:"angry"},{id:"xuqinglan-dark-appear-4",character:"qingyuan",text:"",emotion:"determined"},{id:"final-wave-1",character:"xuqinglan",text:"",condition:e=>e.currentWave===e.totalWaves&&e.gameStatus==="playing"&&e.totalWaves>0,emotion:"determined"},{id:"final-wave-2",character:"shancatleader",text:"",emotion:"happy"},{id:"victory-1",character:"narrator",text:"",condition:e=>e.gameStatus==="victory"},{id:"victory-2",character:"qingyuan",text:"",emotion:"happy"},{id:"victory-3",character:"xuqinglan",text:"",emotion:"determined",choices:[{text:"",nextLineId:"victory-4"}]},{id:"victory-4",character:"shancatleader",text:"~",emotion:"happy"},{id:"defeat-1",character:"su_huai",text:"...",condition:e=>e.gameStatus==="gameover",emotion:"angry"},{id:"defeat-2",character:"qingyuan",text:"",emotion:"calm"},{id:"defeat-3",character:"xuqinglan",text:"...",emotion:"sad"},{id:"partners-1",character:"xuqinglan",text:"",condition:e=>e.plants.some(n=>n.type==="shancatleader")&&e.plants.some(n=>n.type==="xuqinglan")&&Math.random()>.7,emotion:"happy"},{id:"partners-2",character:"shancatleader",text:"~",emotion:"happy"},{id:"advanced-level-1",character:"qingyuan",text:"",condition:e=>e.selectedLevel>=7&&e.gameStatus==="playing"},{id:"long-game-1",character:"shancatleader",text:"~",condition:e=>e.currentWave>8&&e.gameStatus==="playing"&&Math.random()>.8,emotion:"happy"},{id:"qingxuan-intro-1",character:"qingxuan",text:"",condition:e=>e.plants.some(n=>n.type==="qingxuan")&&e.gameStatus==="playing",emotion:"calm"},{id:"qingxuan-combat-1",character:"qingxuan",text:"",condition:e=>e.plants.some(n=>n.type==="qingxuan")&&e.currentWave>3&&e.gameStatus==="playing",emotion:"determined"},{id:"qingxuan-heal-1",character:"qingxuan",text:"",condition:e=>e.plants.some(n=>n.type==="qingxuan")&&e.currentWave>1&&e.gameStatus==="playing"&&Math.random()>.8,emotion:"calm"},{id:"qingxuan-with-xuqinglan-1",character:"qingxuan",text:"",condition:e=>e.plants.some(n=>n.type==="qingxuan")&&e.plants.some(n=>n.type==="xuqinglan")&&Math.random()>.8,emotion:"surprised"},{id:"qingxuan-victory-1",character:"qingxuan",text:"",condition:e=>e.plants.some(n=>n.type==="qingxuan")&&e.gameStatus==="victory",emotion:"happy"},{id:"murongyanfeng-intro-1",character:"murongyanfeng",text:"...",condition:e=>e.plants.some(n=>n.type==="murongyanfeng")&&e.gameStatus==="playing",emotion:"calm"},{id:"murongyanfeng-combat-1",character:"murongyanfeng",text:"",condition:e=>e.plants.some(n=>n.type==="murongyanfeng")&&e.currentWave>3&&e.gameStatus==="playing",emotion:"determined"},{id:"murongyanfeng-dark-1",character:"murongyanfeng",text:"...",condition:e=>e.plants.some(n=>n.type==="murongyanfeng")&&e.currentWave>1&&e.gameStatus==="playing"&&Math.random()>.8,emotion:"calm"},{id:"murongyanfeng-with-ji_zai-1",character:"murongyanfeng",text:"",condition:e=>e.plants.some(n=>n.type==="murongyanfeng")&&e.gameStatus==="playing"&&Math.random()>.8,emotion:"calm"},{id:"murongyanfeng-victory-1",character:"murongyanfeng",text:"...",condition:e=>e.plants.some(n=>n.type==="murongyanfeng")&&e.gameStatus==="victory",emotion:"calm"},{id:"nanaisei-intro-1",character:"nanaisei",text:"...",condition:e=>e.plants.some(n=>n.type==="nanaisei")&&e.gameStatus==="playing",emotion:"calm"},{id:"nanaisei-foresee-1",character:"nanaisei",text:"",condition:e=>e.plants.some(n=>n.type==="nanaisei")&&e.currentWave>0&&e.gameStatus==="playing"&&Math.random()>.7,emotion:"determined"},{id:"nanaisei-with-xuqinglan-1",character:"nanaisei",text:"",condition:e=>e.plants.some(n=>n.type==="nanaisei")&&e.plants.some(n=>n.type==="xuqinglan")&&Math.random()>.7,emotion:"happy"},{id:"nanaisei-protect-1",character:"nanaisei",text:"",condition:e=>e.plants.some(n=>n.type==="nanaisei")&&e.gameStatus==="playing"&&e.currentWave>3&&Math.random()>.8,emotion:"calm"},{id:"nanaisei-victory-1",character:"nanaisei",text:"",condition:e=>e.plants.some(n=>n.type==="nanaisei")&&e.gameStatus==="victory",emotion:"happy"},{id:"nanaisei-dark-appear-1",character:"nanaisei",text:"",condition:e=>e.plants.some(n=>n.type==="nanaisei")&&e.selectedLevel>=8&&e.gameStatus==="playing"&&Math.random()>.7,emotion:"sad"},{id:"nanaisei-with-god-1",character:"nanaisei",text:"",condition:e=>e.plants.some(n=>n.type==="nanaisei")&&e.plants.some(n=>n.type==="xuqinglan_god")&&Math.random()>.8,emotion:"happy"}],_5=({gameState:e})=>{const n=fr(),[t,s]=j.useState(null),[o,c]=j.useState([]),[u,f]=j.useState(!1),[h,m]=j.useState(""),[p,y]=j.useState(!1),[b,v]=j.useState(null),[k,S]=j.useState([]),N=j.useRef([]),C=j.useRef(null),[M,_]=j.useState("expanded"),[z,R]=j.useState(null);j.useEffect(()=>{const Q=Sl.filter(he=>!o.includes(he.id)&&(!he.condition||he.condition(e)));if(Q.length>0){Q.sort((Ce,Ie)=>{const De=de=>{const se=de.match(/\d+/);return se?parseInt(se[0]):0},be=De(Ce.id),K=De(Ie.id);return be<K?-1:be>K?1:0});const he=Q.filter(Ce=>!Ce.id.includes("followup")),Se=Q.filter(Ce=>Ce.id.includes("followup"));N.current=[...N.current,...he,...Se],!t&&N.current.length>0&&A()}},[e,o,t]);const A=()=>{if(N.current.length===0){setTimeout(()=>{_("minimized")},1e3);return}const Q=N.current.shift(),he=O(Q.character);s(Q),c(Ie=>[...Ie,Q.id]),f(!0),m(""),C.current&&clearTimeout(C.current);let Se=0;const Ce=()=>{if(Se<Q.text.length){const Ie=Math.random(),De=Ie>.95?100:Ie>.9?50:he;m(be=>be+Q.text[Se]),Se++,C.current=setTimeout(Ce,De)}else f(!1),Q.choices&&Q.choices.length>0&&y(!0)};Q.delay?setTimeout(Ce,Q.delay):Ce()},O=Q=>{switch(Q){case"su_huai":return 45;case"qingyuan":return 35;case"xuqinglan":return 30;case"shancatleader":return 25;case"narrator":return 40;case"xuqinglan_god":return 32;case"nanaisei":return 28;default:return 30}},U=()=>{u&&t?(C.current&&clearTimeout(C.current),m(t.text),f(!1),t.choices&&t.choices.length>0&&y(!0)):p&&(t!=null&&t.choices)?Y(t.choices[0].nextLineId):A()},Y=Q=>{y(!1);const he=Sl.find(Se=>Se.id===Q);he&&N.current.unshift(he),A()};if(j.useEffect(()=>()=>{C.current&&clearTimeout(C.current)},[]),j.useEffect(()=>{t&&(R(b),v(t.character),S(Q=>[...Q.slice(-5),t]))},[t,b]),n.pathname!=="/")return null;const $=M==="minimized";return i.jsx(Un,{children:!$&&t?i.jsxs(T.div,{className:"fixed bottom-4 left-0 right-0 flex justify-center items-center z-50 pointer-events-none",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},transition:{duration:.3},children:[i.jsx(T.div,{className:`absolute inset-0 bg-gradient-to-r ${ba[t.character]} opacity-5 rounded-full blur-3xl`,animate:{scale:[1,1.2,1],opacity:[.05,.08,.05]},transition:{duration:3,repeat:1/0,ease:"easeInOut"}}),i.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:Array.from({length:8}).map((Q,he)=>i.jsx(T.div,{className:`absolute rounded-full bg-${(ba[t.character]||"from-purple-600 to-purple-400").split(" ")[1].split("-")[0]}-400 opacity-30`,style:{width:Math.random()*8+2,height:Math.random()*8+2,left:`${Math.random()*100}%`,top:`${Math.random()*100}%`},animate:{y:[0,-Math.random()*30-10],opacity:[.3,0]},transition:{duration:Math.random()*3+2,repeat:1/0,repeatType:"loop",delay:Math.random()*2}},he))}),i.jsxs(T.div,{className:"bg-gray-900 bg-opacity-90 backdrop-blur-md rounded-xl p-4 max-w-2xl w-full pointer-events-auto shadow-2xl border border-gray-700 relative overflow-hidden",onClick:U,whileHover:{scale:1.02},whileTap:{scale:.98},transition:{duration:.2},children:[i.jsxs("div",{className:"absolute inset-0 opacity-5",children:[i.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${ba[t.character]}`}),i.jsx(T.div,{className:"absolute top-1/2 left-1/2 w-3/4 h-3/4 -translate-x-1/2 -translate-y-1/2 rounded-full bg-white",animate:{scale:[1,1.2,1],opacity:[.1,.2,.1]},transition:{duration:3,repeat:1/0,ease:"easeInOut"}})]}),i.jsx(T.button,{className:"absolute bottom-3 left-3 bg-gray-800 bg-opacity-80 hover:bg-opacity-100 text-white rounded-full p-2 z-20 backdrop-blur-sm border border-gray-700 shadow-lg",whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>_("minimized"),"aria-label":"",children:i.jsx("i",{className:"fa-solid fa-chevron-down"})}),i.jsxs("div",{className:"flex items-start relative z-10",children:[i.jsxs(T.div,{className:`w-14 h-14 rounded-full overflow-hidden flex-shrink-0 border-2 ${t.character==="su_huai"?"border-red-500 ring-2 ring-red-500":`border-${(ba[t.character]||"from-purple-600 to-purple-400").split(" ")[1].split("-")[0]}-500 ring-2 ring-transparent`}`,style:{boxShadow:`0 0 20px ${t.character==="su_huai"?"rgba(239, 68, 68, 0.4)":"rgba(79, 70, 229, 0.4)"}`},initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{type:"spring",stiffness:500,damping:30},whileHover:{scale:1.05,rotate:5},children:[i.jsx("img",{src:k5[t.character],alt:Sp[t.character],className:"w-full h-full object-cover",loading:"lazy"}),t.emotion&&i.jsxs(T.div,{className:"absolute -top-2 -right-2 bg-black bg-opacity-70 rounded-full w-7 h-7 flex items-center justify-center text-white text-xs font-bold",initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:400,damping:10},whileHover:{scale:1.2},children:[t.emotion==="happy"&&"",t.emotion==="sad"&&"",t.emotion==="angry"&&"",t.emotion==="surprised"&&"",t.emotion==="calm"&&"",t.emotion==="determined"&&"",t.emotion==="curious"&&""]})]}),i.jsxs("div",{className:"flex-grow ml-4",children:[i.jsxs(T.div,{className:`font-bold text-sm mb-2 inline-flex items-center px-3 py-1 rounded-full ${t.character==="su_huai"?"bg-red-900/50 text-red-300 border border-red-700/50":"bg-gray-800/80 text-white border border-gray-700"}`,initial:{x:-10,opacity:0},animate:{x:0,opacity:1},transition:{delay:.1},children:[i.jsx("span",{className:`mr-1.5 inline-block w-2 h-2 rounded-full ${t.character==="su_huai"?"bg-red-400":"bg-blue-400"}`}),Sp[t.character]]}),i.jsxs(T.div,{className:"relative",initial:{y:10,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},children:[i.jsx("div",{className:`absolute -left-4 top-2 w-4 h-4 rotate-45 ${t.character==="su_huai"?"bg-red-900/20 border-t border-l border-red-700/50":"bg-gray-800/20 border-t border-l border-gray-700"}`}),i.jsxs("p",{className:"text-white text-base mb-3 leading-relaxed bg-gray-800/20 backdrop-blur-sm p-4 rounded-xl border border-gray-700 shadow-inner",children:[h,u&&i.jsx(T.span,{className:"inline-block w-2 h-4 bg-white ml-1 rounded-full",animate:{opacity:[1,0,1]},transition:{repeat:1/0,duration:1}})]}),u&&i.jsx("div",{className:"flex space-x-1.5 justify-end -mt-2 mb-2 mr-2",children:[1,2,3].map(Q=>i.jsx(T.div,{className:"w-1.5 h-1.5 bg-gray-500 rounded-full",animate:{scale:[1,1.5,1],opacity:[.5,1,.5]},transition:{duration:1.2,repeat:1/0,delay:Q*.2,repeatType:"reverse"}},Q))})]}),i.jsx(Un,{children:p&&t.choices&&i.jsx(T.div,{className:"mt-4 space-y-3",initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},children:t.choices.map((Q,he)=>i.jsxs(T.button,{className:`w-full text-left bg-gradient-to-r ${he===0?"from-purple-900/80 to-indigo-900/80 hover:from-purple-800/80 hover:to-indigo-800/80 border-purple-700/50":"from-gray-800/80 to-gray-900/80 hover:from-gray-700/80 hover:to-gray-800/80 border-gray-700"} text-white p-3.5 rounded-xl border transition-all duration-300 shadow-lg backdrop-blur-sm group`,whileHover:{scale:1.02,x:6},whileTap:{scale:.97},onClick:()=>Y(Q.nextLineId),disabled:Q.condition&&!Q.condition(e),initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:he*.15},children:[i.jsxs("span",{className:"mr-3 font-bold text-lg text-purple-300",children:[he+1,"."]}),i.jsx("span",{className:"group-hover:text-purple-200 transition-colors duration-200",children:Q.text}),Q.condition&&!Q.condition(e)&&i.jsx("span",{className:"ml-2 text-xs text-gray-400 bg-gray-700/50 px-2 py-0.5 rounded-full",children:""}),i.jsx(T.span,{className:"inline-block ml-2 opacity-70",animate:{x:[0,3,0]},transition:{duration:1.5,repeat:1/0,ease:"easeInOut"},children:i.jsx("i",{className:"fa-solid fa-arrow-right"})})]},he))})}),i.jsxs("div",{className:"text-xs text-gray-400 text-right flex flex-wrap justify-between items-center mt-3 gap-2",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("i",{className:"fa-solid fa-hand-pointer mr-1.5"}),u?i.jsx("span",{children:""}):p?i.jsx("span",{children:""}):i.jsx("span",{children:""})]}),i.jsxs("div",{className:"flex items-center bg-gray-800/50 px-2 py-1 rounded-full",children:[i.jsx("span",{className:"text-xs text-gray-500 mr-2",children:":"}),i.jsxs("div",{className:"w-20 h-1.5 bg-gray-700 rounded-full overflow-hidden",children:[i.jsx(T.div,{className:`h-full bg-gradient-to-r ${ba[t.character]}`,style:{width:`${h.length/((t==null?void 0:t.text.length)||1)*100}%`},initial:{width:0},animate:{width:`${h.length/((t==null?void 0:t.text.length)||1)*100}%`},transition:{duration:.1,ease:"linear"}}),i.jsx(T.div,{className:"absolute h-full w-6 bg-white/20 blur-sm",animate:{x:[0,"100%"],opacity:[0,.7,0]},transition:{repeat:1/0,duration:1.5,ease:"easeInOut",repeatDelay:.5},style:{pointerEvents:"none"}})]})]})]})]})]}),i.jsx(T.div,{className:`absolute -bottom-10 -right-10 w-40 h-40 rounded-full blur-3xl opacity-20 bg-gradient-to-br ${ba[t.character]}`,animate:{scale:[1,1.2,1],opacity:[.1,.3,.1]},transition:{duration:5,repeat:1/0,ease:"easeInOut"}}),i.jsx(T.div,{className:`absolute top-1/4 -left-10 w-20 h-20 rounded-full blur-2xl opacity-10 bg-gradient-to-br ${ba[t.character]}`,animate:{scale:[1,1.3,1],opacity:[.1,.2,.1]},transition:{duration:4,repeat:1/0,ease:"easeInOut"}})]})]}):i.jsx(T.div,{className:"fixed bottom-6 right-6 z-50 pointer-events-auto",initial:{opacity:0,x:50},animate:{opacity:1,x:0},transition:{duration:.3},onClick:()=>{if(_("expanded"),N.current.length>0)A();else{const Q=Sl.filter(he=>!o.includes(he.id)&&(!he.condition||he.condition(e)));Q.length>0&&(Q.sort((he,Se)=>{const Ce=be=>{const K=be.match(/\d+/);return K?parseInt(K[0]):0},Ie=Ce(he.id),De=Ce(Se.id);return Ie<De?-1:Ie>De?1:0}),N.current=Q,A())}},whileHover:{scale:1.15,rotate:5},whileTap:{scale:.9},children:i.jsxs("div",{className:"relative group",children:[i.jsx(T.div,{className:"absolute inset-0 rounded-full bg-gradient-to-r from-purple-600 to-indigo-600 blur-xl opacity-70 group-hover:opacity-100 transition-opacity duration-300",animate:{scale:[1,1.15,1]},transition:{duration:2,repeat:1/0,ease:"easeInOut"}}),i.jsxs(T.div,{className:"relative bg-gradient-to-r from-purple-600 to-indigo-600 w-14 h-14 rounded-full flex items-center justify-center shadow-lg border-2 border-white/20",whileHover:{y:-3},children:[i.jsx("i",{className:"fa-solid fa-comment text-white text-2xl animate-pulse"}),N.current.length>0&&i.jsx(T.div,{className:"absolute -top-1 -right-1 w-6 h-6 rounded-full bg-red-500 flex items-center justify-center text-white text-xs font-bold border-2 border-white",initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:400,damping:10},children:N.current.length})]})]})})})},H={gridSize:{rows:6,cols:15},cellSize:{width:80,height:80},maxSun:9999,initialSun:200,sunProductionRate:1500,sunValue:30,maxZombiesPerWave:{easy:8,medium:10,hard:12,expert:15},waveInterval:25e3,gameSpeed:1,plantCooldownMultiplier:.7,zombieSpeedMultiplier:.75,meteoriteCooldown:1e4,gameTipsInterval:15e3,comboMultiplierThreshold:3,comboMultiplier:1.5,zombieTypeWeights:{easy:{su_huai:10},medium:{su_huai:10},hard:{su_huai:10},expert:{su_huai:10}}},tt={shancatleader:{name:"",cost:350,cooldown:2500,health:15e3,damage:2e3,attackRange:2,attackSpeed:600,specialEffect:'1800%150100%51""12150%100%60%""48""8630%25%40%38AOE70%23%20%20%53',rarity:"",category:""},qingyuan:{name:"",cost:500,cooldown:3e3,health:1e5,damage:1e3,attackRange:99,attackSpeed:500,specialEffect:"0.880+3100%81030550%+30%+40%+50%+100%320%3000330%50%"},xuqinglan:{name:"",cost:400,cooldown:3e3,health:8e3,damage:1500,attackRange:6,attackSpeed:800,specialEffect:'213x325%20%150%30%""205+50%+30%820%""10%515""310%20%15%""',rarity:"",category:""},xuqinglan_student:{name:"",cost:450,cooldown:3500,health:6e3,damage:1800,attackRange:7,attackSpeed:700,specialEffect:'""40%""200%20%""3350%25%20%""12""415%1015',rarity:"",category:""},yijiu:{name:"",cost:150,cooldown:1500,health:500,damage:30,attackRange:3,attackSpeed:2e3,specialEffect:"30%3315%70%15%580%",rarity:"",category:""},mumu:{name:"",cost:650,cooldown:3500,health:15e4,damage:2500,attackRange:99,attackSpeed:600,specialEffect:'200%60%""50%31""12""15%8820%70%50%""400030""1.5%30%""5',rarity:"",category:""}},Rl={su_huai:{name:"",health:5e4,speed:.35,damage:3e3,reward:1e4,armor:5e3,specialAbility:"1.33;2.;3.203000;4.530%;5.20%",description:"BOSS"},ji_zai:{name:"",health:15e3,speed:.5,damage:1200,armor:2e3,reward:3e3,specialAbility:"1540%830%30%510%25%15%120%",description:""},li_huo:{name:"",health:12e3,speed:.6,damage:1e3,armor:1500,reward:2500,specialAbility:"2025%15%1015%3520%20%20%150%",description:""}},zt={1:{waves:3,zombieTypes:["su_huai"],difficulty:"easy"},2:{waves:5,zombieTypes:["su_huai"],difficulty:"medium"},3:{waves:7,zombieTypes:["su_huai"],difficulty:"hard"},4:{waves:10,zombieTypes:["su_huai"],difficulty:"hard"},5:{waves:12,zombieTypes:["su_huai"],difficulty:"hard"},6:{waves:15,zombieTypes:["su_huai"],difficulty:"expert"},7:{waves:18,zombieTypes:["su_huai"],difficulty:"expert"},8:{waves:20,zombieTypes:["su_huai"],difficulty:"expert"},9:{waves:999,zombieTypes:["su_huai"],difficulty:"expert",isEndless:!0},10:{waves:15,zombieTypes:["su_huai"],difficulty:"expert",isHighIntensityCustom:!0},xuqinglan_god:{name:"",cost:650,cooldown:2e3,health:2e5,damage:2500,attackRange:99,attackSpeed:400,specialEffect:"0.3150+8200%2810%2012100%50%+80%+90%+100%+250%860%20%100001080%100%5000303%",rarity:"",category:""}};class ki{constructor(n,t,s,o,c){ee(this,"id");ee(this,"x");ee(this,"y");ee(this,"width");ee(this,"height");ee(this,"health");ee(this,"maxHealth");this.id=Math.random().toString(36).substr(2,9),this.x=n,this.y=t,this.width=s,this.height=o,this.health=c,this.maxHealth=c}isColliding(n){return this.x<n.x+n.width&&this.x+this.width>n.x&&this.y<n.y+n.height&&this.y+this.height>n.y}takeDamage(n){return this.health-=n,this.health<=0}render(n){}update(n){}}class C5 extends ki{constructor(t,s,o){const{width:c,height:u}=H.cellSize,f=s*c,h=o*u;super(f,h,c,u,tt[t].health);ee(this,"type");ee(this,"cost");ee(this,"cooldown");ee(this,"lastAttackTime");ee(this,"lastSunProductionTime");ee(this,"gridX");ee(this,"gridY");ee(this,"lastMoveTime");this.type=t,this.cost=tt[t].cost,this.cooldown=tt[t].cooldown,this.lastAttackTime=0,this.lastSunProductionTime=0,this.gridX=s,this.gridY=o,this.lastMoveTime=Date.now()}canAttack(t){return tt[this.type].attackSpeed?t-this.lastAttackTime>=tt[this.type].attackSpeed:!1}canProduceSun(t){return this.type==="sunflower"?t-this.lastSunProductionTime>=8e3:this.type==="sunshroom"?t-this.lastSunProductionTime>=1e4:!1}attack(){if(this.type==="peashooter"||this.type==="snowpea"||this.type==="cattail"||this.type==="qingyuan"){const t=this.x+this.width/2,s=this.y+this.height/4,o=tt[this.type].damage||0,c=this.type==="snowpea";return new _s(t,s,o,c)}return null}explode(){return this.type==="cherrybomb"}render(t){t.save();const s=this.x+this.width/2,o=this.y+this.height/2;t.shadowColor="rgba(0, 0, 0, 0.3)",t.shadowBlur=10,t.shadowOffsetX=5,t.shadowOffsetY=5;const c={sunflower:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20girl%20sunflower%20magical%20girl%20yellow%20dress%20flower%20hat%20smiling%20cute%20big%20eyes%20chibi%20style&sign=a5ef4dc2f92c2d489618b68e7c3f699c",peashooter:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20girl%20peashooter%20green%20outfit%20peapod%20weapon%20smiling%20cute%20big%20eyes%20chibi%20style&sign=60927ea48d86beda8af15dd3912ac5c1",wallnut:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20girl%20nut%20defender%20brown%20outfit%20nut%20hat%20strong%20cute%20big%20eyes%20chibi%20style&sign=68ce72d463b91d52b23d9123c10e8c68",snowpea:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20girl%20ice%20magical%20girl%20blue%20dress%20snowflake%20weapon%20smiling%20cute%20big%20eyes%20chibi%20style&sign=3ccbae69a757ee008c31db76d6b4b95a",cherrybomb:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20girl%20cherry%20bomb%20pink%20dress%20explosive%20magic%20smiling%20cute%20big%20eyes%20chibi%20style&sign=4a2114b9bcf6be8d13df05c80d1f8b03",qingyuan:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/_20251016111846_103_92_20251016111910.jpg",chomper:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20girl%20big%20mouth%20green%20dress%20plant%20character%20smiling%20cute%20big%20eyes%20chibi%20style&sign=c5c4eed326f0abacb990a10dd8d4efc8",repeater:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20girl%20twin%20peashooters%20green%20dress%20twin%20weapons%20smiling%20cute%20big%20eyes%20chibi%20style&sign=2f8d0cd12c2ce4ecfc1208fd041e79e5",jalapeno:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20girl%20fire%20magical%20girl%20red%20dress%20flame%20weapon%20smiling%20cute%20big%20eyes%20chibi%20style&sign=f62cbd69bdd6a0f3cb3da7a7e5dc06b9",tallnut:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20girl%20tall%20nut%20defender%20brown%20outfit%20tall%20nut%20hat%20strong%20cute%20big%20eyes%20chibi%20style&sign=d854a3ac1cc7cb8827e41eb33f237fe4",cattail:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20girl%20purple%20wizard%20purple%20dress%20homing%20missile%20magic%20smiling%20cute%20big%20eyes%20chibi%20style&sign=f5d211a24b054f8c2293ae9415895e6c",cobcannon:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20girl%20artillery%20cannon%20yellow%20dress%20cannon%20weapon%20smiling%20cute%20big%20eyes%20chibi%20style&sign=76b64a2a9bcdad707ee9b44bcedd6118",wintermelon:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20girl%20ice%20melon%20blue%20dress%20aoe%20magic%20smiling%20cute%20big%20eyes%20chibi%20style&sign=f7defc18a8177fb09be001a777f8db1f",potatomine:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20girl%20potato%20mine%20brown%20outfit%20explosive%20magic%20cute%20big%20eyes%20chibi%20style&sign=e01f02a9c2a719d08a27b7a4e402e8ee",squash:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20girl%20squash%20orange%20dress%20heavy%20weight%20cute%20big%20eyes%20chibi%20style&sign=211b9f0e19790fdd93e2f62077f951bd",blover:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20girl%20clover%20green%20dress%20wind%20magic%20cute%20big%20eyes%20chibi%20style&sign=8a6aee0ec8470f76b65084f071735ef5",garlic:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20girl%20garlic%20white%20dress%20scent%20magic%20cute%20big%20eyes%20chibi%20style&sign=1b07197826255348262350f134c615eb",pumpkin:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20girl%20pumpkin%20orange%20dress%20protective%20magic%20cute%20big%20eyes%20chibi%20style&sign=ad601a7c09a7760936ae513ba06e2e71",magnetshroom:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20girl%20magnet%20purple%20dress%20magnetic%20magic%20cute%20big%20eyes%20chibi%20style&sign=a71da8630dab8c4497d6179725e4231c",sunshroom:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20girl%20sun%20mushroom%20yellow%20dress%20small%20cute%20big%20eyes%20chibi%20style&sign=67f17fb9bd446012284b6e86eecb9c97",fumeshroom:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20girl%20fume%20mushroom%20purple%20dress%20poison%20magic%20cute%20big%20eyes%20chibi%20style&sign=33fbfa1a2cd23569f24006799e2d32d6",doomshroom:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20girl%20doom%20mushroom%20black%20dress%20dark%20magic%20cute%20big%20eyes%20chibi%20style&sign=b838e6167afb0a5243def608804344e1",hypnoshroom:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20girl%20hypno%20mushroom%20purple%20dress%20mind%20control%20magic%20cute%20big%20eyes%20chibi%20style&sign=bb95e4233440ef8f7b589b7a405bcd04",lilypad:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20girl%20lily%20pad%20green%20dress%20water%20magic%20cute%20big%20eyes%20chibi%20style&sign=3579033884c104c99ee405a21a9e130d",plantern:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20girl%20lantern%20yellow%20dress%20light%20magic%20cute%20big%20eyes%20chibi%20style&sign=5599f762bff857457956f814cc5e9ea6",tanglekelp:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20girl%20tangle%20kelp%20blue%20dress%20seaweed%20magic%20cute%20big%20eyes%20chibi%20style&sign=fc8242786a81034205909b979ebcbee8",seaweed:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20girl%20seaweed%20blue%20dress%20ocean%20magic%20cute%20big%20eyes%20chibi%20style&sign=5e496bc4f74368846bd4800ba7621b9d",goldenflower:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20girl%20golden%20flower%20gold%20dress%20treasure%20magic%20cute%20big%20eyes%20chibi%20style&sign=ca3605135a40903fda7cf46a8cd7d6ea",spitfirepea:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20girl%20fire%20pea%20shooter%20red%20dress%20flame%20magic%20cute%20big%20eyes%20chibi%20style&sign=ed537720847c3c477a68c114201c818e",explodeonut:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20girl%20exploding%20nut%20brown%20dress%20explosive%20defense%20cute%20big%20eyes%20chibi%20style&sign=84e7630d2f1c1207d9939c22f348f6b8",electricpea:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20girl%20electric%20pea%20shooter%20blue%20dress%20electricity%20magic%20cute%20big%20eyes%20chibi%20style&sign=bc076d601c5d9e1b6abfa4acb9db3cf8",poisonivy:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20girl%20poison%20ivy%20green%20dress%20poison%20magic%20cute%20big%20eyes%20chibi%20style&sign=ac7c4d81852c214b6c160ae96c279c20",laserbean:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20girl%20laser%20bean%20cyan%20dress%20laser%20magic%20cute%20big%20eyes%20chibi%20style&sign=90e61b50922a5fbba0a098eb94a25cd1",goldmagnet:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20girl%20gold%20magnet%20yellow%20dress%20gold%20attraction%20magic%20cute%20big%20eyes%20chibi%20style&sign=3b16a8a0a356ff85c9b2d565af5b098b",shancatleader:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/_20251018115946.jpg"},u=new Image;if(u.src=c[this.type],(()=>{const h=new Image;h.src=c[this.type];const m={shancatleader:"#FFD700",sunflower:"#FFFACD",peashooter:"#98FB98",wallnut:"#D2691E",snowpea:"#87CEFA",cherrybomb:"#FFB6C1",chomper:"#228B22",repeater:"#98FB98",jalapeno:"#FFA07A",tallnut:"#D2691E",cattail:"#E6E6FA",cobcannon:"#FFF8DC",wintermelon:"#B0E0E6",potatomine:"#A0522D",squash:"#FFA500",blover:"#90EE90",garlic:"#FFFFF0",pumpkin:"#FF8C00",magnetshroom:"#9370DB",sunshroom:"#FFFFE0",fumeshroom:"#8A2BE2",doomshroom:"#4B0082",hypnoshroom:"#BA55D3",lilypad:"#7CFC00",plantern:"#FFD700",tanglekelp:"#0000CD",seaweed:"#006400",goldenflower:"#FFD700",spitfirepea:"#FF6347",explodeonut:"#A0522D",electricpea:"#00CED1",poisonivy:"#32CD32",laserbean:"#40E0D0",goldmagnet:"#DAA520",qingyuan:"#FF69B4"};if(t.fillStyle="rgba(0, 0, 0, 0.2)",t.beginPath(),t.ellipse(s,o+20,30,15,0,0,Math.PI*2),t.fill(),h.complete)try{t.save(),t.shadowColor="rgba(0, 0, 0, 0.3)",t.shadowBlur=10,t.shadowOffsetX=5,t.shadowOffsetY=5,t.drawImage(h,s-30,o-30,60,60),t.restore()}catch(p){console.error(`Failed to draw plant image for ${this.type}:`,p),t.fillStyle=m[this.type]||"#808080",t.beginPath(),t.ellipse(s,o,30,40,0,0,Math.PI*2),t.fill()}else t.fillStyle=m[this.type]||"#808080",t.beginPath(),t.ellipse(s,o,30,40,0,0,Math.PI*2),t.fill();switch(t.fillStyle="white",t.font="bold 12px Arial",t.textAlign="center",t.textBaseline="middle",t.fillText(tt[this.type].name,s,o),t.fillStyle="rgba(255, 255, 255, 0.3)",t.beginPath(),t.ellipse(s-10,o-10,15,10,0,0,Math.PI*2),t.fill(),this.type){case"sunflower":t.fillStyle="rgba(255, 215, 0, 0.4)";for(let v=0;v<8;v++){const k=v*Math.PI/4,S=s+Math.cos(k)*35,N=o+Math.sin(k)*35,C=s+Math.cos(k)*50,M=o+Math.sin(k)*50;t.beginPath(),t.moveTo(S,N),t.lineTo(C,M),t.lineWidth=3,t.strokeStyle="rgba(255, 215, 0, 0.6)",t.stroke()}break;case"snowpea":t.strokeStyle="rgba(135, 206, 255, 0.8)",t.lineWidth=2,t.beginPath(),t.arc(s,o,40,0,Math.PI*2),t.stroke();break;case"jalapeno":t.fillStyle="rgba(255, 69, 0, 0.3)",t.beginPath(),t.ellipse(s,o,45,50,0,0,Math.PI*2),t.fill();break;case"wintermelon":t.strokeStyle="rgba(135, 206, 255, 0.8)",t.lineWidth=2,t.beginPath(),t.arc(s,o,45,0,Math.PI*2),t.stroke();break;case"goldenflower":t.fillStyle="rgba(255, 215, 0, 0.3)",t.beginPath(),t.ellipse(s,o,40,40,0,0,Math.PI*2),t.fill();break;case"electricpea":t.strokeStyle="rgba(0, 206, 209, 0.8)",t.lineWidth=2,t.beginPath(),t.arc(s,o,40,0,Math.PI*2),t.stroke();break;case"poisonivy":t.strokeStyle="rgba(0, 255, 0, 0.6)",t.lineWidth=2,t.beginPath(),t.arc(s,o,40,0,Math.PI*2),t.stroke();break;case"laserbean":t.strokeStyle="rgba(64, 224, 208, 0.8)",t.lineWidth=2,t.beginPath(),t.moveTo(s+30,o),t.lineTo(s+60,o),t.stroke();break;case"qingyuan":const p=t.createRadialGradient(s,o,0,s,o,60);p.addColorStop(0,"rgba(255, 215, 0, 0.5)"),p.addColorStop(.5,"rgba(255, 105, 180, 0.3)"),p.addColorStop(1,"rgba(255, 215, 0, 0.1)"),t.fillStyle=p,t.beginPath(),t.ellipse(s,o,60,60,0,0,Math.PI*2),t.fill();const y=65+Math.sin(Date.now()/500)*5;t.strokeStyle="rgba(255, 105, 180, 0.6)",t.lineWidth=2,t.beginPath(),t.ellipse(s,o,y,y,0,0,Math.PI*2),t.stroke(),t.strokeStyle="rgba(255, 105, 180, 0.9)",t.lineWidth=3,t.setLineDash([]);const b=5;for(let v=0;v<b;v++){const k=v*Math.PI/(b-1)-Math.PI/2,S=40+Math.random()*20,N=s+Math.cos(k)*35,C=o+Math.sin(k)*35,M=s+Math.cos(k)*(35+S),_=o+Math.sin(k)*(35+S);t.beginPath(),t.moveTo(N,C),t.lineTo(M,_),t.stroke(),t.fillStyle="rgba(255, 215, 0, 0.9)",t.beginPath(),t.arc(M,_,3,0,Math.PI*2),t.fill()}t.fillStyle="rgba(255, 255, 255, 0.7)",t.beginPath(),t.arc(s,o,10,0,Math.PI*2),t.fill();break}})(),t.shadowColor="transparent",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0,this.health<this.maxHealth){const h=t.createLinearGradient(this.x,this.y-12,this.x,this.y-6);h.addColorStop(0,"rgba(0, 0, 0, 0.7)"),h.addColorStop(1,"rgba(0, 0, 0, 0.4)"),t.fillStyle=h,t.beginPath(),t.roundRect(this.x,this.y-12,this.width,8,4),t.fill();const m=this.health/this.maxHealth;let p;m>.7?p="#4CAF50":m>.3?p="#FFC107":p="#F44336";const y=t.createLinearGradient(this.x,this.y-12,this.x,this.y-6);y.addColorStop(0,p),y.addColorStop(1,`${p}AA`),t.fillStyle=y;const b=this.health/this.maxHealth*(this.width-4);if(t.beginPath(),t.roundRect(this.x+2,this.y-10,b,4,2),t.fill(),t.strokeStyle="rgba(255, 255, 255, 0.8)",t.lineWidth=1,t.beginPath(),t.roundRect(this.x,this.y-12,this.width,8,4),t.stroke(),m<.7){t.fillStyle="white",t.font="bold 9px Arial",t.textAlign="center",t.textBaseline="middle";const v=Math.round(m*100);t.fillText(`${v}%`,this.x+this.width/2,this.y-8)}}t.restore()}update(t){if(this.type==="shancatleader"){const s=Date.now();if(s-this.lastMoveTime>=3e3){const o=X.current;if(o){const c=o.zombies.some(h=>Math.floor(h.y/H.cellSize.height)===this.gridY&&h.x<this.x+this.width),u=o.plants.some(h=>h.gridX===this.gridX+1&&h.gridY===this.gridY);!c&&!u&&this.gridX+1<H.gridSize.cols&&(this.gridX+=1,this.x=this.gridX*H.cellSize.width,this.lastMoveTime=s)}}}}}class ri extends ki{constructor(t,s){var b;const{width:o,height:c}=H.cellSize,u=H.gridSize.cols*o,f=s*c,h=Rl[t]||{health:1e3,speed:1,damage:100,armor:0},m=h.health;let p=m;const y=X.current;y&&y.currentLevel&&((b=zt[y.currentLevel])!=null&&b.isHighIntensityCustom)&&(p=Math.floor(m*1.5));super(u,f,o,c,p);ee(this,"type");ee(this,"speed");ee(this,"damage");ee(this,"armor");ee(this,"isSlowed");ee(this,"slowDuration");ee(this,"slowTime");ee(this,"lastAttackTime");ee(this,"attackCooldown");ee(this,"isEating");ee(this,"animationOffset");ee(this,"hitEffect");ee(this,"lastSummonTime",0);ee(this,"summonCooldown",15e3);this.type=t,this.speed=h.speed,this.damage=h.damage,this.armor=h.armor||0,this.isSlowed=!1,this.slowDuration=0,this.slowTime=0,this.lastAttackTime=0,this.attackCooldown=1500,this.isEating=!1,this.animationOffset={x:0,y:0},this.hitEffect={active:!1,time:0},t==="su_huai"&&(this.lastSummonTime=0,this.summonCooldown=15e3)}canAttack(t){return t-this.lastAttackTime>=this.attackCooldown}canSummon(t){return this.type!=="su_huai"?!1:t-this.lastSummonTime>=this.summonCooldown}summonZombies(){const t=[],s=this.health<this.maxHealth*.5,o=s?3:1;for(let c=0;c<o;c++){let u;const f=Math.random();s?f<.4?u="cat_leader":f<.75?u="vexithra":f<.9?u="ji_zai":u="li_huo":f<.5?u="cat_leader":f<.8?u="vexithra":f<.9?u="ji_zai":u="li_huo",t.push(u)}return this.lastSummonTime=Date.now(),t}takeDamage(t,s=!1){let o=t;if(this.hitEffect.active=!0,this.hitEffect.time=Date.now(),this.armor>0){const c=Math.min(o,this.armor);this.armor-=c,o-=c}if(this.health-=o,this.type==="vexithra"){const c=X.current;if(c&&c.zombies.some(f=>f.type==="su_huai")){const f=Math.floor(o*.2);this.health+=f}}return s&&this.type!=="giant"&&(this.isSlowed=!0,this.slowDuration=3e3,this.slowTime=Date.now()),this.health<=0}update(t,s){this.isSlowed&&Date.now()-this.slowTime>this.slowDuration&&(this.isSlowed=!1);let o=this.speed*H.zombieSpeedMultiplier;this.isSlowed&&(o*=.5);let c=!1;for(const u of s)if(u.gridY===Math.floor(this.y/H.cellSize.height)&&u.x+u.width>=this.x){if(c=!0,this.isEating=!0,this.canAttack(Date.now())){if(this.x+=5,setTimeout(()=>{this.x&&(this.x-=5)},100),u.takeDamage(this.damage))continue;this.lastAttackTime=Date.now()}break}if(this.type==="su_huai"&&this.canSummon(Date.now())){const u=this.summonZombies();console.log(":",u),this.summonedZombies=u,this.lastSummonTime=Date.now()}if(c){const u=Math.sin(Date.now()/200)*2;this.animationOffset={x:0,y:u}}else{this.isEating=!1,this.x-=o*t*.1;const u=Math.sin(Date.now()/300)*3;this.animationOffset={x:0,y:u*(this.type==="giant"?1.5:1)}}}render(t){t.save(),t.translate(this.animationOffset.x,this.animationOffset.y);const s=this.x+this.width/2,o=this.y+this.height/2,c=Date.now();this.hitEffect.active&&c-this.hitEffect.time<200&&(t.globalAlpha=.7,t.fillStyle="white",t.fillRect(this.x,this.y,this.width,this.height)),t.shadowColor="rgba(0, 0, 0, 0.4)",t.shadowBlur=12,t.shadowOffsetX=6,t.shadowOffsetY=6;const u={su_huai:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/_20251017203937.jpg",normal:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20zombie%20girl%20brown%20dress%20long%20black%20hair%20big%20eyes%20stitched%20mouth%20cute%20chibi%20style&sign=db0af1699f179fd8804f68342b3f53d2",conehead:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20zombie%20girl%20cone%20hat%20brown%20dress%20big%20eyes%20stitched%20mouth%20cute%20chibi%20style&sign=ae8102749a1e061acf95b82c9ba135a7",buckethead:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20zombie%20girl%20bucket%20hat%20brown%20dress%20big%20eyes%20stitched%20mouth%20cute%20chibi%20style&sign=2afe17f251143ab72b3d0465d66b50db",flag:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20zombie%20girl%20flag%20leader%20red%20dress%20big%20eyes%20stitched%20mouth%20cute%20chibi%20style&sign=3d60eb09ac7590d106fd4d5b24cd2d1a",giant:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20giant%20zombie%20girl%20big%20size%20brown%20dress%20big%20eyes%20stitched%20mouth%20cute%20chibi%20style&sign=9e40db829449d7d51fb73b3400d1a0d8",balloon:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20zombie%20girl%20balloon%20flying%20brown%20dress%20big%20eyes%20stitched%20mouth%20cute%20chibi%20style&sign=e52a7907567e4a66ce13a9e677ca4c11",bungee:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20zombie%20girl%20bungee%20hat%20gray%20dress%20big%20eyes%20stitched%20mouth%20cute%20chibi%20style&sign=689a9dd43b75bcf36ff9b31a4c46600a",digger:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20zombie%20girl%20miner%20hat%20brown%20dress%20big%20eyes%20stitched%20mouth%20cute%20chibi%20style&sign=3a71b5644022a8e75da739413429413c",dolphinrider:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20zombie%20girl%20dolphin%20rider%20blue%20dress%20big%20eyes%20stitched%20mouth%20cute%20chibi%20style&sign=ff9cc0d7159c0c707e0d9af01a70242c",newspaper:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20zombie%20girl%20newspaper%20reader%20brown%20dress%20big%20eyes%20stitched%20mouth%20cute%20chibi%20style&sign=3401262367b5e08310fd8ec13bd8b0a1",screen:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20zombie%20girl%20metal%20shield%20brown%20dress%20big%20eyes%20stitched%20mouth%20cute%20chibi%20style&sign=b9ef3dad752527ceea82200251f6761d",polevaulter:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20zombie%20girl%20pole%20vaulter%20brown%20dress%20big%20eyes%20stitched%20mouth%20cute%20chibi%20style&sign=1a755691b0db205180de64806a15bea4",ladder:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20zombie%20girl%20ladder%20carrier%20brown%20dress%20big%20eyes%20stitched%20mouth%20cute%20chibi%20style&sign=e4b8dd4d106efe59402575332435e1f4",backupdancer:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20zombie%20girl%20dancer%20brown%20dress%20big%20eyes%20dancing%20cute%20chibi%20style&sign=47e079f83b3072a32f502ac8d19e65ad",imp:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20zombie%20girl%20small%20size%20brown%20dress%20big%20eyes%20cute%20chibi%20style&sign=2bfb418c969eb9b19610e7062954693c",impmustache:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20zombie%20girl%20small%20size%20mustache%20brown%20dress%20big%20eyes%20cute%20chibi%20style&sign=b8616bcf2f462253db77e6257b4229f7",jackinthebox:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20zombie%20girl%20jack%20in%20box%20brown%20dress%20big%20eyes%20present%20box%20cute%20chibi%20style&sign=ad169c188f09507e5bccb85c4ef5feef",pogo:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20zombie%20girl%20pogo%20stick%20brown%20dress%20big%20eyes%20jumping%20cute%20chibi%20style&sign=6a4a4457e9d8d2918874d817a05a343b",catapult:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20zombie%20girl%20catapult%20operator%20brown%20dress%20big%20eyes%20cute%20chibi%20style&sign=2f41e284217da106818b7dfaa58091ad",football:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20zombie%20girl%20football%20player%20brown%20uniform%20big%20eyes%20cute%20chibi%20style&sign=e9a370732f4b879265dc27bff81ad7a5",dancer:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20zombie%20girl%20dancer%20leader%20brown%20dress%20big%20eyes%20dancing%20cute%20chibi%20style&sign=5abd5452cb87995b05d81b29d63873da",surfer:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20zombie%20girl%20surfer%20blue%20dress%20surfboard%20big%20eyes%20cute%20chibi%20style&sign=e74175d9e4ef93450f78e3365b0d1bb3",zombiefish:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20zombie%20girl%20fish%20blue%20dress%20fish%20tail%20big%20eyes%20cute%20chibi%20style&sign=d207c67f4b5410d192c8346ab7e2e367",snorkel:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20zombie%20girl%20snorkel%20blue%20dress%20diving%20gear%20big%20eyes%20cute%20chibi%20style&sign=05720b3306bcfc2016f1b2391bc9ef50",gargantuar:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20zombie%20girl%20gargantuar%20giant%20size%20brown%20dress%20big%20eyes%20cute%20chibi%20style&sign=d5a235429cb72f1a88bd7710a904cca1",zombotany:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20zombie%20girl%20plant%20brown%20dress%20flower%20on%20head%20big%20eyes%20cute%20chibi%20style&sign=dbe5fcd5df65bb87ac7bb9d25439e128",octozombie:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20zombie%20girl%20octopus%20blue%20dress%20tentacles%20big%20eyes%20cute%20chibi%20style&sign=3ee0def538b19bc8859f5bbd3f711c07",glasses:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20zombie%20girl%20glasses%20brown%20dress%20nerd%20big%20eyes%20cute%20chibi%20style&sign=44c75f9a0b8c8ee4680e152cf6b83783",mermaid:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20zombie%20girl%20mermaid%20blue%20dress%20fish%20tail%20big%20eyes%20cute%20chibi%20style&sign=5ebeac624c49eeb8bdb0a32251c1b546",pirate:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20zombie%20girl%20pirate%20brown%20dress%20pirate%20hat%20big%20eyes%20cute%20chibi%20style&sign=1e7996cab59e3f947ef2141429f4b5ef",captain:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20zombie%20girl%20captain%20pirate%20brown%20coat%20captain%20hat%20big%20eyes%20cute%20chibi%20style&sign=5e0ea24af97cfc1424613664f1cb8722",vexithra:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/Vexithra_20251018182402.jpg"},f=new Image;if(f.src=u[this.type],(()=>{const m=new Image;m.src=u[this.type];const p={normal:"#8B4513",conehead:"#8B4513",buckethead:"#8B4513",flag:"#DC143C",giant:"#6B4226",balloon:"#8B4513",bungee:"#708090",digger:"#A0522D",dolphinrider:"#4682B4",newspaper:"#8B4513",screen:"#8B4513",polevaulter:"#8B4513",ladder:"#8B4513",backupdancer:"#8B4513",imp:"#8B4513",impmustache:"#8B4513",jackinthebox:"#8B4513",pogo:"#8B4513",catapult:"#8B4513",football:"#8B4513",dancer:"#8B4513",surfer:"#4682B4",zombiefish:"#4682B4",snorkel:"#4682B4",gargantuar:"#6B4226",zombotany:"#8B4513",octozombie:"#4682B4",glasses:"#8B4513",mermaid:"#4682B4",pirate:"#8B4513",captain:"#8B4513"};if(t.fillStyle="rgba(0, 0, 0, 0.3)",t.beginPath(),t.ellipse(s,o+20,35,18,0,0,Math.PI*2),t.fill(),m.complete)try{t.save(),t.shadowColor="rgba(0, 0, 0, 0.4)",t.shadowBlur=12,t.shadowOffsetX=6,t.shadowOffsetY=6;let y=60;this.type==="giant"||this.type==="gargantuar"?y=90:this.type==="imp"&&(y=40),t.drawImage(m,s-y/2,o-y/2,y,y),t.restore()}catch(y){console.error(`Failed to draw zombie image for ${this.type}:`,y),t.fillStyle=p[this.type]||"#8B4513",t.beginPath(),t.ellipse(s,o,35,45,0,0,Math.PI*2),t.fill()}else t.fillStyle=p[this.type]||"#8B4513",t.beginPath(),t.ellipse(s,o,35,45,0,0,Math.PI*2),t.fill();switch(this.type){case"normal":t.fillStyle="#000000",t.beginPath(),t.moveTo(s-40,o-20),t.quadraticCurveTo(s-50,o+20,s-25,o+35),t.moveTo(s+40,o-20),t.quadraticCurveTo(s+50,o+20,s+25,o+35),t.fill();break;case"conehead":t.fillStyle="#FF8C00",t.beginPath(),t.moveTo(s-30,o-50),t.lineTo(s+30,o-50),t.lineTo(s+20,o-15),t.lineTo(s-20,o-15),t.closePath(),t.fill();break;case"buckethead":t.fillStyle="#4682B4",t.beginPath(),t.arc(s,o-40,28,0,Math.PI),t.fill(),t.fillRect(s-28,o-40,56,30);break;case"flag":t.strokeStyle="#8B4513",t.lineWidth=4,t.beginPath(),t.moveTo(s+30,o-55),t.lineTo(s+30,o+20),t.stroke(),t.fillStyle="#DC143C",t.beginPath(),t.moveTo(s+30,o-55),t.lineTo(s+50,o-50),t.lineTo(s+30,o-45),t.closePath(),t.fill();break;case"balloon":t.fillStyle="#87CEEB",t.beginPath(),t.arc(s,o-60,18,0,Math.PI*2),t.fill(),t.strokeStyle="black",t.lineWidth=1.5,t.beginPath(),t.moveTo(s,o-42),t.lineTo(s,o-20),t.stroke();break;case"giant":case"gargantuar":t.strokeStyle="#8B4513",t.lineWidth=5,t.beginPath(),t.moveTo(s-45,o+25),t.lineTo(s+45,o+25),t.stroke();break;case"imp":case"impmustache":t.fillStyle="#FFD700",t.beginPath(),t.arc(s,o-25,10,0,Math.PI*2),t.fill();break;case"mermaid":t.fillStyle="#4682B4",t.beginPath(),t.moveTo(s-20,o+30),t.quadraticCurveTo(s,o+60,s+20,o+30),t.closePath(),t.fill();break;case"pirate":case"captain":t.fillStyle="black",t.beginPath(),t.moveTo(s-20,o-15),1499|t.lineTo(s-5,o-15),t.lineTo(s-5,o-5),t.lineTo(s-20,o-5),t.closePath(),t.fill();break}t.strokeStyle="rgba(139, 0, 0, 0.9)",t.lineWidth=2.5,t.beginPath(),t.moveTo(s-15,o+10),t.lineTo(s+15,o+10),t.stroke();for(let y=0;y<4;y++){const b=s-15+y*10;t.fillStyle="rgba(139, 0, 0, 0.9)",t.beginPath(),t.arc(b,o+8,1.5,0,Math.PI*2),t.fill(),t.beginPath(),t.arc(b,o+12,1.5,0,Math.PI*2),t.fill()}t.fillStyle="white",t.beginPath(),t.ellipse(s-15,o-10,12,10,0,0,Math.PI*2),t.fill(),t.beginPath(),t.ellipse(s+15,o-10,12,10,0,0,Math.PI*2),t.fill(),t.fillStyle="black",t.beginPath(),t.ellipse(s-15,o-15,6,6,0,0,Math.PI*2),t.ellipse(s+15,o-15,6,6,0,0,Math.PI*2),t.fill(),t.fillStyle="rgba(255, 255, 255, 0.7)",t.beginPath(),t.ellipse(s-12,o-17,2,2,0,0,Math.PI*2),t.ellipse(s+18,o-17,2,2,0,0,Math.PI*2),t.fill(),t.fillStyle="rgba(0, 100, 0, 0.4)",t.beginPath(),t.arc(s+20,o,5,0,Math.PI*2),t.arc(s-10,o+15,4,0,Math.PI*2),t.fill()})(),t.shadowColor="transparent",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0,this.armor>0){t.fillStyle="rgba(0, 0, 0, 0.5)",t.fillRect(this.x,this.y-14,this.width,6),t.fillStyle="#C0C0C0";const m=this.armor/(Rl[this.type].armor||0)*this.width;t.fillRect(this.x,this.y-14,m,6),t.strokeStyle="white",t.lineWidth=1,t.strokeRect(this.x,this.y-14,this.width,6)}if(this.isSlowed&&(t.strokeStyle="#87CEFA",t.lineWidth=3,t.setLineDash([5,5]),t.beginPath(),t.arc(s,o,50,0,Math.PI*2),t.stroke(),t.setLineDash([]),t.strokeStyle="#87CEFA",t.lineWidth=3,t.strokeRect(this.x-4,this.y-4,this.width+8,this.height+8)),this.health<this.maxHealth){const m=t.createLinearGradient(this.x,this.y-10,this.x,this.y-4);m.addColorStop(0,"rgba(0, 0, 0, 0.7)"),m.addColorStop(1,"rgba(0, 0, 0, 0.4)"),t.fillStyle=m,t.beginPath(),t.roundRect(this.x,this.y-10,this.width,8,4),t.fill();const p=this.health/this.maxHealth;let y;p>.7?y="#4CAF50":p>.3?y="#FFC107":y="#F44336";const b=t.createLinearGradient(this.x,this.y-10,this.x,this.y-4);b.addColorStop(0,y),b.addColorStop(1,`${y}AA`),t.fillStyle=b;const v=this.health/this.maxHealth*(this.width-4);if(t.beginPath(),t.roundRect(this.x+2,this.y-8,v,4,2),t.fill(),t.strokeStyle="rgba(255, 255, 255, 0.8)",t.lineWidth=1,t.beginPath(),t.roundRect(this.x,this.y-10,this.width,8,4),t.stroke(),p<.7){t.fillStyle="white",t.font="bold 9px Arial",t.textAlign="center",t.textBaseline="middle";const k=Math.round(p*100);t.fillText(`${k}%`,this.x+this.width/2,this.y-6)}}t.globalAlpha=1,t.restore()}}class _s extends ki{constructor(t,s,o,c=!1,u=!1,f=null){super(t-5,s-5,10,10,1);ee(this,"damage");ee(this,"speed");ee(this,"isFrozen");ee(this,"targetZombie");ee(this,"isHoming");this.damage=o,this.speed=u?15:10,this.isFrozen=c,this.isHoming=u,this.targetZombie=f}update(t){if(this.isHoming&&this.targetZombie){const s=this.targetZombie.x+this.targetZombie.width/2,o=this.targetZombie.y+this.targetZombie.height/2,c=s-(this.x+5),u=o-(this.y+5),f=Math.sqrt(c*c+u*u);f>0&&(this.x+=c/f*this.speed*t*.1,this.y+=u/f*this.speed*t*.1)}else this.x+=this.speed*t*.1}render(t){if(t.save(),this.isHoming)t.shadowColor="rgba(0, 0, 0, 0.3)",t.shadowBlur=4,t.shadowOffsetX=2,t.shadowOffsetY=2,t.fillStyle="#8A2BE2",t.beginPath(),t.moveTo(this.x+5,this.y),t.lineTo(this.x+10,this.y+5),t.lineTo(this.x+5,this.y+10),t.lineTo(this.x,this.y+5),t.closePath(),t.fill(),t.fillStyle="#9932CC",t.beginPath(),t.moveTo(this.x+5,this.y+1),t.lineTo(this.x+9,this.y+5),t.lineTo(this.x+5,this.y+9),t.lineTo(this.x+1,this.y+5),t.closePath(),t.fill(),t.fillStyle="rgba(255, 255, 255, 0.6)",t.beginPath(),t.arc(this.x+6,this.y+3,1,0,Math.PI*2),t.fill(),t.shadowColor="transparent",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0;else{t.shadowColor="rgba(0, 0, 0, 0.2)",t.shadowBlur=3,t.shadowOffsetX=1,t.shadowOffsetY=1;const s=this.isFrozen?"#87CEFA":"#7FFF00";t.fillStyle=s,t.beginPath(),t.arc(this.x+5,this.y+5,5,0,Math.PI*2),t.fill();const o=this.isFrozen?"#4682B4":"#228B22";t.fillStyle=o,t.beginPath(),t.arc(this.x+5,this.y+5,3,0,Math.PI*2),t.fill(),t.fillStyle="rgba(255, 255, 255, 0.7)",t.beginPath(),t.arc(this.x+3,this.y+3,2,0,Math.PI*2),t.fill(),t.fillStyle=`${s}66`,t.beginPath(),t.moveTo(this.x+5,this.y+5),t.lineTo(this.x-10,this.y+5),t.lineTo(this.x-5,this.y+8),t.lineTo(this.x+5,this.y+8),t.closePath(),t.fill(),t.shadowColor="transparent",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0}t.restore()}}class Xu extends ki{constructor(t,s,o=H.sunValue){super(t-15,s-15,30,30,1);ee(this,"value");ee(this,"speed");ee(this,"maxLifeTime");ee(this,"lifeTime");ee(this,"targetX");ee(this,"targetY");ee(this,"isAttracting");this.value=o,this.speed=.5,this.maxLifeTime=15e3,this.lifeTime=0,this.targetX=this.x,this.targetY=-50,this.isAttracting=!1}update(t){if(this.isAttracting){const s=this.targetX-(this.x+15),o=this.targetY-(this.y+15),c=Math.sqrt(s*s+o*o);if(c<5)this.lifeTime=this.maxLifeTime;else{const u=5*t*.1;this.x+=s/c*u,this.y+=o/c*u}}else this.y-=this.speed*t*.05;this.lifeTime>2e3&&!this.isAttracting&&(this.isAttracting=!0,this.targetX=100,this.targetY=50),this.lifeTime+=t}isExpired(){return this.lifeTime>=this.maxLifeTime}render(t){t.save(),this.isAttracting?(t.shadowColor="rgba(255, 215, 0, 0.9)",t.shadowBlur=15):(t.shadowColor="rgba(255, 215, 0, 0.5)",t.shadowBlur=8);const s=t.createRadialGradient(this.x+15,this.y+15,0,this.x+15,this.y+15,18);s.addColorStop(0,"rgba(255, 255, 255, 0.9)"),s.addColorStop(.4,this.isAttracting?"rgba(255, 255, 0, 1)":"rgba(255, 215, 0, 0.9)"),s.addColorStop(.8,this.isAttracting?"rgba(255, 215, 0, 0.8)":"rgba(255, 165, 0, 0.7)"),s.addColorStop(1,"rgba(255, 140, 0, 0.2)"),t.fillStyle=s,t.beginPath(),t.arc(this.x+15,this.y+15,15,0,Math.PI*2),t.fill(),t.fillStyle="rgba(255, 255, 255, 0.7)",t.beginPath(),t.arc(this.x+12,this.y+12,4,0,Math.PI*2),t.fill(),t.strokeStyle="rgba(255, 255, 255, 0.5)",t.lineWidth=1;for(let o=0;o<8;o++){const c=o*Math.PI/4,u=this.x+15+Math.cos(c)*18,f=this.y+15+Math.sin(c)*18,h=this.x+15+Math.cos(c)*15,m=this.y+15+Math.sin(c)*15;t.beginPath(),t.moveTo(h,m),t.lineTo(u,f),t.stroke()}t.shadowColor="transparent",t.shadowBlur=0,t.fillStyle="white",t.font="bold 12px Arial",t.textAlign="center",t.textBaseline="middle",t.shadowColor="rgba(0, 0, 0, 0.5)",t.shadowBlur=2,t.shadowOffsetX=1,t.shadowOffsetY=1,t.fillText(`${this.value}`,this.x+15,this.y+15),t.shadowColor="transparent",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0,t.restore()}}class z5 extends ki{constructor(t){const s=H.cellSize.width,o=H.gridSize.cols*s-s/2-10;super(o,-50,30,30,1);ee(this,"row");ee(this,"targetY");ee(this,"speed");ee(this,"isExploding");ee(this,"explodeRadius");ee(this,"explodeProgress");this.row=t,this.targetY=t*H.cellSize.height+H.cellSize.height/2,this.speed=20,this.isExploding=!1,this.explodeRadius=H.cellSize.width*1.5,this.explodeProgress=0}update(t){if(this.isExploding)this.explodeProgress+=t*.001;else{const s=this.targetY-this.y;Math.abs(s)<10?this.isExploding=!0:this.y+=s/Math.abs(s)*this.speed*t*.1}}isFinished(){return this.explodeProgress>=1}render(t){if(t.save(),this.isExploding){const s=1-this.explodeProgress,o=this.explodeRadius*this.explodeProgress;t.fillStyle=`rgba(255, 215, 0, ${s*.4})`,t.beginPath(),t.arc(this.x+15,this.targetY,o*1.5,0,Math.PI*2),t.fill(),t.fillStyle=`rgba(255, 165, 0, ${s*.6})`,t.beginPath(),t.arc(this.x+15,this.targetY,o*1.2,0,Math.PI*2),t.fill(),t.fillStyle=`rgba(255, 165, 0, ${s*.8})`,t.beginPath(),t.arc(this.x+15,this.targetY,o,0,Math.PI*2),t.fill(),t.fillStyle=`rgba(255, 69, 0, ${s})`,t.beginPath(),t.arc(this.x+15,this.targetY,o*.7,0,Math.PI*2),t.fill(),t.fillStyle=`rgba(255, 255, 0, ${s*.9})`,t.beginPath(),t.arc(this.x+15,this.targetY,o*.4,0,Math.PI*2),t.fill();for(let c=0;c<20;c++){const u=Math.random()*Math.PI*2,f=o*(.5+Math.random()*.5),h=this.x+15+Math.cos(u)*f,m=this.targetY+Math.sin(u)*f,p=2+Math.random()*4;t.save(),t.translate(h,m),t.rotate(this.explodeProgress*Math.PI*2);const y=0,b=90+Math.random()*10,v=40+Math.random()*20;t.fillStyle=`hsla(${y}, ${b}%, ${v}%, ${s*.7})`,t.beginPath(),t.arc(0,0,p,0,Math.PI*2),t.fill(),t.fillStyle=`hsla(${y}, ${b}%, ${v+20}%, ${s*.9})`,t.beginPath(),t.arc(-p*.3,-p*.3,p*.3,0,Math.PI*2),t.fill(),t.restore()}for(let c=0;c<3;c++){const u=o*(1.1+c*.2),f=s*(.3-c*.1);t.strokeStyle=`rgba(255, 215, 0, ${f})`,t.lineWidth=3-c,t.beginPath(),t.arc(this.x+15,this.targetY,u,0,Math.PI*2),t.stroke()}}else{t.shadowColor="rgba(0, 0, 0, 0.6)",t.shadowBlur=12,t.shadowOffsetX=5,t.shadowOffsetY=5,t.fillStyle="#696969",t.beginPath(),t.moveTo(this.x+15,this.y),t.bezierCurveTo(this.x+30,this.y+5,this.x+25,this.y+30,this.x+15,this.y+28),t.bezierCurveTo(this.x+5,this.y+30,this.x,this.y+5,this.x+15,this.y),t.closePath(),t.fill(),t.strokeStyle="#808080",t.lineWidth=1.5;for(let s=0;s<6;s++){const o=Math.random()*Math.PI*2,c=this.x+15+Math.cos(o)*8,u=this.y+15+Math.sin(o)*8,f=this.x+15+Math.cos(o+Math.PI)*8,h=this.y+15+Math.sin(o+Math.PI)*8;t.beginPath(),t.moveTo(c,u),t.lineTo(f,h),t.stroke()}t.fillStyle="#505050";for(let s=0;s<4;s++){const o=this.x+5+Math.random()*20,c=this.y+5+Math.random()*20,u=2+Math.random()*3;t.beginPath(),t.arc(o,c,u,0,Math.PI*2),t.fill(),t.fillStyle="#404040",t.beginPath(),t.arc(o+.5,c+.5,u*.7,0,Math.PI*2),t.fill()}t.fillStyle="#A0A0A0",t.beginPath(),t.ellipse(this.x+20,this.y+10,5,3,0,0,Math.PI*2),t.fill(),t.fillStyle="#C0C0C0",t.beginPath(),t.ellipse(this.x+22,this.y+8,3,2,0,0,Math.PI*2),t.fill(),t.shadowColor="transparent",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0;for(let s=0;s<20;s++){const o=this.x+15-Math.random()*25,c=this.y+30+Math.random()*40,u=1+Math.random()*4,f=0+Math.random()*30,h=90+Math.random()*10,m=40+Math.random()*20,p=.8-Math.random()*.4;t.fillStyle=`hsla(${f}, ${h}%, ${m}%, ${p})`,t.beginPath(),t.arc(o,c,u,0,Math.PI*2),t.fill()}t.fillStyle="rgba(255, 255, 0, 0.5)",t.beginPath(),t.moveTo(this.x+12,this.y+30),t.lineTo(this.x+15,this.y+60),t.lineTo(this.x+18,this.y+30),t.closePath(),t.fill(),t.fillStyle="rgba(255, 165, 0, 0.7)",t.beginPath(),t.moveTo(this.x+10,this.y+30),t.lineTo(this.x+15,this.y+55),t.lineTo(this.x+20,this.y+30),t.closePath(),t.fill(),t.fillStyle="rgba(255, 69, 0, 0.8)",t.beginPath(),t.moveTo(this.x+8,this.y+30),t.lineTo(this.x+15,this.y+50),t.lineTo(this.x+22,this.y+30),t.closePath(),t.fill();for(let s=0;s<8;s++){const o=this.x+15-Math.random()*30,c=this.y+30+Math.random()*30,u=4+Math.random()*5;t.fillStyle=`rgba(128, 128, 128, ${.3-Math.random()*.2})`,t.beginPath(),t.arc(o,c,u,0,Math.PI*2),t.fill(),t.fillStyle=`rgba(169, 169, 169, ${.15-Math.random()*.1})`,t.beginPath(),t.arc(o,c,u*.6,0,Math.PI*2),t.fill()}t.strokeStyle="rgba(255, 69, 0, 0.3)",t.lineWidth=8,t.lineCap="round",t.beginPath(),t.moveTo(this.x+15,this.y-50),t.lineTo(this.x+15,this.y),t.stroke(),t.strokeStyle="rgba(255, 165, 0, 0.2)",t.lineWidth=5,t.beginPath(),t.moveTo(this.x+15,this.y-60),t.lineTo(this.x+15,this.y-10),t.stroke()}t.restore()}}class T5{constructor(n){ee(this,"canvas");ee(this,"ctx");ee(this,"plants",[]);ee(this,"zombies",[]);ee(this,"bullets",[]);ee(this,"suns",[]);ee(this,"meteorites",[]);ee(this,"summonRequests",[]);ee(this,"autoAttackers",[]);ee(this,"sun",H.initialSun);ee(this,"selectedPlants",[]);ee(this,"selectedZombies",[]);ee(this,"selectedPlantType",null);ee(this,"lastSunProductionTime",0);ee(this,"lastWaveTime",0);ee(this,"currentWave",0);ee(this,"totalWaves",3);ee(this,"gameStatus","ready");ee(this,"gameSpeed",H.gameSpeed);ee(this,"lastTime",0);ee(this,"plantCooldowns",{qingyuan:0});ee(this,"currentLevel",1);ee(this,"highestLevel",1);ee(this,"meteoriteTriggeredRows",{});ee(this,"achievements",{light_awakening:!1,sun_avatar:!1,shadow_hunter:!1,unbreakable_light:!1,light_army_commander:!1,light_defender:!1,light_retribution:!1,life_force:!1,shadow_reaper:!1,light_combo:!1,light_barrier:!1,shadow_resister:!1,water_defender:!1,light_victory:!1,light_descend:!1,shancat_redemption:!1,su_huai_fall:!1});ee(this,"lastTipTime",0);ee(this,"currentCombo",0);ee(this,"lastZombieKillTime",0);ee(this,"totalZombiesKilled",0);ee(this,"totalSunsCollected",0);ee(this,"totalDefensePlantsUsed",0);ee(this,"plantsUsed",new Set);ee(this,"gameTips",["","","","","","","","","",""]);ee(this,"timeOfDay","day");ee(this,"currentWeather","sunny");ee(this,"lastWeatherChangeTime",0);ee(this,"currentEvent",null);ee(this,"lastEventTime",0);ee(this,"plantUpgrades",new Map);ee(this,"isNightLevel",!1);ee(this,"isPoolLevel",!1);ee(this,"isRoofLevel",!1);ee(this,"isFogLevel",!1);ee(this,"GAME_CONFIG",{dayNightCycleDuration:6e4,weatherChangeChance:.3,specialEventChance:.15});ee(this,"sunProductionRateModifier",1);ee(this,"zombieSpawnCooldown",0);this.canvas=n,this.ctx=n.getContext("2d"),this.loadGameData(),this.resizeCanvas(),window.addEventListener("resize",()=>this.resizeCanvas())}loadGameData(){const n=localStorage.getItem("pvzHighestLevel");n?this.highestLevel=parseInt(n):(this.highestLevel=6,localStorage.setItem("pvzHighestLevel","6"));const t=localStorage.getItem("pvzAchievements");t&&(this.achievements={...this.achievements,...JSON.parse(t)})}saveGameData(){this.currentLevel>this.highestLevel&&(this.highestLevel=this.currentLevel,localStorage.setItem("pvzHighestLevel",this.highestLevel.toString())),localStorage.setItem("pvzAchievements",JSON.stringify(this.achievements))}checkAchievements(){this.gameStatus==="victory"&&!this.achievements.light_awakening&&(this.achievements.light_awakening=!0,this.showAchievementToast("","")),this.totalSunsCollected>=1e3&&!this.achievements.sun_avatar&&(this.achievements.sun_avatar=!0,this.showAchievementToast("","1000")),this.totalZombiesKilled>=100&&!this.achievements.shadow_hunter&&(this.achievements.shadow_hunter=!0,this.showAchievementToast("","100")),this.gameStatus==="victory"&&this.plants.length>0&&!this.achievements.unbreakable_light&&(this.achievements.unbreakable_light=!0,this.showAchievementToast("","")),this.plantsUsed.size===Object.keys(tt).length&&!this.achievements.light_army_commander&&(this.achievements.light_army_commander=!0,this.showAchievementToast("","")),this.gameStatus==="victory"&&this.currentLevel>=4&&!this.achievements.light_defender&&(this.achievements.light_defender=!0,this.showAchievementToast("","")),this.totalZombiesKilled>=1&&!this.achievements.light_retribution&&(this.achievements.light_retribution=!0,this.showAchievementToast("","")),this.totalSunsCollected>=100&&!this.achievements.life_force&&(this.achievements.life_force=!0,this.showAchievementToast("","100")),this.totalZombiesKilled>=50&&!this.achievements.shadow_reaper&&(this.achievements.shadow_reaper=!0,this.showAchievementToast("","50")),this.currentCombo>=10&&!this.achievements.light_combo&&(this.achievements.light_combo=!0,this.showAchievementToast("","10")),this.totalDefensePlantsUsed>=10&&!this.achievements.light_barrier&&(this.achievements.light_barrier=!0,this.showAchievementToast("","")),this.gameStatus==="victory"&&this.currentLevel>=3&&!this.achievements.shadow_resister&&(this.achievements.shadow_resister=!0,this.showAchievementToast("","")),this.gameStatus==="victory"&&this.currentLevel>=5&&!this.achievements.water_defender&&(this.achievements.water_defender=!0,this.showAchievementToast("","")),this.gameStatus==="victory"&&this.currentLevel>=8&&!this.achievements.light_victory&&(this.achievements.light_victory=!0,this.showAchievementToast("","")),this.gameStatus==="victory"&&this.plants.some(n=>n.type==="qingyuan")&&!this.achievements.light_descend&&(this.achievements.light_descend=!0,this.showAchievementToast("","")),this.gameStatus==="victory"&&this.plants.some(n=>n.type==="shancatleader")&&!this.achievements.shancat_redemption&&(this.achievements.shancat_redemption=!0,this.showAchievementToast("","")),this.totalZombiesKilled>=10&&!this.achievements.su_huai_fall&&(this.achievements.su_huai_fall=!0,this.showAchievementToast("","")),this.saveGameData()}showAchievementToast(n,t){console.log(` : ${n} - ${t}`);const s=document.createElement("div");s.className="fixed top-4 right-4 bg-gradient-to-r from-yellow-600 to-yellow-400 text-black px-6 py-4 rounded-lg shadow-2xl z-50 transform transition-all duration-700 ease-out translate-x-full",s.innerHTML=`
      <div class="flex items-center">
        <div class="text-2xl mr-3 animate-bounce"></div>
        <div>
          <div class="font-bold text-lg">: ${n}</div>
          <div class="text-sm opacity-90">${t}</div>
        </div>
      </div>
    `,document.body.appendChild(s);const o=document.createElement("style");o.textContent=`
      @keyframes float {
        0% { transform: translateY(0px); }
        50% { transform: translateY(-10px); }
        100% { transform: translateY(0px); }
      }
      @keyframes glow {
        0% { box-shadow: 0 0 10px rgba(255, 193, 7, 0.5); }
        50% { box-shadow: 0 0 20px rgba(255, 193, 7, 0.8); }
        100% { box-shadow: 0 0 10px rgba(255, 193, 7, 0.5); }
      }
      .animate-glow {
        animation: glow 2s infinite ease-in-out;
      }
    `,document.head.appendChild(o),setTimeout(()=>{s.classList.remove("translate-x-full"),s.classList.add("animate-glow")},100),setTimeout(()=>{s.style.animation="float 2s infinite ease-in-out"},600),setTimeout(()=>{s.classList.add("translate-x-full"),s.style.animation="none",s.classList.remove("animate-glow"),setTimeout(()=>{document.body.removeChild(s),document.head.removeChild(o)},500)},6e3)}showGameTip(){const n=Date.now();if(n-this.lastTipTime>=H.gameTipsInterval&&this.gameStatus==="playing"){const t=this.gameTips[Math.floor(Math.random()*this.gameTips.length)];this.lastTipTime=n;const s=document.createElement("div");s.className="fixed bottom-4 left-0 right-0 max-w-md mx-auto bg-blue-900 bg-opacity-90 text-white px-4 py-3 rounded-lg shadow-lg z-40 transform transition-all duration-500 translate-y-full",s.innerHTML=`
        <div class="flex items-start">
          <div class="text-lg mr-2 mt-1"></div>
          <div class="text-sm">${t}</div>
        </div>
      `,document.body.appendChild(s),setTimeout(()=>{s.classList.remove("translate-y-full")},100),setTimeout(()=>{s.classList.add("translate-y-full"),setTimeout(()=>{document.body.removeChild(s)},500)},8e3)}}checkCombo(){try{Date.now()-this.lastZombieKillTime>2e3&&(this.currentCombo=0)}catch(n){console.error(":",n)}}resizeCanvas(){const n=this.canvas.parentElement;if(!n)return;const t=n.clientWidth,s=n.clientHeight,o=H.gridSize.cols*H.cellSize.width,c=H.gridSize.rows*H.cellSize.height;let u=1;(t<o||s<c)&&(u=Math.min(t/o,s/c)),this.canvas.width=o*u,this.canvas.height=c*u,this.ctx.scale(u,u)}startGame(n=1){this.currentLevel=n,this.totalWaves=zt[n].waves,this.currentWave=0;const t=zt[n];let s=H.initialSun;const o=t.isHighIntensityCustom||!1;n>=4&&n<=4?(s=Math.floor(H.initialSun*.8),this.sunProductionRateModifier=1.2):n>=5&&n<=5?s=Math.floor(H.initialSun*1.1):n>=7&&n<=7?s=Math.floor(H.initialSun*.9):n>=8&&n<=8?s=Math.floor(H.initialSun*1.2):n===9?s=Math.floor(H.initialSun*1.5):o&&(s=Math.floor(H.initialSun*1.3)),this.sun=s,this.plants=[],this.zombies=[],this.bullets=[],this.suns=[],this.meteorites=[],this.selectedPlantType=null,this.lastSunProductionTime=Date.now(),this.lastWaveTime=Date.now()+5e3,this.lastTipTime=Date.now(),this.lastZombieKillTime=Date.now(),this.gameStatus="playing",this.lastTime=Date.now(),this.currentCombo=0,this.meteoriteTriggeredRows={};for(let c=0;c<H.gridSize.rows;c++)this.meteoriteTriggeredRows[c]=!1;this.isNightLevel=n===4,this.isPoolLevel=n===5,this.isRoofLevel=n===6,this.isFogLevel=n===7,setTimeout(()=>{if(this.gameStatus==="playing"){const c=Math.floor(s*.4);this.sun=Math.min(this.sun+c,H.maxSun),this.createVisualFeedback("sun_bonus",this.canvas.width/2,this.canvas.height/2,c,""),setTimeout(()=>{this.gameStatus==="playing"&&(this.generateSun(),this.generateSun(),this.generateSun())},1e3);let u=0;const f=8,h=setInterval(()=>{u<f&&this.gameStatus==="playing"?(this.generateSun(),u++):clearInterval(h)},2e3)}},3e3),Object.keys(this.plantCooldowns).forEach(c=>{this.plantCooldowns[c]=0}),this.addAutoAttacker("ultraman_zero"),this.gameLoop(),this.currentLevel===9&&zt[this.currentLevel].isEndless&&this.startEndlessMode()}addAutoAttacker(n){const t=new P5(n);this.autoAttackers.push(t)}pauseGame(){this.gameStatus==="playing"?this.gameStatus="paused":this.gameStatus==="paused"&&(this.gameStatus="playing",this.lastTime=Date.now(),this.gameLoop())}gameOver(){this.gameStatus="gameover",this.saveGameData()}saveGameProgress(){this.saveGameData(),console.log("")}gameVictory(){this.gameStatus="victory",this.saveGameData()}selectPlant(n){this.sun>=tt[n].cost&&this.plantCooldowns[n]<=0&&(this.selectedPlantType=n)}plantAtGrid(n,t){if(!this.selectedPlantType||this.gameStatus!=="playing")return;const s=this.selectedPlantType;if(this.selectedPlants.length>0&&!this.selectedPlants.includes(s)||this.sun<tt[s].cost)return;for(const u of this.plants)if(u.gridX===n&&u.gridY===t)return;const o=new C5(s,n,t);this.plants.push(o),this.sun-=tt[s].cost,this.plantCooldowns[s]=tt[s].cooldown*H.plantCooldownMultiplier,this.selectedPlantType=null,this.playSound("plant"),this.plantsUsed.add(s),["wallnut","tallnut"].includes(s)&&this.totalDefensePlantsUsed++,this.createVisualFeedback("plant_success",o.x,o.y)}collectSun(n){this.sun=Math.min(this.sun+n.value,H.maxSun);const t=this.suns.indexOf(n);t!==-1&&this.suns.splice(t,1),this.playSound("collect"),this.totalSunsCollected+=n.value,this.createVisualFeedback("sun_collect",n.x,n.y,n.value)}generateWave(){var u;if(!((u=zt[this.currentLevel])!=null&&u.isEndless)&&this.currentWave>=this.totalWaves)return;this.currentWave++;const n=zt[this.currentLevel],t=n.isHighIntensityCustom||!1;let s=this.calculateBaseZombieCount();const o=typeof H.maxZombiesPerWave=="object"?H.maxZombiesPerWave[n.difficulty]*(t?1.6:1):H.maxZombiesPerWave*(t?1.6:1);let c=Math.min(s,o);if(t&&this.selectedZombies.length>0){const f={...n,zombieTypes:this.selectedZombies};this.generateZombiesWithStrategy(c,f)}else this.generateZombiesWithStrategy(c,n);this.lastWaveTime=Date.now(),this.createVisualFeedback("wave_start",this.canvas.width/2,50,0,` ${this.currentWave} `)}calculateBaseZombieCount(){var f;const n=zt[this.currentLevel],t=n.isHighIntensityCustom||!1,s=((f=zt[this.currentLevel])==null?void 0:f.isEndless)||!1,o=typeof H.maxZombiesPerWave=="object"?H.maxZombiesPerWave[n.difficulty]:H.maxZombiesPerWave;let c=4+Math.floor((this.currentWave-1)*1.5)+Math.floor(Math.random()*3);switch(n.difficulty){case"easy":c=Math.max(3,Math.min(c,o));break;case"medium":c=Math.max(5,Math.min(c,o));break;case"hard":c=Math.max(7,Math.min(c,o));break;case"expert":c=Math.max(9,Math.min(c,o));break}if(t){c=Math.floor(c*1.4);const h=typeof H.maxZombiesPerWave=="object"?H.maxZombiesPerWave[n.difficulty]*1.6:H.maxZombiesPerWave*1.6;c=Math.min(c,Math.floor(h))}if(s){const h=1+(this.currentWave-1)*.015;c=Math.floor(c*Math.pow(1.08,h));const m=1+Math.floor((this.currentWave-1)/5)*.08;c=Math.floor(c*m);const p=typeof H.maxZombiesPerWave=="object"?H.maxZombiesPerWave[n.difficulty]*2.5:H.maxZombiesPerWave*2.5;c=Math.min(c,Math.floor(p))}this.sun>1e3?c=Math.floor(c*1.2):this.sun>500?c=Math.floor(c*1.05):this.sun<200&&(c=Math.floor(c*.9));const u=this.plants.filter(h=>h.damage).length;return u>15?c=Math.floor(c*1.2):u>8?c=Math.floor(c*1.1):u<3&&(c=Math.floor(c*.85)),Math.max(3,Math.min(c,typeof H.maxZombiesPerWave=="object"?H.maxZombiesPerWave[n.difficulty]*(t?1.6:1)*(s?2.5:1):H.maxZombiesPerWave*(t?1.6:1)*(s?2.5:1)))}generateZombiesWithStrategy(n,t){const s=this.analyzeGameState(),o=this.createZombieGenerationPlan(n,t,s);this.executeZombieGenerationPlan(o,t)}analyzeGameState(){const n={};this.plants.forEach(c=>{n[c.type]=(n[c.type]||0)+1});const t=new Array(H.gridSize.rows).fill(0);this.plants.forEach(c=>{["wallnut","tallnut","pumpkin"].includes(c.type)&&(t[c.gridY]+=3),c.damage&&(t[c.gridY]+=2),["magnetshroom","coffeebean"].includes(c.type)&&(t[c.gridY]+=1)});const s=t.indexOf(Math.min(...t)),o=this.plants.some(c=>c.type==="qingyuan");return{plantTypeCounts:n,laneStrengths:t,weakestLane:s,hasQingYuan:o,totalPlants:this.plants.length,attackPlantCount:this.plants.filter(c=>c.damage).length,defensePlantCount:this.plants.filter(c=>["wallnut","tallnut","pumpkin"].includes(c.type)).length,sunProductionRate:this.calculateSunProductionRate()}}calculateSunProductionRate(){const n=this.plants.filter(o=>o.type==="sunflower").length,t=this.plants.filter(o=>o.type==="sunshroom").length,s=this.plants.filter(o=>o.type==="qingyuan").length;return 1+n*.5+t*.3+s*2}createZombieGenerationPlan(n,t,s){const o=t.difficulty,c=H.zombieTypeWeights[o]||H.zombieTypeWeights.easy,u=this.createDynamicWeights(c,s),f=.7,h=.2,m=this.currentWave===1,p=!t.isEndless&&this.currentWave===t.waves;let y=f,b=h;m?(y=1,b=0):p&&(y=.5,b=.2);const v=Math.floor(n*y),k=Math.floor(n*b),S=n-v-k,N=this.selectZombieTypesByWeight(v,u.main,t.zombieTypes),C=this.selectZombieTypesByWeight(k,u.support,t.zombieTypes),M=this.selectZombieTypesByWeight(S,u.elite,t.zombieTypes),_=this.generateSpecialTimingZombies(s,t.zombieTypes);return{mainTypes:N,supportTypes:C,eliteTypes:M,specialTiming:_}}createDynamicWeights(n,t){const s={...n},o={imp:3,backupdancer:2,newspaper:2,glasses:2},c={giant:2,buckethead:3,screen:3,gargantuar:1,football:2,captain:2,cowbot:2};return t.defensePlantCount>5&&(s.buckethead&&(s.buckethead*=1.5),s.screen&&(s.screen*=1.5),c.football&&(c.football*=1.5)),t.attackPlantCount>8&&(s.buckethead&&(s.buckethead*=1.3),c.giant&&(c.giant*=1.3),c.gargantuar&&(c.gargantuar*=1.3)),t.sunProductionRate>5&&(s.digger&&(s.digger*=1.4),s.pogo&&(s.pogo*=1.4)),t.hasQingYuan&&(Object.keys(s).forEach(u=>{s[u]*=1.2}),c.giant&&(c.giant*=1.5),c.gargantuar&&(c.gargantuar*=1.5)),this.isPoolLevel&&["dolphinrider","snorkel","mermaid","zombiefish"].forEach(f=>{s[f]&&(s[f]*=1.5)}),this.isNightLevel&&["digger","pogo"].forEach(f=>{s[f]&&(s[f]*=1.3)}),{main:s,support:o,elite:c}}selectZombieTypesByWeight(n,t,s){if(n<=0)return[];const o=[];for(const[u,f]of Object.entries(t))if(s.includes(u))for(let h=0;h<f;h++)o.push(u);if(o.length===0)return[];const c={};for(let u=0;u<n;u++){const f=Math.floor(Math.random()*o.length),h=o[f];c[h]=(c[h]||0)+1}return Object.entries(c).map(([u,f])=>({type:u,count:f}))}generateSpecialTimingZombies(n,t,s=!1){var u,f;const o=[];if(n.laneStrengths[n.weakestLane]<5){let h="normal";n.attackPlantCount>5&&n.defensePlantCount<3?t.includes("buckethead")?h="buckethead":t.includes("conehead")&&(h="conehead"):n.attackPlantCount<3&&n.defensePlantCount<3&&(t.includes("digger")?h="digger":t.includes("pogo")&&(h="pogo"));const m=Math.floor(Math.random()*2e4)+5e3;o.push({type:h,timing:m,lane:n.weakestLane}),n.laneStrengths[n.weakestLane]<2&&o.push({type:h,timing:m+2e3,lane:n.weakestLane})}if(n.hasQingYuan){const h=t.filter(m=>["giant","gargantuar","football","captain"].includes(m));if(h.length>0){const m=h[Math.floor(Math.random()*h.length)],p=Math.floor(Math.random()*15e3)+15e3;let y;do y=Math.floor(Math.random()*H.gridSize.rows);while(y===n.weakestLane);o.push({type:m,timing:p,lane:y})}}if(n.hasShanCatLeader&&t.includes("cat_leader")){const h=Math.floor(Math.random()*1e4)+1e4,m=((u=this.plants.find(p=>p.type==="shancatleader"))==null?void 0:u.gridY)||n.weakestLane;o.push({type:"cat_leader",timing:h,lane:m})}if(s&&(this.isPoolLevel&&t.includes("dolphinrider")?o.push({type:"dolphinrider",timing:1e4,lane:Math.floor(Math.random()*H.gridSize.rows)}):this.isNightLevel&&t.includes("newspaper")&&o.push({type:"newspaper",timing:15e3,lane:Math.floor(Math.random()*H.gridSize.rows)}),(f=zt[this.currentLevel])!=null&&f.isHighIntensityCustom&&o.length>0)){const h=o[Math.floor(Math.random()*o.length)];o.push({...h,timing:h.timing+3e3})}n.favorRightSide&&t.includes("digger")&&o.push({type:"digger",timing:5e3,lane:Math.floor(Math.random()*H.gridSize.rows)});const c=Math.min(3,Math.max(1,Math.floor(10/10)));return o.slice(0,c)}executeZombieGenerationPlan(n,t){this.currentWaveConfiguration={zombieTypesUsed:[...n.mainTypes,...n.supportTypes,...n.eliteTypes].map(m=>m.type),zombiesDeployed:n.mainTypes.reduce((m,p)=>m+p.count,0)+n.supportTypes.reduce((m,p)=>m+p.count,0)+n.eliteTypes.reduce((m,p)=>m+p.count,0)+n.specialTiming.length,timestamp:Date.now(),gameStateSnapshot:{}};let s=0;for(const{type:m,count:p}of n.mainTypes)for(let y=0;y<p;y++)this.scheduleZombieSpawn(m,s,t),s+=400+Math.random()*300;const o=s/(n.supportTypes.length+1);let c=o;for(const{type:m,count:p}of n.supportTypes)for(let y=0;y<p;y++)this.scheduleZombieSpawn(m,c,t),c+=o;const u=s*.6,f=s*.4/(n.eliteTypes.reduce((m,p)=>m+p.count,0)+1);let h=u;for(const{type:m,count:p}of n.eliteTypes)for(let y=0;y<p;y++)this.scheduleZombieSpawn(m,h,t,!0),h+=f;for(const{type:m,timing:p,lane:y}of n.specialTiming)this.scheduleZombieSpawnAtSpecificTime(m,p,y,t,!0)}recordWaveConfiguration(n,t){const s={waveNumber:this.currentWave,timestamp:Date.now(),zombieTypes:[...n.mainTypes,...n.supportTypes,...n.eliteTypes].map(o=>({type:o.type,count:o.count})),specialTiming:n.specialTiming,gameState:{plantTypeCounts:t.plantTypeCounts,laneStrengths:t.laneStrengths,totalPlants:t.totalPlants,sunProductionRate:t.sunProductionRate,hasQingYuan:t.hasQingYuan,hasShanCatLeader:t.hasShanCatLeader},plantsDestroyed:0,zombiesDestroyed:0,zombiesReachedEnd:0};this.waveConfigurations.push(s),this.waveConfigurations.length>10&&this.waveConfigurations.shift()}scheduleZombieSpawn(n,t,s,o=!1){setTimeout(()=>{if(this.gameStatus==="playing"){let c=this.chooseOptimalLaneForZombie(n);const u=new ri(n,c);o&&(u.health=Math.floor(u.health*1.5),u.speed=Math.min(u.speed*1.2,2.5));const f=1+(this.currentWave-1)*.05;u.health=Math.floor(u.health*f),this.zombies.push(u),(this.currentLevel>=5||this.currentWave>10)&&Math.random()<.3&&["giant","gargantuar","captain"].includes(n)&&setTimeout(()=>{if(this.gameStatus==="playing"){const m=["imp","backupdancer"].find(p=>s.zombieTypes.includes(p));if(m){const p=new ri(m,c);this.zombies.push(p)}}},300+Math.random()*500)}},t)}scheduleZombieSpawnAtSpecificTime(n,t,s,o,c=!1){setTimeout(()=>{if(this.gameStatus==="playing"){const u=new ri(n,s);c&&(u.health=Math.floor(u.health*1.5),u.speed=Math.min(u.speed*1.2,2.5));const f=1+(this.currentWave-1)*.05;u.health=Math.floor(u.health*f),this.zombies.push(u)}},t)}chooseOptimalLaneForZombie(n){const t=new Array(H.gridSize.rows).fill(0);for(const c of this.zombies){const u=Math.floor(c.y/H.cellSize.height);u>=0&&u<H.gridSize.rows&&t[u]++}if(["dolphinrider","snorkel","mermaid","zombiefish"].includes(n)&&this.isPoolLevel){const u=[2,3].filter(f=>f<H.gridSize.rows);if(u.length>0){let f=1/0,h=u[0];for(const m of u)t[m]<f&&(f=t[m],h=m);return h}}const s=Math.min(...t),o=t.map((c,u)=>u).filter(c=>t[c]===s);return o[Math.floor(Math.random()*o.length)]}playSound(n){console.log(`Play sound: ${n}`),n==="meteorite"&&console.log("")}checkAndTriggerMeteorites(){const t=H.cellSize.width,s=0*t;for(let o=0;o<H.gridSize.rows;o++){if(this.meteoriteTriggeredRows[o])continue;let c=!1;for(const u of this.zombies)if(Math.floor(u.y/H.cellSize.height)===o&&u.x<=s+t&&u.x>=s){c=!0;break}if(c){this.meteoriteTriggeredRows[o]=!0;const u=new z5(o);this.meteorites.push(u),this.playSound("meteorite"),setTimeout(()=>{this.clearRowZombies(o)},500);break}}}clearRowZombies(n){for(let t=this.zombies.length-1;t>=0;t--){const s=this.zombies[t];Math.floor(s.y/H.cellSize.height)===n&&(this.zombies.splice(t,1),this.playSound("zombiedie"))}}gameLoop(){var c,u;if(this.gameStatus!=="playing")return;const n=Date.now(),t=(n-this.lastTime)*this.gameSpeed;for(this.lastTime=n,this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.drawBackground(),Object.keys(this.plantCooldowns).forEach(f=>{const h=f;this.plantCooldowns[h]>0&&(this.plantCooldowns[h]-=t)}),this.plants.filter(f=>f.type==="qingyuan").length>0&&(n-this.lastTipTime>=1e4&&(this.zombies.forEach(f=>{f.isSlowed=!1}),this.createVisualFeedback("holy_wave",this.canvas.width/2,this.canvas.height/2,0,""),this.lastTipTime=n),n-this.lastWaveTime>=3e4&&(this.createVisualFeedback("holy_field",this.canvas.width/2,this.canvas.height/2,0,"50%"),this.lastWaveTime=n));this.summonRequests.length>0;){const f=this.summonRequests.shift();if(f){const{zombieType:h,lane:m}=f;try{const p=new ri(h,m);this.zombies.push(p),this.createVisualFeedback("summon_zombie",this.canvas.width-50,p.y,0,` ${Rl[h].name}!`)}catch(p){console.error(`Failed to summon zombie: ${p}`)}}}const o=H.sunProductionRate/this.sunProductionRateModifier;if(n-this.lastSunProductionTime>=o&&(this.generateSun(),this.lastSunProductionTime=n,this.currentWeather==="sunny"&&Math.random()<.2&&setTimeout(()=>{this.gameStatus==="playing"&&this.generateSun()},500)),this.checkAndTriggerMeteorites(),this.currentWave<this.totalWaves&&n-this.lastWaveTime>=H.waveInterval&&this.generateWave(),!((c=zt[this.currentLevel])!=null&&c.isEndless)&&this.currentWave>=this.totalWaves&&this.zombies.length===0){this.gameVictory();return}for(let f=this.plants.length-1;f>=0;f--){const h=this.plants[f];if(h.type==="qingyuan"){if(Math.random()<.3){const m=this.zombies.filter(p=>{const y=Math.floor(p.y/H.cellSize.height),b=h.gridY;return y===b&&p.x<=h.x+h.width&&p.x+p.width>=h.x});if(m.length>0){const p=m[Math.floor(Math.random()*m.length)],y=Math.floor((tt[h.type].damage||0)*.5);this.createVisualFeedback("damage_reflect",p.x,p.y,y),p.health-=y}}if(h.health<=0){for(let m=this.zombies.length-1;m>=0;m--){const p=this.zombies[m];p.health-=3e3,p.speed*=.1,setTimeout(()=>{p.speed&&(p.speed*=10)},3e3)}this.playSound("explosion"),this.plants.splice(f,1)}}else if(h.health<=0){this.plants.splice(f,1),this.playSound("plantdie");continue}if(h.update(t),h.canProduceSun(n)){const m=new Xu(h.x+h.width/2,h.y);this.suns.push(m),h.lastSunProductionTime=n}if(h.type==="qingyuan"&&n-h.lastSunProductionTime>=800){const m=new Xu(h.x+h.width/2,h.y,80);this.suns.push(m),h.lastSunProductionTime=n}if(h.canAttack(n)){let m=null;if(h.type==="peashooter"||h.type==="snowpea"){if(m=h.attack(),m&&(this.bullets.push(m),h.type==="repeater")){const p=new _s(m.x,m.y+10,m.damage,m.isFrozen);this.bullets.push(p)}}else if(h.type==="cattail"||h.type==="qingyuan"){let p=null,y=1/0;for(const b of this.zombies){const v=b.x+b.width/2-(h.x+h.width/2),k=b.y+b.height/2-(h.y+h.height/4),S=Math.sqrt(v*v+k*k);S<y&&(y=S,p=b)}if(p&&(m=new _s(h.x+h.width/2,h.y+h.height/4,tt[h.type].damage||0,!1,!0,p),this.bullets.push(m),h.type==="qingyuan")){const b=Math.min(this.zombies.length+3,10);for(let v=1;v<b;v++){const k=Math.floor(Math.random()*this.zombies.length),S=this.zombies[k];if(S){const N=new _s(h.x+h.width/2,h.y+h.height/4,tt[h.type].damage||0,!1,!0,S);this.bullets.push(N)}}}}else if(h.type==="wintermelon"){const p=H.cellSize.width*2,y=h.x+h.width/2,b=h.y+h.height/2;for(const v of this.zombies){const k=v.x+v.width/2-y,S=v.y+v.height/2-b;Math.sqrt(k*k+S*S)<=p&&(v.takeDamage(tt[h.type].damage||0,!0),this.playSound("shoot"))}}else if(h.type==="cobcannon"){let p=null,y=1/0;for(const b of this.zombies)b.x<y&&(y=b.x,p=b);if(p){const b=p.x+p.width/2,v=p.y+p.height/2,k=H.cellSize.width*1.5;for(let S=this.zombies.length-1;S>=0;S--){const N=this.zombies[S],C=N.x+N.width/2-b,M=N.y+N.height/2-v;Math.sqrt(C*C+M*M)<=k&&N.takeDamage(tt[h.type].damage||0)&&(this.zombies.splice(S,1),this.playSound("zombiedie"))}this.playSound("explosion")}}m&&(h.lastAttackTime=n,this.playSound("shoot"))}if((h.type==="cherrybomb"||h.type==="jalapeno")&&n-h.lastAttackTime>=1e3&&h.explode()){const m=tt[h.type].damage||0;if(h.type==="cherrybomb"){const p=H.cellSize.width*1.5,y=h.x+h.width/2,b=h.y+h.height/2;for(let v=this.zombies.length-1;v>=0;v--){const k=this.zombies[v],S=Math.abs(k.x+k.width/2-y),N=Math.abs(k.y+k.height/2-b);S<=p&&N<=p&&k.takeDamage(m)&&(this.zombies.splice(v,1),this.playSound("zombiedie"))}}else if(h.type==="jalapeno"){const p=Math.floor(h.y/H.cellSize.height);for(let y=this.zombies.length-1;y>=0;y--){const b=this.zombies[y];Math.floor(b.y/H.cellSize.height)===p&&b.takeDamage(m)&&(this.zombies.splice(y,1),this.playSound("zombiedie"))}}this.plants.splice(f,1),this.playSound("explosion")}h.render(this.ctx)}for(let f=this.zombies.length-1;f>=0;f--){const h=this.zombies[f];if(h){if(h.update(t,this.plants),h.type==="su_huai"&&h.lastSummonTime===n&&(h.summonedZombies||[]).forEach(p=>{const y=Math.floor(h.y/H.cellSize.height);this.summonRequests.push({zombieType:p,lane:y})}),h.type==="balloon"){let m=!1;for(const p of this.plants)if(p.gridY===Math.floor(h.y/H.cellSize.height)&&p.x+p.width>=h.x&&p.type==="tallnut"){m=!0,h.isEating=!0,h.canAttack(Date.now())&&(p.takeDamage(h.damage),h.lastAttackTime=Date.now());break}m||(h.isEating=!1,h.x-=h.speed*H.zombieSpeedMultiplier*t*.1)}else if(h.type==="digger")h.x>H.gridSize.cols*H.cellSize.width?h.x-=h.speed*H.zombieSpeedMultiplier*t*.1:h.x>H.gridSize.cols*H.cellSize.width*.5?h.y+=h.speed*H.zombieSpeedMultiplier*t*.05:h.x>0&&(h.y-=h.speed*H.zombieSpeedMultiplier*t*.05,h.x+=h.speed*H.zombieSpeedMultiplier*t*.1);else if(h.type==="dolphinrider"){let m=!1;for(const p of this.plants)if(p.gridY===Math.floor(h.y/H.cellSize.height)&&p.x+p.width>=h.x&&!m){h.x=p.x+p.width+10,m=!0;break}}if(h.x<=0||h.type==="digger"&&h.x>H.gridSize.cols*H.cellSize.width&&h.y>H.gridSize.rows*H.cellSize.height){this.gameOver();return}h.render(this.ctx)}}for(let f=this.bullets.length-1;f>=0;f--){const h=this.bullets[f];if(h.update(t),h.x>this.canvas.width){this.bullets.splice(f,1);continue}let m=!1;for(let p=this.zombies.length-1;p>=0;p--){const y=this.zombies[p];if(h.isColliding(y)){const b=h.x<500;let v=h.damage;if(b&&(["giant","gargantuar"].includes(y.type)?v=Math.floor(v*1.3):["balloon","bungee"].includes(y.type)?v=Math.floor(v*1.4):["dolphinrider","zombiefish","snorkel","mermaid"].includes(y.type)?v=Math.floor(v*1.5):["flag","scientist","impmustache","captain"].includes(y.type)&&(v=Math.floor(v*2))),y.takeDamage(v,h.isFrozen)){if(this.zombies.splice(p,1),this.playSound("zombiedie"),(u=zt[this.currentLevel])!=null&&u.isEndless&&this.totalZombiesKilled>0&&this.totalZombiesKilled%10===0){const S=50+Math.floor(this.currentWave/5)*10;this.sun=Math.min(this.sun+S,H.maxSun),this.createVisualFeedback("endless_bonus",y.x,y.y,S)}this.totalZombiesKilled++;const k=Date.now();if(k-this.lastZombieKillTime<2e3){if(this.currentCombo++,this.currentCombo>=H.comboMultiplierThreshold){const S=Math.floor(5*H.comboMultiplier);this.sun=Math.min(this.sun+S,H.maxSun),this.createVisualFeedback("combo_bonus",y.x,y.y,S)}}else this.currentCombo=1;this.lastZombieKillTime=k,this.createVisualFeedback("zombie_death",y.x,y.y)}this.bullets.splice(f,1),m=!0;break}}m||h.render(this.ctx)}for(let f=this.suns.length-1;f>=0;f--){const h=this.suns[f];if(h.update(t),h.isExpired()){this.sun=Math.min(this.sun+h.value,H.maxSun),this.suns.splice(f,1),this.playSound("collect"),this.totalSunsCollected+=h.value;continue}h.render(this.ctx)}for(let f=this.meteorites.length-1;f>=0;f--){const h=this.meteorites[f];if(h.update(t),h.isFinished()){this.meteorites.splice(f,1);continue}h.render(this.ctx)}for(const f of this.autoAttackers){try{f.update(t,this.zombies,this.bullets)}catch(h){console.error(":",h)}try{f.render(this.ctx)}catch(h){console.error(":",h)}}this.checkAchievements(),this.updateWeatherAndTime(n),this.checkAndTriggerSpecialEvents(n),this.checkPlantUpgrades(),this.showGameTip(),this.checkCombo(),requestAnimationFrame(()=>this.gameLoop())}updateWeatherAndTime(n){if(n-this.lastWeatherChangeTime>=this.GAME_CONFIG.dayNightCycleDuration){if(this.timeOfDay=this.timeOfDay==="day"?"night":"day",Math.random()<this.GAME_CONFIG.weatherChangeChance){const s=["sunny","rainy","foggy","sandstorm","snowy"];this.currentWeather=s[Math.floor(Math.random()*s.length)]}this.lastWeatherChangeTime=n;let t="";switch(this.currentWeather){case"sunny":t="";break;case"rainy":t="";break;case"foggy":t="";break;case"sandstorm":t="";break;case"snowy":t="";break}this.createVisualFeedback("weather_change",this.canvas.width/2,50,0,t)}}checkAndTriggerSpecialEvents(n){if(this.currentEvent===null&&n-this.lastEventTime>=this.GAME_CONFIG.dayNightCycleDuration&&Math.random()<this.GAME_CONFIG.specialEventChance){const t=["boss_battle","sun_storm","zombie_invasion"];switch(this.currentEvent=t[Math.floor(Math.random()*t.length)],this.lastEventTime=n,this.currentEvent){case"boss_battle":this.triggerBossBattle();break;case"sun_storm":this.triggerSunStorm();break;case"zombie_invasion":this.triggerZombieInvasion();break}}}triggerBossBattle(){this.createVisualFeedback("boss_battle",this.canvas.width/2,50,0,"Boss"),setTimeout(()=>{if(this.gameStatus==="playing"){const n=new ri("giant",Math.floor(Math.random()*H.gridSize.rows));n.health*=2,n.damage*=1.5,this.zombies.push(n)}},3e3)}triggerSunStorm(){this.createVisualFeedback("sun_storm",this.canvas.width/2,50,0,"");const n=1e4,t=setInterval(()=>{if(this.gameStatus==="playing"){this.generateSun();for(let s=0;s<2;s++)this.generateSun()}else clearInterval(t)},500);setTimeout(()=>{clearInterval(t),this.currentEvent=null},n)}triggerZombieInvasion(){this.createVisualFeedback("zombie_invasion",this.canvas.width/2,50,0,"");const n=15e3,t=setInterval(()=>{if(this.gameStatus==="playing")for(let s=0;s<3;s++){const o=Math.floor(Math.random()*H.gridSize.rows),c=new ri("normal",o);this.zombies.push(c)}else clearInterval(t)},800);setTimeout(()=>{clearInterval(t),this.currentEvent=null},n)}checkPlantUpgrades(){const n=new Map;this.plants.forEach(t=>{const s=n.get(t.type)||0;n.set(t.type,s+1)}),n.forEach((t,s)=>{var c;const o=((c=this.plantUpgrades.get(s))==null?void 0:c.level)||1;if(t>=3*o&&o<3){const u=o+1;this.plantUpgrades.set(s,{level:u,path:"offense"}),this.createVisualFeedback("plant_upgrade",this.canvas.width/2,50,0,`${tt[s].name}  ${u} `)}})}createVisualFeedback(n,t,s,o,c){if(n==="summon_zombie"){const u=document.createElement("div");u.className="fixed pointer-events-none z-40 font-bold text-red-400 animate-fade-up",u.innerHTML=`<div>${c}</div>`,u.style.left=`${t}px`,u.style.top=`${s}px`,document.body.appendChild(u);const f=document.createElement("style");f.textContent=`
        @keyframes fade-up {
          0% { opacity: 1; transform: translateY(0); }
          100% { opacity: 0; transform: translateY(-30px); }
        }
        .animate-fade-up {
          animation: fade-up 1s forwards;
        }
      `,document.head.appendChild(f),setTimeout(()=>{document.body.removeChild(u),document.head.removeChild(f)},1e3);return}try{if(n==="wave_start"){const v=document.createElement("div");v.className="fixed pointer-events-none z-50 font-bold text-xl text-red-500 animate-pulse",v.innerHTML=`<div class="drop-shadow-lg">${c}</div>`,v.style.left=`${t-100}px`,v.style.top=`${s-20}px`,v.style.width="200px",v.style.textAlign="center",document.body.appendChild(v);const k=document.createElement("style");k.textContent=`
          @keyframes pulse-wave {
            0% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.7; transform: scale(1.1); }
            100% { opacity: 1; transform: scale(1); }
          }
          .animate-pulse {
            animation: pulse-wave 2s forwards;
          }
        `,document.head.appendChild(k),setTimeout(()=>{document.body.removeChild(v),document.head.removeChild(k)},2e3);return}if(n==="sun_bonus"){const v=document.createElement("div");v.className="fixed pointer-events-none z-50 font-bold text-yellow-400",v.innerHTML=`
          <div class="flex flex-col items-center">
            <div class="text-3xl mb-1"></div>
            <div class="text-xl">+${o} </div>
            <div class="text-sm mt-1 text-yellow-300">${c}</div>
          </div>
        `,v.style.left=`${t-50}px`,v.style.top=`${s-50}px`,document.body.appendChild(v);const k=document.createElement("style");k.textContent=`
          @keyframes float-up {
            0% { opacity: 1; transform: translateY(0); }
            100% { opacity: 0; transform: translateY(-100px); }
          }
          .animate-float-up {
            animation: float-up 2s forwards;
          }
        `,document.head.appendChild(k),v.classList.add("animate-float-up"),setTimeout(()=>{document.body.removeChild(v),document.head.removeChild(k)},2e3);return}const u=this.canvas.getBoundingClientRect(),f=H.cellSize.width,h=H.cellSize.height,m=u.left+t*u.width/(H.gridSize.cols*f),p=u.top+s*u.height/(H.gridSize.rows*h),y=document.createElement("div");switch(y.className="fixed pointer-events-none z-40 font-bold text-lg",n){case"plant_success":y.innerHTML='<div class="text-green-400 animate-fade-up"> </div>';break;case"sun_collect":y.innerHTML=`<div class="text-yellow-400 animate-fade-up"> +${o}</div>`;break;case"zombie_death":y.innerHTML='<div class="text-red-400 animate-fade-up"> </div>';break;case"combo_bonus":y.innerHTML=`<div class="text-purple-400 animate-fade-up">  +${o}</div>`;break;case"endless_start":y.innerHTML=`<div class="text-purple-400 animate-fade-up text-xl font-bold"> ${c}</div>`,y.style.width="300px",y.style.textAlign="center";break;case"endless_bonus":y.innerHTML=`<div class="text-purple-400 animate-fade-up">  +${o}</div>`;break;case"weather_change":y.innerHTML=`<div class="text-blue-400 animate-fade-up"> ${c}</div>`;break;case"boss_battle":y.innerHTML=`<div class="text-orange-400 animate-fade-up"> ${c}</div>`;break;case"sun_storm":y.innerHTML=`<div class="text-yellow-400 animate-fade-up"> ${c}</div>`;break;case"zombie_invasion":y.innerHTML=`<div class="text-red-400 animate-fade-up"> ${c}</div>`;break;case"plant_upgrade":y.innerHTML=`<div class="text-green-400 animate-fade-up"> ${c}</div>`;break}y.style.left=`${m-25}px`,y.style.top=`${p-50}px`,document.body.appendChild(y);const b=document.createElement("style");b.textContent=`
        @keyframes fade-up {
          0% { opacity: 1; transform: translateY(0); }
          100% { opacity: 0; transform: translateY(-30px); }
        }
        .animate-fade-up {
          animation: fade-up 1s forwards;
        }
      `,document.head.appendChild(b),setTimeout(()=>{document.body.removeChild(y),document.head.removeChild(b)},1e3)}catch(u){console.error("Error creating visual feedback:",u)}}drawBackground(){const n=new Image;n.src="https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/ 2025-10-14 112623_20251015210520.png";const t=H.gridSize.cols*H.cellSize.width,s=H.gridSize.rows*H.cellSize.height;this.ctx.fillStyle="black",this.ctx.fillRect(0,0,t,s),this.createOptimizedBackgroundImage(n,t,s);const o=()=>{const c=document.createElement("canvas"),u=c.getContext("2d");if(u){c.width=t*2,c.height=s*2,u.imageSmoothingEnabled=!0,u.imageSmoothingQuality="high";const f=n.width/n.height,h=t/s;let m=t*2,p=s*2,y=0,b=0;f>h?(p=s*2,m=p*f,y=(t*2-m)/2):(m=t*2,p=m/f,b=(s*2-p)/2),u.drawImage(n,y,b,m,p),this.applyAdvancedSharpening(u,y,b,m,p),this.enhanceImageContrast(u,y,b,m,p),this.ctx.imageSmoothingEnabled=!0,this.ctx.imageSmoothingQuality="high",this.ctx.drawImage(c,0,0,c.width,c.height,0,0,t,s),this.drawOptimizedGridLines()}};n.complete?o():(n.onload=o,n.onerror=()=>{console.error("Failed to load background image"),this.ctx.fillStyle="#1a1a1a",this.ctx.fillRect(0,0,t,s),this.ctx.fillStyle="white",this.ctx.font="20px Arial",this.ctx.textAlign="center",this.ctx.textBaseline="middle",this.ctx.fillText("",t/2,s/2),this.drawOptimizedGridLines()})}createOptimizedBackgroundImage(n,t,s){try{const o=document.createElement("canvas"),c=o.getContext("2d");if(!c)return null;o.width=t*1.5,o.height=s*1.5,c.imageSmoothingEnabled=!0,c.imageSmoothingQuality="high";const u=n.width/n.height,f=t/s;let h=o.width,m=o.height,p=0,y=0;return u>f?(m=o.height,h=m*u,p=(o.width-h)/2):(h=o.width,m=h/u,y=(o.height-m)/2),c.drawImage(n,p,y,h,m),o}catch(o){return console.error("Failed to create optimized background image:",o),null}}applyAdvancedSharpening(n,t,s,o,c){try{const f=n.getImageData(Math.round(t),Math.round(s),Math.round(o),Math.round(c)).data,h=new Uint8ClampedArray(f.length),m=[-1,-1,-1,-1,9,-1,-1,-1,-1];for(let y=0;y<c;y++)for(let b=0;b<o;b++){const v=(y*o+b)*4;if(y===0||y===c-1||b===0||b===o-1){h[v]=f[v],h[v+1]=f[v+1],h[v+2]=f[v+2],h[v+3]=f[v+3];continue}let k=0,S=0,N=0;for(let C=-1;C<=1;C++)for(let M=-1;M<=1;M++){const _=m[(C+1)*3+(M+1)],z=((y+C)*o+(b+M))*4;k+=f[z]*_,S+=f[z+1]*_,N+=f[z+2]*_}h[v]=Math.min(255,Math.max(0,k)),h[v+1]=Math.min(255,Math.max(0,S)),h[v+2]=Math.min(255,Math.max(0,N)),h[v+3]=f[v+3]}const p=new ImageData(h,o,c);n.putImageData(p,Math.round(t),Math.round(s)),this.applySubtleSharpening(n,t,s,o,c)}catch(u){console.log("Advanced image sharpening skipped due to browser limitations:",u),this.applyFallbackSharpening(n,t,s,o,c)}}applySubtleSharpening(n,t,s,o,c){try{const f=n.getImageData(Math.round(t),Math.round(s),Math.round(o),Math.round(c)).data,h=new Uint8ClampedArray(f.length),m=[0,0,-.5,0,0,0,-.5,3,-.5,0,-.5,3,8,3,-.5,0,-.5,3,-.5,0,0,0,-.5,0,0],p=m.reduce((b,v)=>b+v,0);for(let b=0;b<c;b++)for(let v=0;v<o;v++){const k=(b*o+v)*4;if(b<2||b>c-3||v<2||v>o-3){h[k]=f[k],h[k+1]=f[k+1],h[k+2]=f[k+2],h[k+3]=f[k+3];continue}let S=0,N=0,C=0;for(let M=-2;M<=2;M++)for(let _=-2;_<=2;_++){const z=m[(M+2)*5+(_+2)],R=((b+M)*o+(v+_))*4;S+=f[R]*z,N+=f[R+1]*z,C+=f[R+2]*z}S/=p,N/=p,C/=p,h[k]=Math.min(255,Math.max(0,S)),h[k+1]=Math.min(255,Math.max(0,N)),h[k+2]=Math.min(255,Math.max(0,C)),h[k+3]=f[k+3]}const y=new ImageData(h,o,c);n.putImageData(y,Math.round(t),Math.round(s))}catch(u){console.log("Subtle sharpening skipped:",u)}}applyFallbackSharpening(n,t,s,o,c){try{n.save(),n.filter="sharpness(1.5)",n.drawImage(n.canvas,Math.round(t),Math.round(s),Math.round(o),Math.round(c),Math.round(t),Math.round(s),Math.round(o),Math.round(c)),n.restore()}catch(u){console.log("Fallback sharpening skipped:",u)}}enhanceImageContrast(n,t,s,o,c){try{const u=n.getImageData(Math.round(t),Math.round(s),Math.round(o),Math.round(c)),f=u.data;let h=0,m=0;for(let v=0;v<f.length;v+=4){const k=.299*f[v]+.587*f[v+1]+.114*f[v+2];h+=k,m++}const p=h/m;let y=1.2;p>128?y=1.1:y=1.3;const b=v=>Math.min(255,Math.max(0,(v-128)*y+128));for(let v=0;v<f.length;v+=4)f[v]=b(f[v]),f[v+1]=b(f[v+1]),f[v+2]=b(f[v+2]);n.putImageData(u,Math.round(t),Math.round(s))}catch(u){console.log("Contrast enhancement skipped:",u)}}drawOptimizedGridLines(){const n=H.gridSize.cols*H.cellSize.width,t=H.gridSize.rows*H.cellSize.height;this.ctx.save(),this.ctx.imageSmoothingEnabled=!0,this.ctx.imageSmoothingQuality="high";let s="rgba(0, 0, 0, 0.6)",o="rgba(255, 255, 255, 0.3)";this.isNightLevel?(s="rgba(255, 255, 255, 0.2)",o="rgba(255, 255, 255, 0.1)"):this.isPoolLevel?(s="rgba(255, 255, 255, 0.4)",o="rgba(255, 255, 255, 0.2)"):this.isRoofLevel&&(s="rgba(0, 0, 0, 0.4)",o="rgba(0, 0, 0, 0.2)"),this.ctx.strokeStyle=s,this.ctx.lineWidth=1.5,this.ctx.lineCap="round";for(let u=1;u<H.gridSize.cols;u++){const f=u*H.cellSize.width;this.ctx.beginPath(),this.ctx.moveTo(f,0),this.ctx.lineTo(f,t),this.ctx.stroke()}for(let u=1;u<H.gridSize.rows;u++){const f=u*H.cellSize.height;this.ctx.beginPath(),this.ctx.moveTo(0,f),this.ctx.lineTo(n,f),this.ctx.stroke()}this.ctx.strokeStyle=o,this.ctx.lineWidth=.8,this.ctx.setLineDash([5,15]);for(let u=1;u<H.gridSize.cols;u++){const f=u*H.cellSize.width;this.ctx.beginPath(),this.ctx.moveTo(f,0),this.ctx.lineTo(f,t),this.ctx.stroke()}for(let u=1;u<H.gridSize.rows;u++){const f=u*H.cellSize.height;this.ctx.beginPath(),this.ctx.moveTo(0,f),this.ctx.lineTo(n,f),this.ctx.stroke()}this.ctx.setLineDash([]);let c="rgba(255, 255, 255, 0.5)";this.isRoofLevel&&(c="rgba(0, 0, 0, 0.5)"),this.ctx.fillStyle=c;for(let u=1;u<H.gridSize.cols;u++)for(let f=1;f<H.gridSize.rows;f++){const h=u*H.cellSize.width,m=f*H.cellSize.height;this.ctx.beginPath(),this.ctx.arc(h,m,1,0,Math.PI*2),this.ctx.fill()}this.ctx.restore()}startEndlessMode(){this.currentWave=0,this.totalWaves=999,this.createVisualFeedback("endless_start",this.canvas.width/2,this.canvas.height/2,0,"")}generateSun(){const n=Math.random()*(H.gridSize.cols*H.cellSize.width-60)+30,t=-30,s=new Xu(n,t);this.suns.push(s)}handleClick(n,t){if(this.gameStatus==="playing"){for(const s of this.suns)if(n>=s.x&&n<=s.x+s.width&&t>=s.y&&t<=s.y+s.height){this.collectSun(s);return}if(this.selectedPlantType){const s=Math.floor(n/H.cellSize.width),o=Math.floor(t/H.cellSize.height);s>=0&&s<H.gridSize.cols&&o>=0&&o<H.gridSize.rows&&this.plantAtGrid(s,o)}}}}class P5 extends ki{constructor(t){var u;const s=H.cellSize,o=-80*.7,c=(H.gridSize.rows/2-.5)*s.height;tt.peashooter.damage;super(o,c,s.width*1.4,s.height*1.6,9999);ee(this,"type");ee(this,"attackSpeed");ee(this,"lastAttackTime");ee(this,"damage");ee(this,"attackRange");ee(this,"animationOffset");ee(this,"attackEffect");ee(this,"",0);ee(this,"lastTime",0);this.type=t,this.attackSpeed=2e3,this.lastAttackTime=0,this.damage=((u=qe.peashooter)==null?void 0:u.damage)??30,this.attackRange=9999,this.animationOffset={x:0,y:0},this.attackEffect={active:!1,time:0},t==="ultraman_zero"&&(this.=0,this.lastTime=0)}canAttack(t){return t-this.lastAttackTime>=this.attackSpeed}findTarget(t){if(t.length===0)return null;let s=null,o=1/0;for(const c of t){const u=c.x+c.width/2-(this.x+this.width/2),f=c.y+c.height/2-(this.y+this.height/2),h=Math.sqrt(u*u+f*f);h<o&&h<=this.attackRange&&(o=h,s=c)}return s}attack(t,s){const o=Date.now();if(!this.canAttack(o))return;const c=new _s(this.x+this.width,this.y+this.height/2,this.damage,!1,!0,t);s.push(c),this.lastAttackTime=o,this.attackEffect.active=!0,this.attackEffect.time=o,this.playSound("shoot")}playSound(t){console.log(`Play sound: ${t}`)}update(t,s,o){const c=Date.now();this.attackEffect.active&&c-this.attackEffect.time>300&&(this.attackEffect.active=!1);const u=Math.sin(c/1e3)*2;this.animationOffset={x:this.attackEffect.active?5:0,y:u};const f=this.findTarget(s);f&&this.gameStatus==="playing"&&this.attack(f,o)}render(t){t.save(),t.translate(this.animationOffset.x,this.animationOffset.y);const s=this.x+this.width/2,o=this.y+this.height/2;t.shadowColor="rgba(0, 0, 0, 0.4)",t.shadowBlur=12,t.shadowOffsetX=6,t.shadowOffsetY=6,(()=>{t.fillStyle="#3498db",t.beginPath(),t.ellipse(s,o,35,55,0,0,Math.PI*2),t.fill(),t.fillStyle="#e74c3c",t.beginPath(),t.arc(s,o-40,25,0,Math.PI*2),t.fill(),t.fillStyle="white",t.beginPath(),t.ellipse(s-10,o-45,8,12,0,0,Math.PI*2),t.ellipse(s+10,o-45,8,12,0,0,Math.PI*2),t.fill(),t.fillStyle="black",t.beginPath(),t.arc(s-10,o-45,3,0,Math.PI*2),t.arc(s+10,o-45,3,0,Math.PI*2),t.fill(),t.fillStyle="#f39c12",t.beginPath(),t.arc(s,o-20,8,0,Math.PI*2),t.fill(),t.fillStyle="#2ecc71",t.beginPath(),t.moveTo(s-25,o),t.lineTo(s,o-20),t.lineTo(s+25,o),t.closePath(),t.fill(),t.fillStyle="#3498db",t.fillRect(s-15,o+25,10,30),t.fillRect(s+5,o+25,10,30),t.fillRect(s-40,o-10,15,20),t.fillRect(s+25,o-10,15,20),this.attackEffect.active&&(t.strokeStyle="#00ffff",t.lineWidth=4,t.setLineDash([]),t.shadowColor="#00ffff",t.shadowBlur=15,t.beginPath(),t.moveTo(s+40,o-5),t.lineTo(s+80,o-20),t.stroke(),t.shadowColor="rgba(0, 0, 0, 0.4)",t.shadowBlur=12),t.fillStyle="rgba(0, 0, 0, 0.7)",t.beginPath(),t.roundRect(s-35,o+60,70,20,10),t.fill(),t.fillStyle="white",t.font="bold 12px Arial",t.textAlign="center",t.textBaseline="middle",t.fillText("",s,o+70)})(),t.shadowColor="transparent",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0,t.restore()}get gameStatus(){return"playing"}}let X;function kp(){var mr,Kr,pr,wn,Gr,Rn,Dn,Ea,Xr,Zr,Ma,gr,xr,yr,B,re,ue,te,me,ce,we,Xe,on,ln,Ze,cn,Zn,jn,_i,Qn,Qr,Jr,Aa,Gs,Xs,Zs,Ln,Ci,zi,Qs,Ti,Pi,Ei,Mi,Js,eo,nt,to,Ia,Ai,ea,no,Ii,ta,Jt,ro,Wt,ao,io,so,na,ra,br,aa;const e=An();j.useEffect(()=>{try{n()}catch(W){console.error(":",W)}},[]);const n=()=>{localStorage.setItem("pvzPlants",JSON.stringify(tt)),localStorage.setItem("pvzZombies",JSON.stringify(Rl)),localStorage.setItem("pvzLevels",JSON.stringify(zt));const W=localStorage.getItem("pvzHighestLevel");(!W||parseInt(W)<10)&&(localStorage.setItem("pvzHighestLevel","10"),p(10))},t=j.useRef(null);X=j.useRef(null);const[s,o]=j.useState("ready"),[c,u]=j.useState(1),[f,h]=j.useState(!0),[m,p]=j.useState(1),[y,b]=j.useState(H.initialSun),[v,k]=j.useState(""),[S,N]=j.useState(!1),[C,M]=j.useState(localStorage.getItem("pvzPlayerName")||""),[_,z]=j.useState([]),[R,A]=j.useState([]),[O,U]=j.useState(null),[Y,$]=j.useState(!1),[Q,he]=j.useState(!1),[Se,Ce]=j.useState("rooms"),[Ie,De]=j.useState(!1),[be,K]=j.useState([]);j.useEffect(()=>{const W=t.current;if(W){try{X.current=new T5(W);const oe=10;p(oe),localStorage.setItem("pvzHighestLevel",oe.toString())}catch(oe){console.error(":",oe),at("")}const Ne=oe=>{if(X.current&&W&&(X.current.gameStatus==="playing"||s==="ready")){const je=W.getBoundingClientRect(),He=(oe.clientX-je.left)*(W.width/je.width),Lt=(oe.clientY-je.top)*(W.height/je.height),On=W.width/(H.gridSize.cols*H.cellSize.width);X.current.handleClick(He/On,Lt/On)}};return W.addEventListener("click",Ne),()=>{W.removeEventListener("click",Ne)}}},[]),j.useEffect(()=>{const Ne=setInterval(()=>{X.current&&(s!==X.current.gameStatus&&o(X.current.gameStatus),X.current.sun!==y&&b(X.current.sun))},50);return()=>clearInterval(Ne)},[s,y]),j.useEffect(()=>{const W=()=>{const oe=new Date,je=oe.getHours().toString().padStart(2,"0"),He=oe.getMinutes().toString().padStart(2,"0"),Lt=oe.getSeconds().toString().padStart(2,"0");k(`${je}:${He}:${Lt}`)};W();const Ne=setInterval(W,1e3);return()=>clearInterval(Ne)},[]);const de=j.useCallback(W=>{u(W),h(!1),at(` ${W}...`),setTimeout(()=>{De(!0)},300)},[]),se=j.useCallback(W=>{var oe;if(K(W),De(!1),((oe=zt[c])==null?void 0:oe.isHighIntensityCustom)||!1)setTimeout(()=>{N(!0)},300);else if(X.current)try{if(!X.current){console.error(""),at("");return}X.current.selectedPlants=W,W.forEach(je=>{X.current&&(X.current.plantCooldowns[je]=0)}),at(""),X.current&&X.current.startGame(c),o("playing"),b(H.initialSun),setTimeout(()=>{b(je=>je)},100)}catch(je){console.error(":",je),at(""),De(!0)}},[c]),L=j.useCallback(()=>{X.current&&X.current.pauseGame()},[]),G=j.useCallback(()=>{X.current&&(X.current.startGame(c),o("playing"))},[c]),Te=j.useCallback(()=>{h(!0),o("ready")},[]),Pe=j.useCallback(W=>{if(X.current)try{if(Object.keys(tt).includes(W)){X.current.selectPlant(W);const Ne=tt[W]||qe[W];at(` ${(Ne==null?void 0:Ne.name)||W}`)}else console.error(`: ${W}`),at(` ${W}`)}catch(Ne){console.error(`: ${Ne}`),at("")}},[]),Le=W=>{var oe;const Ne={sunflower:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20girl%20with%20sunflower%20hat%20cute%20big%20eyes%20smiling%20green%20dress%20flower%20princess&sign=85e96d77d1615b56710362f10a7552e9",peashooter:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20girl%20with%20pea%20shooter%20cute%20green%20outfit%20big%20eyes%20smiling%20plant%20magic&sign=2247bde5b2c08c5f627c97aba69ff5c6",wallnut:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20girl%20with%20nut%20hat%20strong%20cute%20brown%20outfit%20big%20eyes%20defender&sign=6dfda4def363ee91d906e66313fc4acc",snowpea:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20girl%20with%20ice%20powers%20blue%20dress%20cute%20big%20eyes%20snowflake%20magic%20smiling&sign=4e2aff77708202f1b219343e317c25e8",cherrybomb:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20girl%20with%20cherry%20hair%20pink%20dress%20cute%20big%20eyes%20smiling%20explosive%20magic&sign=bbdd925134285adcd4e25a26e64e98c1",chomper:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20girl%20with%20big%20mouth%20green%20dress%20cute%20big%20eyes%20smiling%20plant%20character&sign=ecfdcea3f2669b474a2f4e37b1b89dc7",repeater:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20girl%20with%20twin%20peashooters%20green%20dress%20cute%20big%20eyes%20double%20weapon%20smiling&sign=2501ff25b9a28fa4328f2e0964a81592",jalapeno:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20girl%20with%20fire%20powers%20red%20dress%20cute%20big%20eyes%20flame%20magic%20smiling&sign=5f7da59675c2cde80917e7dd0a153b63",tallnut:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20girl%20tall%20nut%20hat%20brown%20outfit%20cute%20big%20eyes%20tall%20defender%20smiling&sign=be62d9765f879c86defe93333d1b1902",cattail:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20girl%20with%20purple%20magic%20dress%20cute%20big%20eyes%20homing%20missile%20smiling%20wizard&sign=21de1a1e335e2f617779d7b5033a7a02",cobcannon:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20girl%20with%20cannon%20weapon%20cute%20big%20eyes%20yellow%20dress%20explosive%20smiling%20artillery&sign=91bedae4ccba0cbc54aaa0f7a241898a",wintermelon:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20girl%20with%20ice%20melon%20blue%20dress%20cute%20big%20eyes%20aoe%20magic%20smiling%20snow&sign=a78185bcb839fd17aae2393ffe43dd66",potatomine:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20girl%20potato%20mine%20brown%20outfit%20explosive%20magic%20cute%20big%20eyes%20smiling&sign=b43bb81fc1580121be8e06dc579f0f23",squash:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20girl%20squash%20orange%20dress%20heavy%20weight%20cute%20big%20eyes%20smiling&sign=dcd988def52a37dfb0bdd812a56d8122",blover:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20girl%20clover%20green%20dress%20wind%20magic%20cute%20big%20eyes%20smiling&sign=362043b77a00a4084b5f3171e14a14f2",garlic:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20girl%20garlic%20white%20dress%20scent%20magic%20cute%20big%20eyes%20smiling&sign=cbbcf2f39e2c00bc72a645cf238bc502",pumpkin:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20girl%20pumpkin%20orange%20dress%20protective%20magic%20cute%20big%20eyes%20smiling&sign=c9533ee4e8ac7dd036e6c1abacb56404",magnetshroom:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20girl%20magnet%20purple%20dress%20magnetic%20magic%20cute%20big%20eyes%20smiling&sign=04eeaaea9fa99dac1ed1b317232b89d2",sunshroom:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20girl%20sun%20mushroom%20yellow%20dress%20small%20cute%20big%20eyes%20smiling&sign=3dd601c31200364b6ade009a14bb0ebf",fumeshroom:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20girl%20fume%20mushroom%20purple%20dress%20poison%20magic%20cute%20big%20eyes%20smiling&sign=d11e7034f7c2073e01b76d75e13eeb3a",gravebuster:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20girl%20grave%20buster%20brown%20dress%20eater%20cute%20big%20eyes%20smiling&sign=9634f302f445e4bb7f9f493f3fc3d06a",coffeebean:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20girl%20coffee%20bean%20brown%20dress%20energy%20magic%20cute%20big%20eyes%20smiling&sign=2d6df7eb1f14f53fabeaec27ec2afabd",starfruit:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20girl%20star%20fruit%20yellow%20dress%20star%20shape%20cute%20big%20eyes%20chibi%20style&sign=39cf8f92030071b49fc50bcaf1e723d1",kernelpult:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20girl%20corn%20thrower%20yellow%20dress%20corn%20hat%20cute%20big%20eyes%20chibi%20style&sign=37342c2b863a76b80a786cb2932bebf1",umbrellaleaf:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20girl%20umbrella%20leaf%20green%20dress%20umbrella%20hat%20cute%20big%20eyes%20chibi%20style&sign=299de600ddd01ebbb6e272b4655e3744",spikerock:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20girl%20spike%20rock%20brown%20dress%20spikes%20cute%20big%20eyes%20chibi%20style&sign=07457bbad26aaff609ad15c522140570",threepeater:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20girl%20three%20peashooters%20green%20dress%20multiple%20weapons%20cute%20big%20eyes%20chibi%20style&sign=c9e40a3e4aec6a8ecf0bb2ddd5a975c4",splitpea:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20girl%20split%20pea%20green%20dress%20two%20faces%20cute%20big%20eyes%20chibi%20style&sign=7d5f5ab706f3bb9f423830d4974e310d",iceberglettuce:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20girl%20ice%20lettuce%20blue%20dress%20ice%20crystals%20cute%20big%20eyes%20chibi%20style&sign=3ec4e890ee893d0bf8f646f9dcc5cdbb",goldmagnet:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20girl%20magnet%20gold%20yellow%20dress%20cute%20big%20eyes%20smiling%20attractive%20power&sign=f18531886f420329d1f0c68d3d625ecf",qingyuan:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/_20251016111846_103_92_20251016111910.jpg",shancatleader:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/_20251018115946.jpg",xuqinglan:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/()_20251019101043.jpg",yijiu:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/_20251020101211.jpg",xuqinglan_god:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/_20251020165934.jpg",xuqinglan_dream:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/_20251021232653.jpg",mumu:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/_20251022233255.png"};return i.jsx("img",{src:Ne[W]||"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=anime%20girl%20plant%20default%20green%20dress%20cute%20big%20eyes%20smiling&sign=6eb1b4993755f954e03abac0038ae131",alt:((oe=tt[W]||qe[W])==null?void 0:oe.name)||W,className:"w-full h-full object-contain",loading:"lazy"})},Re=()=>{if(!X.current||f||Ie||s==="ready")return null;const{plantCooldowns:W,selectedPlantType:Ne}=X.current;return i.jsxs("div",{className:"bg-gray-800 rounded-lg p-3 md:p-4 flex flex-wrap justify-center gap-3 w-full max-w-5xl mt-4",children:[i.jsxs("div",{className:"text-yellow-300 font-bold text-xl mr-4",children:[i.jsx("i",{className:"fa-solid fa-sun"})," : ",y]}),Object.entries(tt).map(([oe,je])=>{const He=oe;if(be.length>0&&!be.includes(He))return null;const Lt=Ne===He,On=(W[He]||0)>0,ia=y>=je.cost;return On&&1-W[He]/je.cooldown,i.jsxs("div",{className:`relative cursor-pointer rounded-xl p-3 transition-all duration-300 flex flex-col items-center justify-between bg-gray-800/80 border border-gray-700
                 ${Lt?"ring-2 ring-yellow-400 bg-gray-700/80":""}
                 ${!ia||On?"opacity-60 grayscale cursor-not-allowed":"hover:brightness-110 hover:shadow-lg hover:border-gray-600"}
                 w-full sm:w-auto`,onClick:()=>{!On&&ia?Pe(He):On?at(`${je.name}...`):ia||at(`${je.cost}`)},children:[i.jsxs("div",{className:"relative w-14 h-14 flex items-center justify-center rounded-lg overflow-hidden bg-gray-900 mb-2",children:[Le(He),je.rarity===""&&i.jsx("div",{className:"absolute top-1 right-1 w-3 h-3 bg-orange-500 rounded-full animate-pulse-glow"}),je.rarity===""&&i.jsx("div",{className:"absolute top-1 right-1 w-3 h-3 bg-purple-500 rounded-full"})]}),i.jsx("div",{className:"text-center text-white font-medium text-xs sm:text-sm mb-1 min-h-[18px]",children:je.name}),i.jsxs("div",{className:"flex items-center text-yellow-300 font-bold text-xs sm:text-sm mb-1",children:[i.jsx("i",{className:"fa-solid fa-sun mr-1 text-[10px]"}),je.cost]}),je.specialEffect&&i.jsx("div",{className:"text-center text-xs sm:text-xs text-blue-300 line-clamp-1 mb-1 max-w-[100px]",children:Pa(He,je.specialEffect)}),On&&i.jsxs("div",{className:"absolute inset-0 bg-black bg-opacity-70 rounded-xl flex flex-col items-center justify-center",children:[i.jsx("div",{className:"w-10 h-10 rounded-full border-2 border-gray-600 border-t-blue-400 animate-spin mb-1"}),i.jsxs("div",{className:"text-white font-bold text-sm",children:[Math.ceil(W[He]/1e3),"s"]})]}),je.attackRange===99&&i.jsxs("div",{className:"absolute -top-1 -right-1 bg-purple-600 text-white text-xs font-bold px-2 py-0.5 rounded-full shadow-lg z-10",children:[i.jsx("i",{className:"fa-solid fa-crosshairs mr-0.5 text-[10px]"})," "]}),je.attackRange&&je.attackRange<99&&i.jsxs("div",{className:"absolute -bottom-1 left-1/2 transform -translate-x-1/2 bg-gray-700 text-white text-xs px-2 py-0.5 rounded-full z-10",children:[i.jsx("i",{className:"fa-solid fa-ruler-combined mr-0.5 text-[10px]"})," ",je.attackRange,""]})]},oe)})]})},Fe=()=>{var Ne;if(f||((Ne=X.current)==null?void 0:Ne.currentCombo)<H.comboMultiplierThreshold)return null;const W=X.current.currentCombo;return i.jsx("div",{className:"absolute top-20 left-4 z-10 bg-gradient-to-r from-purple-600 to-blue-500 px-4 py-2 rounded-lg shadow-lg animate-pulse",children:i.jsxs("div",{className:"flex items-center text-white font-bold",children:[i.jsx("i",{className:"fa-solid fa-bolt mr-2 text-yellow-300"})," x",W,"!"]})})},Oe=()=>{if(f||s==="ready")return null;const W=()=>{X.current&&(X.current.saveGameData(),at(""))};return i.jsxs(T.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},className:"flex flex-wrap justify-center gap-4 mt-4 w-full max-w-3xl",children:[s==="playing"&&i.jsxs("div",{className:"flex flex-wrap justify-center gap-4 w-full",children:[i.jsxs(T.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:L,className:"bg-gradient-to-r from-yellow-500 to-yellow-600 hover:from-yellow-600 hover:to-yellow-700 text-white font-bold py-3 px-8 rounded-xl shadow-lg shadow-yellow-900/30 transition-all duration-300 flex items-center justify-center",children:[i.jsx("i",{className:"fa-solid fa-pause mr-2"})," "]}),i.jsxs(T.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:W,className:"bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white font-bold py-3 px-8 rounded-xl shadow-lg shadow-blue-900/30 transition-all duration-300 flex items-center justify-center",children:[i.jsx("i",{className:"fa-solid fa-floppy-disk mr-2"})," "]})]}),(s==="paused"||s==="gameover"||s==="victory")&&i.jsxs("div",{className:"flex flex-wrap justify-center gap-4 w-full",children:[s==="paused"&&i.jsxs(i.Fragment,{children:[i.jsxs(T.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:L,className:"bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white font-bold py-3 px-8 rounded-xl shadow-lg shadow-green-900/30 transition-all duration-300 flex items-center justify-center",children:[i.jsx("i",{className:"fa-solid fa-play mr-2"})," "]}),i.jsxs(T.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:W,className:"bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white font-bold py-3 px-8 rounded-xl shadow-lg shadow-blue-900/30 transition-all duration-300 flex items-center justify-center",children:[i.jsx("i",{className:"fa-solid fa-floppy-disk mr-2"})," "]})]}),s==="paused"&&c>0&&i.jsx("div",{className:"w-full h-px bg-gray-700 my-2"}),i.jsxs("div",{className:"flex flex-wrap justify-center gap-4 w-full",children:[i.jsxs(T.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:G,className:`font-bold py-3 px-8 rounded-xl shadow-lg transition-all duration-300 flex items-center justify-center ${s==="gameover"?"bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white shadow-red-900/30":"bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white shadow-blue-900/30"}`,children:[i.jsx("i",{className:"fa-solid fa-rotate mr-2"}),s==="gameover"?"":""]}),i.jsxs(T.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Te,className:"bg-gradient-to-r from-gray-600 to-gray-700 hover:from-gray-700 hover:to-gray-800 text-white font-bold py-3 px-8 rounded-xl shadow-lg shadow-gray-900/30 transition-all duration-300 flex items-center justify-center",children:[i.jsx("i",{className:"fa-solid fa-door-open mr-2"})," "]})]})]})]})},We=()=>f?i.jsxs("div",{className:"absolute inset-0 bg-black bg-opacity-80 z-10 overflow-hidden",children:[i.jsxs("div",{className:"h-full overflow-y-auto scrollbar-thin scrollbar-thumb-gray-700 scrollbar-track-transparent scroll-smooth p-6",style:{backgroundImage:"url(https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/_20251026111203.jpg)",backgroundSize:"cover",backgroundPosition:"center",backgroundAttachment:"fixed"},children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/30 via-black/20 to-black/40 backdrop-blur-sm"}),i.jsxs("div",{className:"min-h-full flex flex-col items-center justify-center relative z-10",children:[i.jsxs("div",{className:"mb-12 text-center",children:[i.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-green-500 mb-3 drop-shadow-md",children:""}),i.jsx("div",{className:"h-1 w-32 bg-gradient-to-r from-green-400 to-green-600 mx-auto rounded-full"})]}),i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 md:gap-6 mb-10 w-full max-w-2xl",children:[1,2,3,4,5,6,7,8,9,10].map(W=>i.jsxs("button",{onClick:()=>de(W),disabled:W>m,className:`relative aspect-square rounded-xl flex flex-col items-center justify-center transition-all duration-300 ease-out
                    ${W<=m?"bg-gradient-to-br from-green-500 to-green-700 hover:from-green-600 hover:to-green-800 shadow-lg hover:shadow-xl hover:scale-105 active:scale-95":"bg-gray-500 opacity-50 cursor-not-allowed"}`,children:[i.jsxs("div",{className:"absolute inset-0 flex items-center justify-center opacity-30",children:[i.jsx("div",{className:"absolute w-[30px] h-[30px] rounded-full bg-gradient-to-br from-green-500/05 to-green-700/02 animate-pulse"}),i.jsx("i",{className:"fa-solid fa-map-location-dot text-[18px] text-green-400/08 animate-pulse relative z-10"}),i.jsx("div",{className:"absolute w-[24px] h-[24px] rounded-full bg-green-400/05 blur-xl animate-pulse"})]}),i.jsx("i",{className:"fa-solid fa-map-location-dot text-3xl md:text-4xl text-white mb-2 relative z-10"}),i.jsxs("span",{className:"text-lg md:text-xl font-bold text-white relative z-10",children:[" ",W]}),i.jsx("span",{className:"text-xs md:text-sm text-green-200 mt-1 relative z-10",children:W===1?"":W===2?"":W<=4?"":""}),W===4&&W<=m&&i.jsxs("div",{className:"absolute -bottom-2 -left-2 bg-blue-900 text-blue-100 font-bold text-xs px-2 py-1 rounded-full",children:[i.jsx("i",{className:"fa-solid fa-moon mr-1"})," "]}),W===5&&W<=m&&i.jsxs("div",{className:"absolute -bottom-2 -left-2 bg-blue-700 text-blue-100 font-bold text-xs px-2 py-1 rounded-full",children:[i.jsx("i",{className:"fa-solid fa-water mr-1"})," "]}),W===6&&W<=m&&i.jsxs("div",{className:"absolute -bottom-2 -left-2 bg-brown-700 text-yellow-100 font-bold text-xs px-2 py-1 rounded-full",children:[i.jsx("i",{className:"fa-solid fa-house-chimney mr-1"})," "]}),W===7&&W<=m&&i.jsxs("div",{className:"absolute -bottom-2 -left-2 bg-gray-700 text-gray-100 font-bold text-xs px-2 py-1 rounded-full",children:[i.jsx("i",{className:"fa-solid fa-fog mr-1"})," "]}),W===8&&W<=m&&i.jsxs("div",{className:"absolute -bottom-2 -left-2 bg-red-700 text-red-100 font-bold text-xs px-2 py-1 rounded-full",children:[i.jsx("i",{className:"fa-solid fa-crown mr-1"})," BOSS"]}),W===9&&W<=m&&i.jsxs("div",{className:"absolute -bottom-2 -left-2 bg-purple-700 text-purple-100 font-bold text-xs px-2 py-1 rounded-full",children:[i.jsx("i",{className:"fa-solid fa-infinity mr-1"})," "]}),W===10&&W<=m&&i.jsxs("div",{className:"absolute -bottom-2 -left-2 bg-gradient-to-r from-orange-600 to-red-600 text-white font-bold text-xs px-2 py-1 rounded-full",children:[i.jsx("i",{className:"fa-solid fa-sliders mr-1"})," "]}),W<=m&&W>1&&W!==4&&W!==5&&W!==6&&W!==7&&W!==8&&W!==9&&i.jsx("div",{className:"absolute -top-2 -right-2 bg-yellow-500 text-black font-bold text-xs px-2 py-1 rounded-full",children:i.jsx("i",{className:"fa-solid fa-lock-open"})}),W>m&&i.jsx("div",{className:"absolute -top-2 -right-2 bg-gray-500 text-white font-bold text-xs px-2 py-1 rounded-full",children:i.jsx("i",{className:"fa-solid fa-lock"})})]},W))}),i.jsxs("div",{className:"flex flex-col items-center w-full max-w-md bg-black/10 backdrop-blur-md rounded-2xl p-4 border border-purple-500/05",children:[i.jsxs("div",{className:"bg-gray-800 bg-opacity-60 backdrop-blur-sm px-6 py-3 rounded-full mb-6 flex items-center justify-between w-full",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("i",{className:"fa-solid fa-trophy text-yellow-400 mr-2"}),i.jsxs("span",{className:"text-yellow-300 font-medium",children:[":  ",m]})]}),i.jsx(Np,{})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 w-full mt-4",children:[i.jsxs(di,{to:"/guidebook",className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-6 rounded-xl transition-all duration-300 flex items-center justify-center text-lg shadow-lg hover:shadow-blue-500/30 active:scale-98",children:[i.jsx("i",{className:"fa-solid fa-book mr-2"})," "]}),i.jsxs("button",{onClick:()=>{h(!1),e("/story-branch")},className:"flex-1 bg-purple-700 hover:bg-purple-600 text-white font-bold py-3 px-6 rounded-xl transition-all duration-300 flex items-center justify-center text-lg shadow-lg hover:shadow-purple-500/30 active:scale-98",children:[i.jsx("i",{className:"fa-solid fa-book-open mr-2"})," "]}),i.jsxs(di,{to:"/mail",className:"flex-1 bg-emerald-600 hover:bg-emerald-700 text-white font-bold py-3 px-6 rounded-xl transition-all duration-300 flex items-center justify-center text-lg shadow-lg hover:shadow-emerald-500/30 active:scale-98",children:[i.jsx("i",{className:"fa-solid fa-envelope mr-2"})," "]})]}),i.jsxs(di,{to:"/character-relationships",className:"mt-4 bg-gradient-to-r from-purple-700 to-indigo-700 hover:from-purple-600 hover:to-indigo-600 text-white font-bold py-3 px-6 rounded-xl transition-all duration-300 flex items-center justify-center text-lg shadow-lg hover:shadow-purple-500/30 active:scale-98 w-full",children:[i.jsx("i",{className:"fa-solid fa-users-between-lines mr-2"})," "]}),i.jsxs(T.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{h(!1),o("ready")},className:"mt-4 bg-yellow-600 hover:bg-yellow-700 text-white font-bold py-3 px-6 rounded-xl transition-all duration-300 flex items-center justify-center text-lg shadow-lg hover:shadow-yellow-500/30 active:scale-98 w-full",children:[i.jsx("i",{className:"fa-solid fa-trophy mr-2"})," "]})]}),i.jsx("div",{className:"h-16"})]})]}),i.jsx("div",{className:"hidden md:hidden absolute bottom-4 left-0 right-0 flex justify-center items-center",children:i.jsxs("div",{className:"flex items-center space-x-2 opacity-100 transition-opacity duration-500 delay-1000",children:[i.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-bounce"}),i.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),i.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})})]}):null,mt=()=>{if(f||s==="ready")return null;const{currentWave:W,totalWaves:Ne}=X.current||{currentWave:0,totalWaves:0};return i.jsxs("div",{className:"bg-black bg-opacity-70 text-white px-6 py-2 rounded-full flex items-center shadow-lg",children:[i.jsxs("span",{className:"mr-4",children:[i.jsx("i",{className:"fa-regular fa-clock mr-1"}),v]}),i.jsxs("span",{className:"mr-4",children:[" ",c]}),i.jsxs("span",{className:"mr-4",children:[" ",W,"/",Ne]}),i.jsx("span",{children:s==="playing"?"":s==="paused"?"":s==="gameover"?"":""})]})},E=()=>f||s==="ready"||s!=="gameover"&&s!=="victory"?null:i.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-80 flex flex-col items-center justify-center z-10",children:s==="victory"?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"text-6xl font-bold text-yellow-400 mb-4",children:i.jsx("i",{className:"fa-solid fa-trophy"})}),i.jsx("h2",{className:"text-4xl font-bold text-green-500 mb-4",children:"!"}),i.jsxs(i.Fragment,{children:[i.jsxs("p",{className:"text-xl text-white mb-8",children:[" ",c,"!"]}),c<3&&i.jsx("button",{onClick:()=>de(c+1),className:"bg-green-500 hover:bg-green-600 text-white font-bold py-3 px-8 rounded-lg transition-all duration-200 mb-4",children:""}),c===8&&i.jsxs("div",{className:"mt-4 text-center",children:[i.jsx("div",{className:"text-yellow-400 text-3xl mb-2",children:""}),i.jsx("p",{className:"text-white font-bold",children:""})]})]})]}):i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"text-6xl font-bold text-red-400 mb-4",children:i.jsx("i",{className:"fa-solid fa-skull"})}),i.jsx("h2",{className:"text-4xl font-bold text-red-500 mb-4",children:""}),i.jsx("p",{className:"text-xl text-white mb-8",children:"!"})]})}),Z=j.useCallback(()=>{try{const W=localStorage.getItem("pvzOnlineRooms");if(W)try{const Ne=JSON.parse(W);if(Array.isArray(Ne)){const oe=Date.now(),je=Ne.filter(He=>He&&typeof He.createdAt=="number"&&oe-He.createdAt<600*1e3);z(je),localStorage.setItem("pvzOnlineRooms",JSON.stringify(je))}else console.error("Invalid rooms data format, expected array"),z([]),localStorage.setItem("pvzOnlineRooms",JSON.stringify([]))}catch(Ne){console.error("Failed to parse game rooms:",Ne),z([]),localStorage.setItem("pvzOnlineRooms",JSON.stringify([]))}}catch(W){console.error("Error accessing localStorage for rooms:",W)}},[]),pe=j.useCallback(W=>{const Ne=localStorage.getItem("pvzOnlinePlayers"),oe=Date.now();let je=[];if(Ne)try{je=JSON.parse(Ne),je=je.filter(Lt=>Lt.name!==C)}catch(Lt){console.error("Failed to parse online players:",Lt)}const He=JSON.parse(localStorage.getItem("pvzPlayerData")||"{}");je.push({name:C,status:W,lastActive:oe,wins:He.wins||0,level:He.level||1}),localStorage.setItem("pvzOnlinePlayers",JSON.stringify(je))},[C]),Ae=j.useCallback(()=>{try{pe("online");const W=localStorage.getItem("pvzOnlinePlayers"),Ne=Date.now();if(W)try{const oe=JSON.parse(W);if(Array.isArray(oe)){const je=oe.filter(He=>He&&He.name&&He.lastActive&&He.name!==C&&Ne-He.lastActive<3e5);A(je)}else console.error("Invalid players data format, expected array"),A([])}catch(oe){console.error("Failed to parse online players:",oe),A([])}}catch(W){console.error("Error accessing localStorage for players:",W)}},[C,pe]),Me=j.useCallback(()=>{if(!C.trim()){at("");return}pe("ingame");const W=Math.random().toString(36).substring(2,10).toUpperCase(),Ne={id:W,host:C,players:[C],status:"waiting",createdAt:Date.now()},oe=[..._,Ne];localStorage.setItem("pvzOnlineRooms",JSON.stringify(oe)),z(oe),U(W),Tt(W)},[C,_,pe]),le=j.useCallback(W=>{if(!C.trim()){at("");return}pe("ingame");const Ne=_.map(oe=>oe.id===W&&oe.players.length<4?{...oe,players:[...oe.players,C]}:oe);localStorage.setItem("pvzOnlineRooms",JSON.stringify(Ne)),z(Ne),U(W),Tt(W)},[C,_,pe]),Ye=j.useCallback(W=>{if(!window.confirm(""))return;const Ne=_.filter(oe=>oe.id!==W);localStorage.setItem("pvzOnlineRooms",JSON.stringify(Ne)),z(Ne),O===W&&(U(null),$(!1),C.trim()&&pe("online")),at(` ${W} `)},[_,O,C,pe]),Tt=j.useCallback(W=>{if($(!0),he(!1),h(!1),X.current){X.current.startGame(1),o("playing"),b(H.initialSun);const Ne=setInterval(()=>{console.log("",W)},2e3);return()=>clearInterval(Ne)}},[]),qt=j.useCallback(W=>{if(!O){at("");return}at(`${W} `);const Ne=JSON.parse(localStorage.getItem("pvzPlayerInvites")||"[]");Ne.push({from:W,to:W,roomId:O,sentAt:Date.now()}),localStorage.setItem("pvzPlayerInvites",JSON.stringify(Ne))},[O]),Xn=j.useCallback(W=>{at(`: ${W.name}, : ${W.level||1}, : ${W.wins||0}`)},[]),[Ge,sn]=j.useState(""),Ta=j.useCallback(()=>{const W=_.filter(oe=>{if(!Ge.trim())return!0;const je=Ge.toLowerCase();return oe.id.toLowerCase().includes(je)||oe.host.toLowerCase().includes(je)}),Ne=R.filter(oe=>{if(!Ge.trim())return!0;const je=Ge.toLowerCase();return oe.name.toLowerCase().includes(je)});return i.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-80 z-20 overflow-hidden",children:i.jsx("div",{className:"h-full overflow-y-auto scrollbar-thin scrollbar-thumb-gray-700 scrollbar-track-transparent scroll-smooth p-6",children:i.jsxs("div",{className:"min-h-full flex flex-col items-center justify-start pt-10",children:[i.jsxs("div",{className:"mb-10 text-center",children:[i.jsx("h2",{className:"text-4xl font-bold text-purple-500 mb-3 drop-shadow-lg",children:""}),i.jsx("div",{className:"h-1 w-32 bg-gradient-to-r from-purple-400 to-purple-600 mx-auto rounded-full"})]}),i.jsxs("div",{className:"w-full max-w-md mb-6",children:[i.jsx("label",{className:"block text-white text-sm font-medium mb-2",children:""}),i.jsxs("div",{className:"relative",children:[i.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3",children:i.jsx("i",{className:"fa-solid fa-user text-gray-400"})}),i.jsx("input",{type:"text",value:C,onChange:oe=>{const je=oe.target.value;M(je),localStorage.setItem("pvzPlayerName",je),Q&&je.trim()&&pe("online")},placeholder:"",className:"w-full pl-10 pr-4 py-3 bg-gray-800 border border-gray-700 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-200",maxLength:12}),C&&i.jsx("span",{className:"absolute inset-y-0 right-0 flex items-center pr-3 text-green-400",children:i.jsx("i",{className:"fa-solid fa-check-circle"})})]})]}),i.jsxs("div",{className:"w-full max-w-md mb-8",children:[i.jsx("label",{className:"block text-white text-sm font-medium mb-2",children:""}),i.jsxs("div",{className:"relative",children:[i.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3",children:i.jsx("i",{className:"fa-solid fa-search text-gray-400"})}),i.jsx("input",{type:"text",value:Ge,onChange:oe=>sn(oe.target.value),placeholder:"ID",className:"w-full pl-10 pr-4 py-3 bg-gray-800 border border-gray-700 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200"}),Ge&&i.jsx("button",{onClick:()=>sn(""),className:"absolute inset-y-0 right-0 flex items-center pr-3 text-gray-400 hover:text-white transition-colors duration-200",children:i.jsx("i",{className:"fa-solid fa-times-circle"})})]}),Ge&&i.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:[": ",W.length," "]})]}),i.jsxs("button",{onClick:Me,className:"w-full max-w-md bg-gradient-to-r from-purple-600 to-purple-800 hover:from-purple-700 hover:to-purple-900 text-white font-bold py-4 px-6 rounded-xl transition-all duration-300 mb-8 flex items-center justify-center text-lg shadow-lg hover:shadow-purple-500/30 active:scale-98",children:[i.jsx("i",{className:"fa-solid fa-plus-circle mr-2"})," "]}),i.jsx("div",{className:"w-full max-w-md mb-6 bg-gray-800 rounded-xl p-1",children:i.jsxs("div",{className:"flex",children:[i.jsxs("button",{onClick:()=>Ce("rooms"),className:`flex-1 py-2 rounded-lg font-medium transition-all duration-200 ${Se==="rooms"?"bg-purple-600 text-white":"text-gray-300 hover:bg-gray-700"}`,children:[i.jsx("i",{className:"fa-solid fa-door-open mr-2"})," "]}),i.jsxs("button",{onClick:()=>Ce("players"),className:`flex-1 py-2 rounded-lg font-medium transition-all duration-200 ${Se==="players"?"bg-blue-600 text-white":"text-gray-300 hover:bg-gray-700"}`,children:[i.jsx("i",{className:"fa-solid fa-users mr-2"})," "]})]})}),i.jsx("div",{className:"w-full max-w-2xl",children:Se==="rooms"?i.jsxs(i.Fragment,{children:[i.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center",children:[i.jsx("i",{className:"fa-solid fa-door-open mr-2 text-purple-400"}),Ge?"":` (${W.length})`]}),i.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[i.jsx("button",{onClick:()=>sn(""),className:`px-3 py-1 rounded-full text-sm ${Ge?"bg-gray-700 text-gray-300":"bg-purple-600 text-white"}`,children:""}),i.jsxs("button",{onClick:()=>{Ce("rooms");const oe=_.filter(je=>je.status==="waiting");oe.length>0?sn(oe[0].host):at("")},className:"px-3 py-1 rounded-full text-sm bg-gray-700 text-gray-300 hover:bg-gray-600 transition-colors duration-200",children:[i.jsx("i",{className:"fa-solid fa-clock mr-1"})," "]})]}),W.length===0?i.jsxs("div",{className:"text-center py-10 text-gray-400",children:[i.jsx("div",{className:"text-4xl mb-3",children:""}),i.jsx("p",{children:Ge?"":""}),Ge&&i.jsx("button",{onClick:()=>sn(""),className:"mt-4 text-blue-400 hover:text-blue-300 transition-colors duration-200",children:""}),!Ge&&i.jsxs("button",{onClick:Me,className:"mt-4 text-green-400 hover:text-green-300 transition-colors duration-200",children:[i.jsx("i",{className:"fa-solid fa-plus-circle mr-1"})," "]})]}):i.jsx("div",{className:"space-y-4",children:W.map(oe=>i.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 border border-gray-700 hover:border-purple-500 transition-all duration-200",children:[i.jsxs("div",{className:"flex justify-between items-center mb-3",children:[i.jsxs("div",{children:[i.jsxs("h4",{className:"text-lg font-bold text-white",children:[" ",oe.id]}),i.jsxs("p",{className:"text-sm text-gray-400",children:[": ",oe.host]})]}),i.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${oe.status==="waiting"?"bg-green-900/50 text-green-400":"bg-yellow-900/50 text-yellow-400"}`,children:oe.status==="waiting"?"":""})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{className:"flex -space-x-2",children:[oe.players.map((je,He)=>i.jsx("div",{className:"w-8 h-8 rounded-full bg-purple-900 flex items-center justify-center text-xs border-2 border-gray-800",title:je,children:je.charAt(0).toUpperCase()},He)),oe.players.length<4&&i.jsxs("div",{className:"w-8 h-8 rounded-full bg-gray-700 flex items-center justify-center text-xs border-2 border-gray-800 text-gray-400",children:["+",4-oe.players.length]})]}),i.jsxs("div",{className:"flex gap-2",children:[oe.host===C&&i.jsxs("button",{onClick:()=>Ye(oe.id),className:"px-3 py-2 rounded-lg transition-all duration-200 bg-red-600 hover:bg-red-700 text-white text-sm",children:[i.jsx("i",{className:"fa-solid fa-times mr-1"})," "]}),i.jsx("button",{onClick:()=>le(oe.id),disabled:oe.status==="playing"||oe.players.length>=4,className:`px-4 py-2 rounded-lg transition-all duration-200 ${oe.status==="playing"||oe.players.length>=4?"bg-gray-700 text-gray-400 cursor-not-allowed":"bg-purple-600 hover:bg-purple-700 text-white"}`,children:""})]})]})]},oe.id))})]}):i.jsxs(i.Fragment,{children:[i.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center",children:[i.jsx("i",{className:"fa-solid fa-users mr-2 text-blue-400"}),Ge?"":` (${Ne.length})`]}),Ne.length===0?i.jsxs("div",{className:"text-center py-10 text-gray-400",children:[i.jsx("div",{className:"text-4xl mb-3",children:""}),i.jsx("p",{children:Ge?"":""}),Ge&&i.jsx("button",{onClick:()=>sn(""),className:"mt-4 text-blue-400 hover:text-blue-300 transition-colors duration-200",children:""})]}):i.jsx("div",{className:"space-y-4",children:Ne.map((oe,je)=>i.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 border border-gray-700 hover:border-blue-500 transition-all duration-200",children:[i.jsxs("div",{className:"flex justify-between items-center mb-3",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center mr-3 ${oe.status==="online"?"bg-green-900 text-green-400":oe.status==="ingame"?"bg-yellow-900 text-yellow-400":"bg-gray-700 text-gray-400"}`,children:i.jsx("i",{className:"fa-solid fa-user"})}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-lg font-bold text-white",children:oe.name}),i.jsxs("p",{className:"text-sm text-gray-400",children:[": ",oe.level||1," | : ",oe.wins||0,""]})]})]}),i.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${oe.status==="online"?"bg-green-900/50 text-green-400":oe.status==="ingame"?"bg-yellow-900/50 text-yellow-400":"bg-gray-700 text-gray-400"}`,children:oe.status==="online"?"":oe.status==="ingame"?X.current&&X.current.currentLevel===9&&zt[X.current.currentLevel]&&zt[X.current.currentLevel].isEndless?"":"":""})]}),i.jsxs("div",{className:"flex justify-end gap-2",children:[i.jsxs("button",{onClick:()=>Xn(oe),className:"px-3 py-2 rounded-lg transition-all duration-200 bg-gray-700 hover:bg-gray-600 text-white text-sm",children:[i.jsx("i",{className:"fa-solid fa-circle-info mr-1"})," "]}),oe.status==="online"&&i.jsxs("button",{onClick:()=>qt(oe.name),className:"px-3 py-2 rounded-lg transition-all duration-200 bg-blue-600 hover:bg-blue-700 text-white text-sm",children:[i.jsx("i",{className:"fa-solid fa-envelope mr-1"})," "]})]})]},je))})]})}),i.jsxs("button",{onClick:()=>{Z(),Ae()},className:"mt-6 bg-gray-800 hover:bg-gray-700 text-white font-medium py-2 px-4 rounded-lg transition-all duration-200 flex items-center",children:[i.jsx("i",{className:"fa-solid fa-arrows-rotate mr-2"})," "]}),i.jsxs("button",{onClick:()=>he(!1),className:"mt-8 text-gray-400 hover:text-white transition-colors duration-200",children:[i.jsx("i",{className:"fa-solid fa-arrow-left mr-1"})," "]}),i.jsx("div",{className:"h-16"})]})})})},[C,_,Me,le,Z,Ye,Ge]);return j.useEffect(()=>{Q&&C.trim()&&pe("online"),Z(),Ae();const W=setInterval(()=>{Z(),Ae(),Q&&C.trim()&&pe("online")},5e3);return()=>{clearInterval(W),C.trim()&&pe("away")}},[Z,Ae,Q,C,pe]),i.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-green-900 via-gray-900 to-red-900 text-white flex flex-col items-center justify-start p-4 pt-8",children:[i.jsx(T.div,{className:"fixed bottom-6 right-6 z-30",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.5,delay:1},children:i.jsx(Np,{})}),i.jsx("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-green-400 to-red-400 mb-6 md:mb-8 text-center drop-shadow-md max-w-4xl w-full opacity-90",children:""}),i.jsxs("div",{className:"relative w-full max-w-5xl flex flex-col items-center mb-8 flex-grow",children:[i.jsx("div",{className:"mb-3 z-10 w-full opacity-85",children:mt()}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-green-900/20 via-black/50 to-red-900/20 pointer-events-none rounded-xl"}),i.jsx("div",{className:"absolute top-1/4 left-1/4 w-64 h-64 bg-green-500 rounded-full mix-blend-multiply filter blur-3xl opacity-5 animate-pulse"}),i.jsx("div",{className:"absolute bottom-1/3 right-1/4 w-64 h-64 bg-red-500 rounded-full mix-blend-multiply filter blur-3xl opacity-5 animate-pulse animation-delay-2000"}),i.jsx("canvas",{ref:t,className:"w-full h-auto rounded-xl shadow-[0_0_30px_rgba(34,139,34,0.25)] border-2 border-green-800/50 bg-black relative overflow-hidden",style:{minHeight:"400px",maxHeight:"600px",backgroundImage:"linear-gradient(to right bottom, rgba(34, 139, 34, 0.05), rgba(139, 0, 0, 0.05))"}}),s==="ready"&&i.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none bg-black/30 backdrop-blur-sm z-10",children:i.jsx(T.div,{animate:{scale:[1,1.2,1],rotate:[0,360]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},className:"text-green-400 text-6xl",children:i.jsx("i",{className:"fa-solid fa-seedling"})})}),i.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-20 bg-gradient-to-t from-black to-transparent pointer-events-none"}),i.jsx("div",{className:"absolute top-0 left-0 right-0 h-20 bg-gradient-to-b from-black to-transparent pointer-events-none"}),Fe(),We(),E(),i.jsx("div",{className:"opacity-85",children:Re()}),i.jsx("div",{className:"opacity-85",children:Oe()})]}),i.jsxs("div",{className:"mt-4 mb-6 text-gray-400 text-center max-w-xl w-full",children:[i.jsxs("p",{className:"mb-3 leading-relaxed",children:[i.jsx("i",{className:"fa-solid fa-lightbulb mr-2 text-yellow-400"}),": !"]}),i.jsxs("p",{className:"leading-relaxed",children:[i.jsx("i",{className:"fa-solid fa-shield-halved mr-2 text-blue-400"}),"!"]})]}),!f&&s!=="playing"&&i.jsx("div",{className:"mt-6 mb-12 w-full max-w-4xl",children:i.jsxs(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"bg-gray-800 bg-opacity-80 backdrop-blur-sm rounded-xl p-6 border border-gray-700 shadow-xl",children:[i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between mb-8",children:[i.jsxs("h2",{className:"text-2xl font-bold text-yellow-400 flex items-center mb-4 md:mb-0",children:[i.jsx("i",{className:"fa-solid fa-trophy mr-3 text-xl"}),""]}),i.jsx("div",{className:"bg-gray-900 rounded-lg p-4 border border-gray-700 w-full md:w-auto",children:i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between",children:[i.jsxs("div",{className:"mb-3 md:mb-0 mr-0 md:mr-6",children:[i.jsx("div",{className:"text-sm text-gray-400 mb-1",children:""}),i.jsxs("div",{className:"text-3xl font-bold text-yellow-400",children:[Math.round(Object.values(((mr=X.current)==null?void 0:mr.achievements)||{}).filter(W=>W).length/Object.keys(((Kr=X.current)==null?void 0:Kr.achievements)||{}).length*100),"%"]})]}),i.jsxs("div",{className:"w-full md:w-48",children:[i.jsxs("div",{className:"flex justify-between items-center mb-1",children:[i.jsx("span",{className:"text-sm text-gray-400",children:""}),i.jsxs("span",{className:"text-sm text-white",children:[Object.values(((pr=X.current)==null?void 0:pr.achievements)||{}).filter(W=>W).length," / ",Object.keys(((wn=X.current)==null?void 0:wn.achievements)||{}).length]})]}),i.jsx("div",{className:"w-full bg-gray-700 rounded-full h-3",children:i.jsx(T.div,{initial:{width:0},animate:{width:`${Object.values(((Gr=X.current)==null?void 0:Gr.achievements)||{}).filter(W=>W).length/Object.keys(((Rn=X.current)==null?void 0:Rn.achievements)||{}).length*100}%`},transition:{duration:1,ease:"easeOut"},className:"bg-gradient-to-r from-yellow-600 to-yellow-400 h-3 rounded-full"})})]})]})})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-5 mb-8",children:[i.jsxs(T.div,{whileHover:{scale:1.03,boxShadow:"0 10px 25px -5px rgba(255, 215, 0, 0.2)"},transition:{type:"spring",stiffness:300},className:`p-5 rounded-xl transition-all duration-300 ${(Dn=X.current)!=null&&Dn.achievements.light_awakening?"bg-gradient-to-br from-yellow-900/50 to-yellow-700/30 border border-yellow-600/50 shadow-lg shadow-yellow-900/20":"bg-gray-900 border border-gray-700 hover:border-gray-600"}`,children:[i.jsxs("div",{className:"flex justify-between items-start mb-4",children:[i.jsx(T.div,{animate:{rotate:(Ea=X.current)!=null&&Ea.achievements.light_awakening?[0,15,-15,15,0]:0},transition:{duration:(Xr=X.current)!=null&&Xr.achievements.light_awakening?.5:0},className:`w-12 h-12 rounded-full flex items-center justify-center ${(Zr=X.current)!=null&&Zr.achievements.light_awakening?"bg-yellow-500 text-black":"bg-gray-700 text-gray-400"}`,children:i.jsx("i",{className:"fa-solid fa-trophy text-xl"})}),i.jsx("div",{className:`text-sm font-medium px-2 py-1 rounded-full ${(Ma=X.current)!=null&&Ma.achievements.light_awakening?"bg-green-900/50 text-green-400":"bg-gray-700 text-gray-400"}`,children:(gr=X.current)!=null&&gr.achievements.light_awakening?"":""})]}),i.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:""}),i.jsx("p",{className:"text-gray-400 text-sm mb-3",children:""}),i.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[i.jsx("span",{className:"text-xs bg-blue-900/30 text-blue-300 px-2 py-1 rounded-full",children:""}),i.jsx("span",{className:"text-xs bg-green-900/30 text-green-300 px-2 py-1 rounded-full",children:""})]}),((xr=X.current)==null?void 0:xr.achievements.light_awakening)&&i.jsxs("div",{className:"text-xs text-yellow-400/80",children:[i.jsx("i",{className:"fa-solid fa-calendar-check mr-1"}),""]})]}),i.jsxs(T.div,{whileHover:{scale:1.03,boxShadow:"0 10px 25px -5px rgba(255, 215, 0, 0.2)"},transition:{type:"spring",stiffness:300},className:`p-5 rounded-xl transition-all duration-300 ${(yr=X.current)!=null&&yr.achievements.sun_avatar?"bg-gradient-to-br from-yellow-900/50 to-yellow-700/30 border border-yellow-600/50 shadow-lg shadow-yellow-900/20":"bg-gray-900 border border-gray-700 hover:border-gray-600"}`,children:[i.jsxs("div",{className:"flex justify-between items-start mb-4",children:[i.jsx(T.div,{animate:{boxShadow:(B=X.current)!=null&&B.achievements.sun_avatar?["0 0 0px rgba(255, 215, 0, 0)","0 0 20px rgba(255, 215, 0, 0.7)","0 0 0px rgba(255, 215, 0, 0)"]:"none"},transition:{duration:(re=X.current)!=null&&re.achievements.sun_avatar?2:0,repeat:1/0},className:`w-12 h-12 rounded-full flex items-center justify-center ${(ue=X.current)!=null&&ue.achievements.sun_avatar?"bg-yellow-500 text-black":"bg-gray-700 text-gray-400"}`,children:i.jsx("i",{className:"fa-solid fa-sun text-xl"})}),i.jsx("div",{className:`text-sm font-medium px-2 py-1 rounded-full ${(te=X.current)!=null&&te.achievements.sun_avatar?"bg-green-900/50 text-green-400":"bg-gray-700 text-gray-400"}`,children:(me=X.current)!=null&&me.achievements.sun_avatar?"":""})]}),i.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:""}),i.jsx("p",{className:"text-gray-400 text-sm mb-2",children:"1000"}),i.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2 mb-2",children:i.jsx("div",{className:`h-2 rounded-full transition-all duration-1000 ${(ce=X.current)!=null&&ce.achievements.sun_avatar?"bg-yellow-500":"bg-yellow-700"}`,style:{width:X.current?`${Math.min((X.current.totalSunsCollected||0)/1e3*100,100)}%`:"0%"}})}),i.jsxs("div",{className:"text-xs text-gray-500 mb-3",children:[((we=X.current)==null?void 0:we.totalSunsCollected)||0,"/1000"]}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsx("span",{className:"text-xs bg-yellow-900/30 text-yellow-300 px-2 py-1 rounded-full",children:""}),i.jsx("span",{className:"text-xs bg-orange-900/30 text-orange-300 px-2 py-1 rounded-full",children:""})]})]}),i.jsxs(T.div,{whileHover:{scale:1.03,boxShadow:"0 10px 25px -5px rgba(255, 215, 0, 0.2)"},transition:{type:"spring",stiffness:300},className:`p-5 rounded-xl transition-all duration-300 ${(Xe=X.current)!=null&&Xe.achievements.shadow_hunter?"bg-gradient-to-br from-yellow-900/50 to-yellow-700/30 border border-yellow-600/50 shadow-lg shadow-yellow-900/20":"bg-gray-900 border border-gray-700 hover:border-gray-600"}`,children:[i.jsxs("div",{className:"flex justify-between items-start mb-4",children:[i.jsx(T.div,{animate:{opacity:(on=X.current)!=null&&on.achievements.shadow_hunter?[1,.7,1]:1},transition:{duration:(ln=X.current)!=null&&ln.achievements.shadow_hunter?1:0,repeat:1/0},className:`w-12 h-12 rounded-full flex items-center justify-center ${(Ze=X.current)!=null&&Ze.achievements.shadow_hunter?"bg-yellow-500 text-black":"bg-gray-700 text-gray-400"}`,children:i.jsx("i",{className:"fa-solid fa-skull text-xl"})}),i.jsx("div",{className:`text-sm font-medium px-2 py-1 rounded-full ${(cn=X.current)!=null&&cn.achievements.shadow_hunter?"bg-green-900/50 text-green-400":"bg-gray-700 text-gray-400"}`,children:(Zn=X.current)!=null&&Zn.achievements.shadow_hunter?"":""})]}),i.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:""}),i.jsx("p",{className:"text-gray-400 text-sm mb-2",children:"100"}),i.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2 mb-2",children:i.jsx("div",{className:`h-2 rounded-full transition-all duration-1000 ${(jn=X.current)!=null&&jn.achievements.shadow_hunter?"bg-red-500":"bg-red-700"}`,style:{width:X.current?`${Math.min((X.current.totalZombiesKilled||0)/100*100,100)}%`:"0%"}})}),i.jsxs("div",{className:"text-xs text-gray-500 mb-3",children:[((_i=X.current)==null?void 0:_i.totalZombiesKilled)||0,"/100"]}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsx("span",{className:"text-xs bg-red-900/30 text-red-300 px-2 py-1 rounded-full",children:""}),i.jsx("span",{className:"text-xs bg-orange-900/30 text-orange-300 px-2 py-1 rounded-full",children:""})]})]}),i.jsxs(T.div,{whileHover:{scale:1.03,boxShadow:"0 10px 25px -5px rgba(255, 215, 0, 0.2)"},transition:{type:"spring",stiffness:300},className:`p-5 rounded-xl transition-all duration-300 ${(Qn=X.current)!=null&&Qn.achievements.unbreakable_light?"bg-gradient-to-br from-yellow-900/50 to-yellow-700/30 border border-yellow-600/50 shadow-lg shadow-yellow-900/20":"bg-gray-900 border border-gray-700 hover:border-gray-600"}`,children:[i.jsxs("div",{className:"flex justify-between items-start mb-4",children:[i.jsx(T.div,{animate:{boxShadow:(Qr=X.current)!=null&&Qr.achievements.unbreakable_light?["0 0 0px rgba(0, 255, 0, 0)","0 0 20px rgba(0, 255, 0, 0.7)","0 0 0px rgba(0, 255, 0, 0)"]:"none"},transition:{duration:(Jr=X.current)!=null&&Jr.achievements.unbreakable_light?2:0,repeat:1/0},className:`w-12 h-12 rounded-full flex items-center justify-center ${(Aa=X.current)!=null&&Aa.achievements.unbreakable_light?"bg-yellow-500 text-black":"bg-gray-700 text-gray-400"}`,children:i.jsx("i",{className:"fa-solid fa-shield-halved text-xl"})}),i.jsx("div",{className:`text-sm font-medium px-2 py-1 rounded-full ${(Gs=X.current)!=null&&Gs.achievements.unbreakable_light?"bg-green-900/50 text-green-400":"bg-gray-700 text-gray-400"}`,children:(Xs=X.current)!=null&&Xs.achievements.unbreakable_light?"":""})]}),i.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:""}),i.jsx("p",{className:"text-gray-400 text-sm mb-3",children:""}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsx("span",{className:"text-xs bg-purple-900/30 text-purple-300 px-2 py-1 rounded-full",children:""}),i.jsx("span",{className:"text-xs bg-red-900/30 text-red-300 px-2 py-1 rounded-full",children:""})]}),((Zs=X.current)==null?void 0:Zs.achievements.unbreakable_light)&&i.jsxs("div",{className:"text-xs text-yellow-400/80 mt-2",children:[i.jsx("i",{className:"fa-solid fa-calendar-check mr-1"}),""]})]}),i.jsxs(T.div,{whileHover:{scale:1.03,boxShadow:"0 10px 25px -5px rgba(255, 215, 0, 0.2)"},transition:{type:"spring",stiffness:300},className:`p-5 rounded-xl transition-all duration-300 ${(Ln=X.current)!=null&&Ln.achievements.light_descend?"bg-gradient-to-br from-purple-900/50 to-purple-700/30 border border-purple-600/50 shadow-lg shadow-purple-900/20":"bg-gray-900 border border-gray-700 hover:border-gray-600"}`,children:[i.jsxs("div",{className:"flex justify-between items-start mb-4",children:[i.jsx(T.div,{animate:{boxShadow:(Ci=X.current)!=null&&Ci.achievements.light_descend?["0 0 0px rgba(128, 0, 128, 0)","0 0 20px rgba(128, 0, 128, 0.7)","0 0 0px rgba(128, 0, 128, 0)"]:"none"},transition:{duration:(zi=X.current)!=null&&zi.achievements.light_descend?2:0,repeat:1/0},className:`w-12 h-12 rounded-full flex items-center justify-center ${(Qs=X.current)!=null&&Qs.achievements.light_descend?"bg-purple-500 text-white":"bg-gray-700 text-gray-400"}`,children:i.jsx("i",{className:"fa-solid fa-angel text-xl"})}),i.jsx("div",{className:`text-sm font-medium px-2 py-1 rounded-full ${(Ti=X.current)!=null&&Ti.achievements.light_descend?"bg-green-900/50 text-green-400":"bg-gray-700 text-gray-400"}`,children:(Pi=X.current)!=null&&Pi.achievements.light_descend?"":""})]}),i.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:""}),i.jsx("p",{className:"text-gray-400 text-sm mb-3",children:""}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsx("span",{className:"text-xs bg-purple-900/30 text-purple-300 px-2 py-1 rounded-full",children:""}),i.jsx("span",{className:"text-xs bg-orange-900/30 text-orange-300 px-2 py-1 rounded-full",children:""})]}),((Ei=X.current)==null?void 0:Ei.achievements.light_descend)&&i.jsxs("div",{className:"text-xs text-yellow-400/80 mt-2",children:[i.jsx("i",{className:"fa-solid fa-calendar-check mr-1"}),""]})]}),i.jsxs(T.div,{whileHover:{scale:1.03,boxShadow:"0 10px 25px -5px rgba(255, 215, 0, 0.2)"},transition:{type:"spring",stiffness:300},className:`p-5 rounded-xl transition-all duration-300 ${(Mi=X.current)!=null&&Mi.achievements.shancat_redemption?"bg-gradient-to-br from-blue-900/50 to-blue-700/30 border border-blue-600/50 shadow-lg shadow-blue-900/20":"bg-gray-900 border border-gray-700 hover:border-gray-600"}`,children:[i.jsxs("div",{className:"flex justify-between items-start mb-4",children:[i.jsx(T.div,{animate:{rotate:(Js=X.current)!=null&&Js.achievements.shancat_redemption?[0,10,-10,10,0]:0},transition:{duration:(eo=X.current)!=null&&eo.achievements.shancat_redemption?.5:0},className:`w-12 h-12 rounded-full flex items-center justify-center ${(nt=X.current)!=null&&nt.achievements.shancat_redemption?"bg-blue-500 text-white":"bg-gray-700 text-gray-400"}`,children:i.jsx("i",{className:"fa-solid fa-cat text-xl"})}),i.jsx("div",{className:`text-sm font-medium px-2 py-1 rounded-full ${(to=X.current)!=null&&to.achievements.shancat_redemption?"bg-green-900/50 text-green-400":"bg-gray-700 text-gray-400"}`,children:(Ia=X.current)!=null&&Ia.achievements.shancat_redemption?"":""})]}),i.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:""}),i.jsx("p",{className:"text-gray-400 text-sm mb-3",children:""}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsx("span",{className:"text-xs bg-blue-900/30 text-blue-300 px-2 py-1 rounded-full",children:""}),i.jsx("span",{className:"text-xs bg-orange-900/30 text-orange-300 px-2 py-1 rounded-full",children:""})]}),((Ai=X.current)==null?void 0:Ai.achievements.shancat_redemption)&&i.jsxs("div",{className:"text-xs text-yellow-400/80 mt-2",children:[i.jsx("i",{className:"fa-solid fa-calendar-check mr-1"}),""]})]}),i.jsxs(T.div,{whileHover:{scale:1.03,boxShadow:"0 10px 25px -5px rgba(255, 215, 0, 0.2)"},transition:{type:"spring",stiffness:300},className:`p-5 rounded-xl transition-all duration-300 ${(ea=X.current)!=null&&ea.achievements.su_huai_fall?"bg-gradient-to-br from-red-900/50 to-red-700/30 border border-red-600/50 shadow-lg shadow-red-900/20":"bg-gray-900 border border-gray-700 hover:border-gray-600"}`,children:[i.jsxs("div",{className:"flex justify-between items-start mb-4",children:[i.jsx(T.div,{animate:{boxShadow:(no=X.current)!=null&&no.achievements.su_huai_fall?["0 0 0px rgba(255, 0, 0, 0)","0 0 20px rgba(255, 0, 0, 0.7)","0 0 0px rgba(255, 0, 0, 0)"]:"none"},transition:{duration:(Ii=X.current)!=null&&Ii.achievements.su_huai_fall?2:0,repeat:1/0},className:`w-12 h-12 rounded-full flex items-center justify-center ${(ta=X.current)!=null&&ta.achievements.su_huai_fall?"bg-red-500 text-white":"bg-gray-700 text-gray-400"}`,children:i.jsx("i",{className:"fa-solid fa-ghost text-xl"})}),i.jsx("div",{className:`text-sm font-medium px-2 py-1 rounded-full ${(Jt=X.current)!=null&&Jt.achievements.su_huai_fall?"bg-green-900/50 text-green-400":"bg-gray-700 text-gray-400"}`,children:(ro=X.current)!=null&&ro.achievements.su_huai_fall?"":""})]}),i.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:""}),i.jsx("p",{className:"text-gray-400 text-sm mb-3",children:""}),i.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2 mb-2",children:i.jsx("div",{className:`h-2 rounded-full transition-all duration-1000 ${(Wt=X.current)!=null&&Wt.achievements.su_huai_fall?"bg-red-500":"bg-red-700"}`,style:{width:X.current?`${Math.min((X.current.totalZombiesKilled||0)/10*100,100)}%`:"0%"}})}),i.jsxs("div",{className:"text-xs text-gray-500 mb-3",children:[((ao=X.current)==null?void 0:ao.totalZombiesKilled)||0,"/10"]}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsx("span",{className:"text-xs bg-red-900/30 text-red-300 px-2 py-1 rounded-full",children:""}),i.jsx("span",{className:"text-xs bg-red-900/30 text-red-300 px-2 py-1 rounded-full",children:""})]})]})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row justify-between gap-4",children:[i.jsxs(T.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-6 rounded-lg transition-all duration-300 flex items-center justify-center shadow-lg hover:shadow-blue-500/30",onClick:()=>at(""),children:[i.jsx("i",{className:"fa-solid fa-share-nodes mr-2"})," "]}),i.jsxs(T.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Te,className:"bg-gray-700 hover:bg-gray-600 text-white font-bold py-3 px-6 rounded-lg transition-all duration-300 flex items-center justify-center shadow-lg hover:shadow-gray-500/30",children:[i.jsx("i",{className:"fa-solid fa-arrow-left mr-2"})," "]})]})]})}),Q&&Ta(),Ie&&i.jsx(p5,{level:c,onConfirm:se,onCancel:()=>{De(!1),h(!0)},isHighIntensity:((io=zt[c])==null?void 0:io.isHighIntensityCustom)||!1}),S&&i.jsx(x5,{onConfirm:W=>{if(N(!1),X.current)try{X.current.selectedZombies=W,X.current.startGame(c),o("playing"),b(H.initialSun)}catch(Ne){console.error(":",Ne),at(""),N(!0)}else console.error(""),at(""),N(!0)},onCancel:()=>{N(!1),De(!0)},isHighIntensity:((so=zt[c])==null?void 0:so.isHighIntensityCustom)||!1}),i.jsx(_5,{gameState:{currentWave:((na=X.current)==null?void 0:na.currentWave)||0,totalWaves:((ra=X.current)==null?void 0:ra.totalWaves)||0,gameStatus:s,selectedLevel:c,totalZombiesKilled:((br=X.current)==null?void 0:br.totalZombiesKilled)||0,plants:((aa=X.current)==null?void 0:aa.plants)||[],sunCount:y}})]});function Pa(W,Ne){return{qingyuan:"",shancatleader:"",xuqinglan:"",yijiu:"",xuqinglan_god:"",xuqinglan_dream:"",mumu:""}[W]||Ne.substring(0,15)+"..."}}function E5(){const e=An(),[n,t]=j.useState("plants"),[s,o]=j.useState(""),[c,u]=j.useState(""),[f,h]=j.useState(null),[m,p]=j.useState(!1),[y,b]=j.useState(!1),[v,k]=j.useState(!1),[S,N]=j.useState("type"),[C,M]=j.useState(!1),[_,z]=j.useState(qe),[R,A]=j.useState(ht);j.useEffect(()=>{try{const E=localStorage.getItem("pvzPlants"),Z=localStorage.getItem("pvzZombies");E&&z(JSON.parse(E)),Z&&A(JSON.parse(Z)),M(!0)}catch(E){console.error(":",E),M(!0)}},[]),j.useEffect(()=>{if(C)try{localStorage.setItem("pvzPlants",JSON.stringify(_)),localStorage.setItem("pvzZombies",JSON.stringify(R))}catch(E){console.error(":",E)}},[C,_,R]),j.useEffect(()=>{const E=setInterval(()=>{if(C)try{localStorage.setItem("pvzPlants",JSON.stringify(_)),localStorage.setItem("pvzZombies",JSON.stringify(R)),console.log("")}catch(Z){console.error(":",Z)}},3e4);return()=>clearInterval(E)},[C,_,R]);const O=["","","",""],U=["","BOSS","BOSS"],Y=["","","","","","","","",""],$=()=>({plants:{...qe,..._},zombies:{...ht,...R}}),Q=E=>E?E.name.includes("")&&!E.name.includes("")&&!E.name.includes("")||E.name===""||E.name.includes("Vexithra")||E.name===""?"":E.name===""||E.name===""||E.name===""||E.name===""||E.name===""?"":E.name===""||E.name===""?"":E.name===""||E.name===""?"":E.name===""||E.name===""||E.name===""||E.name===""||E.name===""||E.name===""||E.name===""||E.name===""||E.name===""||E.name===""||E.name===""||E.name===""?"":E.name===""?"":E.name===""?"":"":"",he=(E,Z)=>E==="xuqinglan_dark"||E==="vexithra"||E==="xian"?"":E==="su_huai"||E==="cat_leader"||E==="ji_zai"||E==="li_huo"||E==="xia"||E==="alibi"||E==="qiuyue"?"":E==="shantao"||E==="shilie_lingxi"?"":E==="longzunjiyan"||E==="xingtianzhenyang"||E==="xuanye"||E==="shangyao"||E==="zichen"||E==="youyinglingxi"?"":"",Se=Object.values($().plants).filter(E=>{if(!E)return!1;const Z=E.name.toLowerCase().includes(c.toLowerCase())||E.description&&E.description.toLowerCase().includes(c.toLowerCase());return S==="type"?(s===""||E.category===s)&&Z:(s===""||Q(E)===s)&&Z}),Ce=Object.entries($().zombies).filter(([E,Z])=>{if(!Z)return!1;const pe=Z.name.toLowerCase().includes(c.toLowerCase())||Z.description&&Z.description.toLowerCase().includes(c.toLowerCase());return S==="type"?s===""?pe:s==="BOSS"||s==="BOSS"?["su_huai","vexithra","xuqinglan_dark","qiuyue","shantao","ji_zai","li_huo","cat_leader","alibi","xian","xia","shilie_lingxi","longzunjiyan","xingtianzhenyang","xuanye","shangyao","zichen","youyinglingxi"].includes(E)&&pe:Z.difficulty===s&&pe:(s===""||he(E)===s)&&pe}).map(([E,Z])=>Z),Ie=E=>{switch(E){case"":return"bg-green-500";case"":return"bg-blue-500";case"":return"bg-purple-500";case"":return"bg-orange-500";case"":return"bg-gradient-to-r from-cyan-500 to-blue-500";case"":return"bg-gradient-to-r from-blue-700 to-indigo-800";default:return"bg-gray-500"}},De=E=>{switch(E){case"":return"from-green-900/50 to-green-800/20";case"":return"from-blue-900/50 to-blue-800/20";case"":return"from-purple-900/50 to-purple-800/20";case"":return"from-orange-900/50 to-orange-800/20";case"":return"from-cyan-900/50 to-blue-800/20";case"":return"from-blue-900/50 to-indigo-800/20";default:return"from-gray-900/50 to-gray-800/20"}},be=E=>{switch(E){case"":return"bg-green-500";case"":return"bg-yellow-500";case"":return"bg-orange-500";case"":return"bg-red-500";default:return"bg-gray-500"}},K=E=>{const Z=$();n==="plants"?Z.plants[E]:Z.zombies[E],h(E),p(!0),window.scrollTo({top:0,behavior:"smooth"})},de=()=>{p(!1),h(null)},se=E=>E&&E<=3,L={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.05,delayChildren:.1}}},G={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{type:"spring",stiffness:100}}},Te=()=>{b(!0),document.body.classList.add("overflow-hidden")},Pe=()=>{b(!1),document.body.classList.remove("overflow-hidden")};j.useEffect(()=>{const E=Z=>{Z.key==="Escape"&&(m?de():y&&Pe())};return window.addEventListener("keydown",E),()=>window.removeEventListener("keydown",E)},[m,y]);const Le=()=>lt.length>0?lt[0]:null,Re=E=>{const Z=new Date(E),Ae=Math.abs(new Date().getTime()-Z.getTime()),Me=Math.floor(Ae/(1e3*60*60*24));return Me===0?"":Me===1?"":Me<7?`${Me}`:Z.toLocaleDateString("zh-CN")},Fe=()=>({version:`v${lt.length}.0`,lastUpdated:Le()?Re(Le().date):"",updateCount:lt.length}),Oe=(E,Z,pe)=>{const Ae=pe?$().plants[Z]:$().zombies[Z];if(!Ae)return{item:{name:"",description:"",rarity:""},itemType:Z,config:null,isPlant:pe,categoryTag:pe?"":"BOSS",uniqueKey:`${pe?"plant":"zombie"}_unknown_${Z}`};let Me="";if(pe){const le=Ae;le.damage!==void 0?Me="":le.health>=1e3||le.category&&le.category.includes("")?Me="":le.category&&le.category.includes("")||le.specialEffect&&le.specialEffect.includes("")||le.name.includes("")?Me="":le.specialEffect&&(le.specialEffect.includes("")||le.specialEffect.includes(""))||le.category&&le.category.includes("")?Me="":Me=""}else Me="BOSS";return{item:E,itemType:Z,config:Ae,isPlant:pe,categoryTag:Me,uniqueKey:`${pe?"plant":"zombie"}_${E.name||"unknown"}_${Z}`}},We=()=>{if(window.confirm(""))try{z(qe),A(ht),localStorage.setItem("pvzPlants",JSON.stringify(qe)),localStorage.setItem("pvzZombies",JSON.stringify(ht)),console.log("")}catch(E){console.error(":",E)}},mt=j.useMemo(()=>{const E=[];return Array.isArray(Se)&&Se.forEach(Z=>{if(!Z)return;const pe=Object.keys($().plants).find(Ae=>{const Me=$().plants[Ae];return Me?Z.name.includes("Vexithra")&&Me.name.includes("Vexithra")?!0:Me.name===Z.name:!1});if(pe){const Ae=Oe(Z,pe,!0);E.push(Ae)}}),Array.isArray(Ce)&&Ce.forEach(Z=>{if(!Z)return;const pe=Object.keys($().zombies).find(Ae=>{const Me=$().zombies[Ae];return Me?Me.name===Z.name:!1});if(pe){const Ae=Oe(Z,pe,!1);E.push(Ae)}}),Array.isArray(E)?E.map(({item:Z,itemType:pe,config:Ae,isPlant:Me,categoryTag:le,uniqueKey:Ye})=>{if(!Z||!Ae)return null;const Tt=qt=>{qt.preventDefault(),qt.stopPropagation(),K(pe)};return i.jsxs(T.div,{variants:G,whileHover:{scale:1.03,boxShadow:`0 20px 25px -5px ${Me?"rgba(34, 139, 34, 0.3)":"rgba(220, 20, 60, 0.3)"}`,zIndex:10},whileTap:{scale:.98},className:`bg-gradient-to-br ${Me?De(Z.rarity):"from-red-900/50 to-red-800/20"} rounded-xl overflow-hidden shadow-lg border border-gray-700 flex flex-col h-full transition-all duration-300 cursor-pointer hover:cursor-pointer`,layoutId:`item-card-${Ye}`,onClick:Tt,children:[i.jsxs("div",{className:"h-48 overflow-hidden relative",children:[i.jsx(T.img,{src:Me?Vr[pe]:Br[pe],alt:Z.name,className:"w-full h-full object-cover object-center",loading:"lazy",whileHover:{scale:1.1},transition:{duration:.7}}),Me?i.jsx("div",{className:`absolute top-3 right-3 text-xs font-bold px-2 py-1 rounded-full ${Ie(Z.rarity)} shadow-md`,children:Z.rarity}):i.jsx("div",{className:`absolute top-3 right-3 text-xs font-bold px-2 py-1 rounded-full ${be(Z.difficulty)} shadow-md`,children:Z.difficulty}),i.jsx("div",{className:"absolute top-3 left-3 text-xs font-bold px-2 py-1 rounded-full bg-blue-600 text-white shadow-md",children:le}),i.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-24 bg-gradient-to-t from-gray-900 to-transparent"})]}),i.jsxs("div",{className:"p-5 flex-grow flex flex-col",children:[Z.quote&&i.jsxs(T.div,{className:"mb-3 p-3 bg-gray-800/50 rounded-lg border border-gray-700 italic text-gray-300 text-sm relative overflow-hidden",initial:{opacity:0,y:10},whileInView:{opacity:1,y:0},transition:{duration:.5},children:[i.jsx("div",{className:"absolute top-0 left-0 w-8 h-8 text-3xl text-gray-700 opacity-30",children:'"'}),i.jsx("div",{className:"relative z-10 pl-4",children:Z.quote}),i.jsx("div",{className:"absolute bottom-0 right-0 w-8 h-8 text-3xl text-gray-700 opacity-30",children:'"'})]}),Me?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex justify-between items-center mb-3",children:[i.jsx("h3",{className:"text-xl font-bold text-green-400",children:Z.name}),i.jsxs("span",{className:"bg-yellow-500 text-black font-bold px-3 py-1 rounded-full flex items-center",children:[i.jsx("i",{className:"fa-solid fa-sun mr-1"})," ",Z.cost]})]}),i.jsx("p",{className:"text-gray-300 mb-4 line-clamp-2 flex-grow",children:Z.description}),i.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[i.jsxs("div",{className:"bg-gray-800/80 p-2 rounded-lg",children:[i.jsx("span",{className:"text-gray-400 block",children:""}),i.jsx("span",{className:"font-bold text-white",children:Z.health})]}),i.jsxs("div",{className:"bg-gray-800/80 p-2 rounded-lg",children:[i.jsx("span",{className:"text-gray-400 block",children:""}),i.jsxs("span",{className:"font-bold text-white",children:[Z.cooldown/1e3,""]})]}),Z.damage&&i.jsxs("div",{className:"bg-gray-800/80 p-2 rounded-lg",children:[i.jsx("span",{className:"text-gray-400 block",children:""}),i.jsx("span",{className:"font-bold text-white",children:Z.damage})]}),Z.attackSpeed&&i.jsxs("div",{className:"bg-gray-800/80 p-2 rounded-lg",children:[i.jsx("span",{className:"text-gray-400 block",children:""}),i.jsxs("span",{className:"font-bold text-white",children:[Z.attackSpeed/1e3,"/"]})]})]})]}):i.jsxs(i.Fragment,{children:[i.jsx("h3",{className:"text-xl font-bold text-red-400 mb-3",children:Z.name}),i.jsx("p",{className:"text-gray-300 mb-4 line-clamp-2 flex-grow",children:Z.description}),i.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[i.jsxs("div",{className:"bg-gray-800/80 p-2 rounded-lg",children:[i.jsx("span",{className:"text-gray-400 block",children:""}),i.jsx("span",{className:"font-bold text-white",children:Z.health})]}),i.jsxs("div",{className:"bg-gray-800/80 p-2 rounded-lg",children:[i.jsx("span",{className:"text-gray-400 block",children:""}),i.jsx("span",{className:"font-bold text-white",children:typeof Z.speed=="number"?Z.speed.toFixed(1):""})]}),i.jsxs("div",{className:"bg-gray-800/80 p-2 rounded-lg",children:[i.jsx("span",{className:"text-gray-400 block",children:""}),i.jsx("span",{className:"font-bold text-white",children:Z.damage})]}),Z.armor&&i.jsxs("div",{className:"bg-gray-800/80 p-2 rounded-lg",children:[i.jsx("span",{className:"text-gray-400 block",children:""}),i.jsx("span",{className:"font-bold text-white",children:Z.armor})]})]})]}),i.jsxs("button",{onClick:qt=>{qt.stopPropagation(),K(pe)},className:`mt-4 w-full bg-gradient-to-r ${Me?"from-green-600 to-green-500 hover:from-green-700 hover:to-green-600":"from-red-600 to-red-500 hover:from-red-700 hover:to-red-600"} text-white font-medium py-2 rounded-lg transition-all duration-300 flex items-center justify-center`,children:[i.jsx("i",{className:"fa-solid fa-info-circle mr-2"}),""]})]})]},Ye)}):null},[Se,Ce,$,Oe,Ie,be,De,G,Vr,Br,K]);return i.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-green-900 via-gray-900 to-red-900 text-white p-4 md:p-8",children:[i.jsxs("div",{className:"relative overflow-hidden mb-8",children:[i.jsxs(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8},className:"bg-gradient-to-r from-green-900/80 via-black/50 to-red-900/80 backdrop-blur-sm p-6 rounded-xl shadow-2xl border border-gray-700 mb-8 overflow-hidden relative",children:[i.jsx("h2",{className:"text-2xl font-bold text-center mb-4 text-transparent bg-clip-text bg-gradient-to-r from-green-400 to-red-400",children:""}),i.jsxs("div",{className:`relative transition-all duration-500 overflow-hidden ${v?"max-h-[2000px]":"max-h-36"}`,children:[i.jsx("p",{className:"text-gray-300 leading-relaxed",children:'""'}),i.jsx("p",{className:"text-gray-300 leading-relaxed mt-3",children:""}),i.jsx("p",{className:"text-gray-300 leading-relaxed mt-3",children:'""'}),i.jsx("p",{className:"text-gray-300 leading-relaxed mt-3",children:`"''"`}),i.jsx("p",{className:"text-gray-300 leading-relaxed mt-3",children:`"''''"`}),i.jsx("p",{className:"text-gray-300 leading-relaxed mt-3",children:""}),i.jsx("p",{className:"text-gray-300 leading-relaxed mt-3",children:""}),i.jsx("p",{className:"text-gray-300 leading-relaxed mt-3",children:" "}),i.jsx("p",{className:"text-gray-300 leading-relaxed mt-3",children:' """"'}),i.jsx("p",{className:"text-gray-300 leading-relaxed mt-3",children:' """"'}),i.jsx("p",{className:"text-gray-300 leading-relaxed mt-3",children:" "}),i.jsx("p",{className:"text-gray-300 leading-relaxed mt-3",children:" "}),i.jsx("p",{className:"text-gray-300 leading-relaxed mt-3",children:""}),!v&&i.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-24 bg-gradient-to-t from-gray-900/90 via-gray-900/50 to-transparent"})]}),i.jsxs(T.button,{onClick:()=>k(!v),className:"mt-4 mx-auto block px-4 py-2 bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white font-medium rounded-full shadow-lg transition-all duration-300 flex items-center",whileHover:{scale:1.05},whileTap:{scale:.95},children:[i.jsx("i",{className:`fa-solid mr-2 ${v?"fa-chevron-up":"fa-chevron-down"}`}),v?"":""]})]}),i.jsxs("div",{className:"relative z-10 mb-8",children:[i.jsxs(di,{to:"/",className:"inline-flex items-center px-4 py-2 bg-gray-800 hover:bg-gray-700 rounded-lg transition-all duration-300 shadow-lg hover:shadow-green-900/30",children:[i.jsx("i",{className:"fa-solid fa-arrow-left mr-2"}),""]}),i.jsxs(T.button,{onClick:We,className:"inline-flex items-center ml-4 px-4 py-2 bg-red-800 hover:bg-red-700 rounded-lg transition-all duration-300 shadow-lg",whileHover:{scale:1.05},whileTap:{scale:.95},children:[i.jsx("i",{className:"fa-solid fa-undo mr-2"}),""]})]}),i.jsx("div",{className:"absolute -top-24 -left-24 w-64 h-64 bg-green-500 rounded-full mix-blend-multiply filter blur-3xl opacity-10 animate-blob"}),i.jsx("div",{className:"absolute -top-24 -right-24 w-64 h-64 bg-red-500 rounded-full mix-blend-multiply filter blur-3xl opacity-10 animate-blob animation-delay-2000"}),i.jsx("div",{className:"absolute -bottom-24 -left-24 w-64 h-64 bg-yellow-500 rounded-full mix-blend-multiply filter blur-3xl opacity-10 animate-blob animation-delay-4000"})]}),i.jsx("div",{className:"relative z-10 text-center mb-12",children:i.jsxs(T.div,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.6},children:[i.jsx("h1",{className:"text-4xl md:text-6xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-green-400 via-yellow-400 to-red-400 mb-3 drop-shadow-lg",children:""}),i.jsx("div",{className:"h-1 w-32 bg-gradient-to-r from-green-400 to-red-400 mx-auto rounded-full"}),i.jsxs(T.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Te,className:"mt-4 inline-flex items-center px-4 py-2 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white rounded-full text-sm font-medium transition-all duration-300 shadow-lg hover:shadow-purple-900/50 relative overflow-hidden",children:[i.jsx(T.div,{className:"absolute inset-0 bg-white opacity-10",animate:{backgroundPosition:["0% 0%","100% 100%"],backgroundSize:["200% 200%"]},transition:{duration:3,repeat:1/0,repeatType:"reverse"},style:{background:"linear-gradient(45deg, transparent 25%, rgba(255,255,255,0.2) 50%, transparent 75%)"}}),i.jsx("i",{className:"fa-solid fa-bell mr-2 animate-pulse"}),i.jsx("span",{children:""}),i.jsx("span",{className:"ml-1 px-1.5 py-0.5 bg-red-500 rounded-full text-xs font-bold relative z-10",children:lt.length}),i.jsxs("span",{className:"ml-2 px-2 py-0.5 bg-gradient-to-r from-blue-700 to-indigo-800 rounded-full text-xs font-bold relative z-10",children:["v",lt.length,".0"]}),Le()&&i.jsxs(T.div,{className:"absolute -bottom-full left-1/2 transform -translate-x-1/2 bg-purple-800 text-white text-xs py-1 px-2 rounded whitespace-nowrap mt-1 z-20 shadow-lg",initial:{opacity:0,y:10},whileHover:{opacity:1,y:0},transition:{duration:.2},children:[" v",lt.length,".0: wixi (",Re("2025-10-30"),")"]})]})]})}),i.jsxs(T.div,{className:"max-w-2xl mx-auto mb-8 relative z-10",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.6,delay:.2},children:[i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:"text",placeholder:"...",value:c,onChange:E=>u(E.target.value),className:"w-full px-4 py-3 pl-10 bg-gray-800 rounded-lg border border-gray-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-300 shadow-lg",autoComplete:"off"}),i.jsx("i",{className:"fa-solid fa-search absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),c&&i.jsx("button",{onClick:()=>u(""),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-white transition-colors duration-200",children:i.jsx("i",{className:"fa-solid fa-times-circle"})})]}),c&&i.jsxs("div",{className:"mt-2 bg-gray-800 rounded-lg shadow-xl max-h-60 overflow-y-auto border border-gray-700 z-50",children:[i.jsx("div",{className:"p-2 text-sm text-gray-400 font-medium",children:""}),Se.concat(Ce).slice(0,5).map((E,Z)=>E?i.jsxs("div",{className:"px-4 py-2 hover:bg-gray-700 cursor-pointer flex items-center",onClick:()=>{if(u(E.name),"rarity"in E){const pe=Object.keys($().plants).find(Ae=>{const Me=$().plants[Ae];return E.name.includes("Vexithra")&&Me.name.includes("Vexithra")?!0:Me.name===E.name});K(pe)}else{const pe=Object.keys($().zombies).find(Ae=>$().zombies[Ae].name===E.name);K(pe)}},children:[i.jsx("i",{className:`fa-solid ${"rarity"in E?"fa-seedling text-green-500":"fa-skull text-red-500"} mr-2`}),E.name,E.description&&i.jsxs("span",{className:"ml-2 text-xs text-gray-400 truncate",children:[E.description.substring(0,30),"..."]})]},Z):null)]})]}),i.jsxs(T.div,{className:"flex flex-col items-center mb-8 relative z-10",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.6,delay:.3},children:[i.jsxs("div",{className:"mb-4 bg-gray-800 p-1 rounded-xl inline-flex shadow-lg",children:[i.jsxs("button",{onClick:()=>N("type"),className:`px-6 py-2 rounded-lg font-medium transition-all duration-300 ${S==="type"?"bg-purple-600 text-white":"text-gray-300 hover:bg-gray-700"}`,children:[i.jsx("i",{className:`fa-solid fa-layer-group mr-2 ${S==="type"?"text-white":"text-purple-500"}`}),""]}),i.jsxs("button",{onClick:()=>N("worldview"),className:`px-6 py-2 rounded-lg font-medium transition-all duration-300 ${S==="worldview"?"bg-blue-600 text-white":"text-gray-300 hover:bg-gray-700"}`,children:[i.jsx("i",{className:`fa-solid fa-globe-asia mr-2 ${S==="worldview"?"text-white":"text-blue-500"}`}),""]})]}),S==="type"&&i.jsxs("div",{className:"bg-gray-800 p-1 rounded-xl inline-flex shadow-lg",children:[i.jsxs("button",{onClick:()=>t("plants"),className:`px-8 py-4 rounded-lg font-medium transition-all duration-300 relative overflow-hidden ${n==="plants"?"bg-green-600 text-white":"text-gray-300 hover:bg-gray-700"}`,children:[n==="plants"&&i.jsx(T.div,{className:"absolute inset-0 bg-white opacity-10",animate:{backgroundPosition:["0% 0%","100% 100%"],backgroundSize:["200% 200%"]},transition:{duration:2,repeat:1/0,repeatType:"reverse"},style:{background:"linear-gradient(45deg, transparent 25%, rgba(255,255,255,0.1) 50%, transparent 75%)"}}),i.jsx("i",{className:`fa-solid fa-seedling mr-2 ${n==="plants"?"text-white":"text-green-500"}`}),""]}),i.jsxs("button",{onClick:()=>t("zombies"),className:`px-8 py-4 rounded-lg font-medium transition-all duration-300 relative overflow-hidden ${n==="zombies"?"bg-red-600 text-white":"text-gray-300 hover:bg-gray-700"}`,children:[n==="zombies"&&i.jsx(T.div,{className:"absolute inset-0 bg-white opacity-10",animate:{backgroundPosition:["0% 0%","100% 100%"],backgroundSize:["200% 200%"]},transition:{duration:2,repeat:1/0,repeatType:"reverse"},style:{background:"linear-gradient(45deg, transparent 25%, rgba(255,255,255,0.1) 50%, transparent 75%)"}}),i.jsx("i",{className:`fa-solid fa-skull mr-2 ${n==="zombies"?"text-white":"text-red-500"}`}),""]})]}),S==="worldview"&&i.jsxs("div",{className:"bg-blue-900/30 border border-blue-800 rounded-lg p-4 text-center shadow-lg",children:[i.jsx("h3",{className:"text-xl font-bold text-blue-400 mb-2",children:""}),i.jsx("p",{className:"text-blue-200",children:""})]})]}),i.jsx("div",{className:"max-w-4xl mx-auto mb-6 overflow-x-auto relative z-10",children:i.jsxs("div",{className:"bg-gray-800 p-1 rounded-xl inline-flex shadow-lg",children:[i.jsx("button",{onClick:()=>o(""),className:`px-4 py-2 rounded-lg whitespace-nowrap transition-all duration-300 ${s===""?(S==="type"?n==="plants"?"bg-green-600 text-white":"bg-red-600 text-white":"bg-blue-600 text-white")+" text-white shadow-md":"text-gray-300 hover:bg-gray-700"}`,children:""}),S==="type"?(n==="plants"?O.filter(E=>E!==""):U.filter(E=>E!=="")).map(E=>i.jsx("button",{onClick:()=>o(E),className:`px-4 py-2 rounded-lg whitespace-nowrap transition-all duration-300 ${s===E?(n==="plants"?"bg-green-600 text-white":"bg-red-600 text-white")+" text-white shadow-md":"text-gray-300 hover:bg-gray-700"}`,children:E},E)):Y.filter(E=>E!=="").map(E=>i.jsx("button",{onClick:()=>o(E),className:`px-4 py-2 rounded-lg whitespace-nowrap transition-all duration-300 ${s===E?"bg-blue-600 text-white text-white shadow-md":"text-gray-300 hover:bg-gray-700"}`,children:E},E))]})}),i.jsxs("div",{className:"max-w-7xl mx-auto relative z-10",children:[S==="type"?n==="plants"?i.jsx(T.div,{variants:L,initial:"hidden",animate:"visible",className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:Se.map((E,Z)=>{if(!E)return null;const pe=Object.keys($().plants).find(le=>{const Ye=$().plants[le];return Ye&&Ye.name===E.name})||Object.keys($().plants)[0];let Ae="";E.damage!==void 0?Ae="":E.health>=1e3||E.category&&E.category.includes("")?Ae="":E.category&&E.category.includes("")||E.specialEffect&&E.specialEffect.includes("")||E.name.includes("")?Ae="":E.specialEffect&&(E.specialEffect.includes("")||E.specialEffect.includes(""))||E.category&&E.category.includes("")?Ae="":Ae="";const Me=le=>{le.preventDefault(),le.stopPropagation(),K(pe)};return i.jsxs(T.div,{variants:G,whileHover:{scale:1.03,boxShadow:`0 20px 25px -5px ${n==="plants"?"rgba(34, 139, 34, 0.3)":"rgba(220, 20, 60, 0.3)"}`,zIndex:10},whileTap:{scale:.98},className:`bg-gradient-to-br ${De(E.rarity)} rounded-xl overflow-hidden shadow-lg border border-gray-700 flex flex-col h-full transition-all duration-300 cursor-pointer hover:cursor-pointer`,onClick:Me,children:[i.jsxs("div",{className:"h-48 overflow-hidden relative",children:[i.jsx("img",{src:Vr[pe],alt:E.name,className:"w-full h-full object-cover object-center transform hover:scale-110 transition-transform duration-700",loading:"lazy"}),i.jsx("div",{className:`absolute top-3 right-3 text-xs font-bold px-2 py-1 rounded-full ${Ie(E.rarity)} shadow-md`,children:E.rarity}),i.jsx("div",{className:"absolute top-3 left-3 text-xs font-bold px-2 py-1 rounded-full bg-blue-600 text-white shadow-md",children:Ae}),i.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-24 bg-gradient-to-t from-gray-900 to-transparent"})]}),i.jsxs("div",{className:"p-5 flex-grow flex flex-col",children:[E.quote&&i.jsxs(T.div,{className:"mb-3 p-3 bg-gray-800/50 rounded-lg border border-gray-700 italic text-gray-300 text-sm relative overflow-hidden",initial:{opacity:0,y:10},whileInView:{opacity:1,y:0},transition:{duration:.5},children:[i.jsx("div",{className:"absolute top-0 left-0 w-8 h-8 text-3xl text-gray-700 opacity-30",children:'"'}),i.jsx("div",{className:"relative z-10 pl-4",children:E.quote}),i.jsx("div",{className:"absolute bottom-0 right-0 w-8 h-8 text-3xl text-gray-700 opacity-30",children:'"'})]}),i.jsxs("div",{className:"flex justify-between items-center mb-3",children:[i.jsx("h3",{className:"text-xl font-bold text-green-400",children:E.name}),i.jsxs("span",{className:"bg-yellow-500 text-black font-bold px-3 py-1 rounded-full flex items-center",children:[i.jsx("i",{className:"fa-solid fa-sun mr-1"})," ",E.cost]})]}),i.jsx("p",{className:"text-gray-300 mb-4 line-clamp-2 flex-grow",children:E.description}),i.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[i.jsxs("div",{className:"bg-gray-800/80 p-2 rounded-lg",children:[i.jsx("span",{className:"text-gray-400 block",children:""}),i.jsx("span",{className:"font-bold text-white",children:E.health})]}),i.jsxs("div",{className:"bg-gray-800/80 p-2 rounded-lg",children:[i.jsx("span",{className:"text-gray-400 block",children:""}),i.jsxs("span",{className:"font-bold text-white",children:[E.cooldown/1e3,""]})]}),E.damage&&i.jsxs("div",{className:"bg-gray-800/80 p-2 rounded-lg",children:[i.jsx("span",{className:"text-gray-400 block",children:""}),i.jsx("span",{className:"font-bold text-white",children:E.damage})]}),E.attackSpeed&&i.jsxs("div",{className:"bg-gray-800/80 p-2 rounded-lg",children:[i.jsx("span",{className:"text-gray-400 block",children:""}),i.jsxs("span",{className:"font-bold text-white",children:[E.attackSpeed/1e3,"/"]})]})]}),i.jsxs("button",{onClick:le=>{le.preventDefault(),le.stopPropagation(),K(pe)},className:"mt-4 w-full bg-gradient-to-r from-green-600 to-green-500 hover:from-green-700 hover:to-green-600 text-white font-medium py-2 rounded-lg transition-all duration-300 flex items-center justify-center",children:[i.jsx("i",{className:"fa-solid fa-info-circle mr-2"}),""]})]})]},Z)})}):i.jsx(T.div,{variants:L,initial:"hidden",animate:"visible",className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:Ce.map((E,Z)=>{if(!E)return null;const pe=Object.keys($().zombies).find(le=>{const Ye=$().zombies[le];return Ye&&Ye.name===E.name})||Object.keys($().zombies)[0];let Ae="BOSS";const Me=le=>{le.preventDefault(),le.stopPropagation(),K(pe)};return i.jsxs(T.div,{variants:G,whileHover:{scale:1.03,boxShadow:`0 20px 25px -5px ${n==="plants"?"rgba(34, 139, 34, 0.3)":"rgba(220, 20, 60, 0.3)"}`,zIndex:10},whileTap:{scale:.98},className:"bg-gradient-to-br from-red-900/50 to-red-800/20 rounded-xl overflow-hidden shadow-lg border border-gray-700 flex flex-col h-full transition-all duration-300 cursor-pointer hover:cursor-pointer",onClick:Me,children:[i.jsxs("div",{className:"h-48 overflow-hidden relative",children:[i.jsx("img",{src:Br[pe],alt:E.name,className:"w-full h-full object-cover object-center transform hover:scale-110 transition-transform duration-700",loading:"lazy"}),i.jsx("div",{className:`absolute top-3 right-3 text-xs font-bold px-2 py-1 rounded-full ${be(E.difficulty)} shadow-md`,children:E.difficulty}),i.jsx("div",{className:"absolute top-3 left-3 text-xs font-bold px-2 py-1 rounded-full bg-purple-600 text-white shadow-md",children:Ae}),i.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-24 bg-gradient-to-t from-gray-900 to-transparent"})]}),i.jsxs("div",{className:"p-5 flex-grow flex flex-col",children:[E.quote&&i.jsxs(T.div,{className:"mb-3 p-3 bg-gray-800/50 rounded-lg border border-gray-700 italic text-gray-300 text-sm relative overflow-hidden",initial:{opacity:0,y:10},whileInView:{opacity:1,y:0},transition:{duration:.5},children:[i.jsx("div",{className:"absolute top-0 left-0 w-8 h-8 text-3xl text-gray-700 opacity-30",children:'"'}),i.jsx("div",{className:"relative z-10 pl-4",children:E.quote}),i.jsx("div",{className:"absolute bottom-0 right-0 w-8 h-8 text-3xl text-gray-700 opacity-30",children:'"'})]}),i.jsx("h3",{className:"text-xl font-bold text-red-400 mb-3",children:E.name}),i.jsx("p",{className:"text-gray-300 mb-4 line-clamp-2 flex-grow",children:E.description}),i.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[i.jsxs("div",{className:"bg-gray-800/80 p-2 rounded-lg",children:[i.jsx("span",{className:"text-gray-400 block",children:""}),i.jsx("span",{className:"font-bold text-white",children:E.health})]}),i.jsxs("div",{className:"bg-gray-800/80 p-2 rounded-lg",children:[i.jsx("span",{className:"text-gray-400 block",children:""}),i.jsx("span",{className:"font-bold text-white",children:typeof E.speed=="number"?E.speed.toFixed(1):""})]}),i.jsxs("div",{className:"bg-gray-800/80 p-2 rounded-lg",children:[i.jsx("span",{className:"text-gray-400 block",children:""}),i.jsx("span",{className:"font-bold text-white",children:E.damage})]}),E.armor&&i.jsxs("div",{className:"bg-gray-800/80 p-2 rounded-lg",children:[i.jsx("span",{className:"text-gray-400 block",children:""}),i.jsx("span",{className:"font-bold text-white",children:E.armor})]})]}),i.jsxs("button",{onClick:le=>{le.preventDefault(),le.stopPropagation(),K(pe)},className:"mt-4 w-full bg-gradient-to-r from-red-600 to-red-500 hover:from-red-700 hover:to-red-600 text-white font-medium py-2 rounded-lg transition-all duration-300 flex items-center justify-center",children:[i.jsx("i",{className:"fa-solid fa-info-circle mr-2"}),""]})]})]},Z)})}):i.jsx(T.div,{variants:L,initial:"hidden",animate:"visible",className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:mt}),(n==="plants"&&Se.length===0||n==="zombies"&&Ce.length===0)&&i.jsxs(T.div,{className:"text-center py-16",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5},children:[i.jsx("div",{className:"text-8xl mb-6",children:i.jsx("i",{className:"fa-solid fa-search text-gray-600"})}),i.jsx("h3",{className:"text-2xl font-bold text-gray-400 mb-3",children:""}),i.jsx("p",{className:"text-gray-500 max-w-md mx-auto",children:""}),i.jsxs("button",{onClick:()=>{u(""),o("")},className:"mt-6 bg-gradient-to-r from-green-600 to-blue-600 text-white font-medium py-3 px-6 rounded-lg transition-all duration-300 shadow-lg hover:shadow-green-900/30",children:[i.jsx("i",{className:"fa-solid fa-sync-alt mr-2"}),""]})]})]}),m&&f&&i.jsx(T.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"fixed inset-0 bg-black bg-opacity-80 z-50 flex items-center justify-center p-4 overflow-y-auto",onClick:de,children:i.jsxs(T.div,{initial:{y:50,opacity:0},animate:{y:0,opacity:1},exit:{y:50,opacity:0},transition:{duration:.5,delay:.1},className:"bg-gray-800 rounded-xl max-w-3xl w-full max-h-[90vh] overflow-y-auto shadow-2xl relative",onClick:E=>E.stopPropagation(),children:[i.jsx("button",{onClick:de,className:"absolute top-4 right-4 bg-gray-700 hover:bg-gray-600 text-white rounded-full w-8 h-8 flex items-center justify-center transition-colors duration-200 z-10",children:i.jsx("i",{className:"fa-solid fa-times"})}),i.jsx("div",{className:"p-6",children:(()=>{let E=null;const Z=$();if(n==="plants"?E=Z.plants[f]:E=Z.zombies[f],E||(n==="plants"?E=Z.zombies[f]:E=Z.plants[f]),!E)return i.jsxs("div",{className:"text-center py-10",children:[i.jsx("p",{className:"text-gray-400",children:""}),i.jsx("button",{onClick:de,className:"mt-4 bg-gray-700 hover:bg-gray-600 text-white py-2 px-4 rounded-full transition-colors duration-200",children:""})]});const pe="rarity"in E,Ae=E,Me=pe?Vr:Br;if(pe){const le=Ae;return i.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[i.jsxs("div",{className:"w-full md:w-1/3",children:[i.jsxs("div",{className:"relative overflow-hidden rounded-xl aspect-square",children:[i.jsx(T.img,{src:Me[f],alt:le.name,className:"w-full h-full object-cover",initial:{scale:1},animate:{scale:1.05},transition:{duration:3,repeat:1/0,repeatType:"reverse"}}),i.jsx("div",{className:`absolute top-3 right-3 text-xs font-bold px-2 py-1 rounded-full ${Ie(le.rarity)} shadow-md`,children:le.rarity})]}),i.jsxs("div",{className:"mt-4 p-3 bg-gray-700 rounded-lg",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{className:"text-gray-300",children:""}),i.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${se(le.unlockLevel)?"bg-green-600 text-white":"bg-gray-600 text-gray-300"}`,children:se(le.unlockLevel)?"":` ${le.unlockLevel||1} `})]}),i.jsx("div",{className:"w-full bg-gray-600 rounded-full h-1.5",children:i.jsx("div",{className:"bg-green-500 h-1.5 rounded-full",style:{width:`${se(le.unlockLevel)?100:50}%`}})})]})]}),i.jsxs("div",{className:"w-full md:w-2/3",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsx("h2",{className:"text-2xl font-bold text-green-400",children:le.name}),i.jsxs("span",{className:"bg-yellow-500 text-black font-bold px-3 py-1 rounded-full flex items-center",children:[i.jsx("i",{className:"fa-solid fa-sun mr-1"})," ",le.cost]})]}),i.jsxs("div",{className:"mb-6",children:[i.jsxs("div",{className:`relative transition-all duration-500 overflow-hidden ${v?"max-h-[2000px]":"max-h-24"}`,children:[i.jsx("p",{className:"text-gray-300",children:le.description}),!v&&i.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-16 bg-gradient-to-t from-gray-800 via-gray-800/80 to-transparent"})]}),i.jsxs(T.button,{onClick:()=>k(!v),className:"mt-2 mx-auto block px-3 py-1.5 bg-gradient-to-r from-green-600 to-blue-600 hover:from-green-700 hover:to-blue-700 text-white font-medium rounded-full shadow-lg transition-all duration-300 flex items-center text-sm",whileHover:{scale:1.05},whileTap:{scale:.95},children:[i.jsx("i",{className:`fa-solid mr-1 ${v?"fa-chevron-up":"fa-chevron-down"}`}),v?"":""]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-6",children:[i.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg",children:[i.jsx("span",{className:"text-gray-400 block text-sm",children:""}),i.jsx("span",{className:"font-bold text-white text-lg",children:le.health})]}),i.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg",children:[i.jsx("span",{className:"text-gray-400 block text-sm",children:""}),i.jsxs("span",{className:"font-bold text-white text-lg",children:[le.cooldown/1e3,""]})]}),le.damage&&i.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg",children:[i.jsx("span",{className:"text-gray-400 block text-sm",children:""}),i.jsx("span",{className:"font-bold text-white text-lg",children:le.damage})]}),le.attackRange&&i.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg",children:[i.jsx("span",{className:"text-gray-400 block text-sm",children:""}),i.jsx("span",{className:"font-bold text-white text-lg",children:le.attackRange===99?"":` ${le.attackRange} `})]}),le.attackSpeed&&i.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg",children:[i.jsx("span",{className:"text-gray-400 block text-sm",children:""}),i.jsxs("span",{className:"font-bold text-white text-lg",children:[le.attackSpeed/1e3,"/"]})]})]}),le.specialEffect&&i.jsxs("div",{className:"p-4 bg-blue-900/30 border border-blue-800 rounded-lg mb-6",children:[i.jsxs("span",{className:"text-blue-300 font-medium flex items-center",children:[i.jsx("i",{className:"fa-solid fa-star mr-2"}),""]}),i.jsx("p",{className:"text-blue-200 mt-2",children:le.specialEffect})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"p-4 bg-green-900/30 border border-green-800 rounded-lg",children:[i.jsxs("span",{className:"text-green-300 font-medium flex items-center",children:[i.jsx("i",{className:"fa-solid fa-thumbs-up mr-2"}),""]}),i.jsx("ul",{className:"mt-2 space-y-1",children:(le.bestAgainst||[]).map((Ye,Tt)=>i.jsxs("li",{className:"text-green-200 flex items-center",children:[i.jsx("i",{className:"fa-solid fa-check-circle mr-1 text-xs"})," ",Ye]},Tt))})]}),i.jsxs("div",{className:"p-4 bg-red-900/30 border border-red-800 rounded-lg",children:[i.jsxs("span",{className:"text-red-300 font-medium flex items-center",children:[i.jsx("i",{className:"fa-solid fa-thumbs-down mr-2"}),""]}),i.jsx("ul",{className:"mt-2 space-y-1",children:(le.worstAgainst||[]).map((Ye,Tt)=>i.jsxs("li",{className:"text-red-200 flex items-center",children:[i.jsx("i",{className:"fa-solid fa-times-circle mr-1 text-xs"})," ",Ye]},Tt))})]})]})]})]})}else{const le=Ae;return i.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[i.jsxs("div",{className:"w-full md:w-1/3",children:[i.jsxs("div",{className:"relative overflow-hidden rounded-xl aspect-square",children:[i.jsx(T.img,{src:Me[f],alt:le.name,className:"w-full h-full object-cover",initial:{scale:1},animate:{scale:1.05},transition:{duration:3,repeat:1/0,repeatType:"reverse"}}),i.jsx("div",{className:`absolute top-3 right-3 text-xs font-bold px-2 py-1 rounded-full ${be(le.difficulty)} shadow-md`,children:le.difficulty})]}),i.jsxs("div",{className:"mt-4 p-3 bg-gray-700 rounded-lg",children:[i.jsx("span",{className:"text-gray-300 block mb-2",children:""}),i.jsx("div",{className:"flex flex-wrap gap-2",children:(le.appearsIn||[]).map(Ye=>i.jsxs("span",{className:"bg-gray-600 text-white text-xs px-2 py-1 rounded-full",children:[" ",Ye]},Ye))})]})]}),i.jsxs("div",{className:"w-full md:w-2/3",children:[i.jsx("h2",{className:"text-2xl font-bold text-red-400 mb-4",children:le.name}),i.jsxs("div",{className:"mb-6",children:[i.jsxs("div",{className:`relative transition-all duration-500 overflow-hidden ${v?"max-h-[2000px]":"max-h-24"}`,children:[i.jsx("p",{className:"text-gray-300",children:le.description}),!v&&i.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-16 bg-gradient-to-t from-gray-800 via-gray-800/80 to-transparent"})]}),i.jsxs(T.button,{onClick:()=>k(!v),className:"mt-2 mx-auto block px-3 py-1.5 bg-gradient-to-r from-red-600 to-orange-600 hover:from-red-700 hover:to-orange-700 text-white font-medium rounded-full shadow-lg transition-all duration-300 flex items-center text-sm",whileHover:{scale:1.05},whileTap:{scale:.95},children:[i.jsx("i",{className:`fa-solid mr-1 ${v?"fa-chevron-up":"fa-chevron-down"}`}),v?"":""]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-6",children:[i.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg",children:[i.jsx("span",{className:"text-gray-400 block text-sm",children:""}),i.jsx("span",{className:"font-bold text-white text-lg",children:le.health})]}),i.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg",children:[i.jsx("span",{className:"text-gray-400 block text-sm",children:""}),i.jsx("span",{className:"font-bold text-white text-lg",children:typeof le.speed=="number"?le.speed.toFixed(1):""})]}),i.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg",children:[i.jsx("span",{className:"text-gray-400 block text-sm",children:""}),i.jsx("span",{className:"font-bold text-white text-lg",children:le.damage})]}),le.reward&&i.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg",children:[i.jsx("span",{className:"text-gray-400 block text-sm",children:""}),i.jsx("span",{className:"font-bold text-white text-lg",children:le.reward})]}),le.armor&&i.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg",children:[i.jsx("span",{className:"text-gray-400 block text-sm",children:""}),i.jsx("span",{className:"font-bold text-white text-lg",children:le.armor})]})]}),le.specialAbility&&i.jsxs("div",{className:"p-4 bg-purple-900/30 border border-purple-800 rounded-lg mb-6",children:[i.jsxs("span",{className:"text-purple-300 font-medium flex items-center",children:[i.jsx("i",{className:"fa-solid fa-wand-magic-sparkles mr-2"}),""]}),i.jsx("p",{className:"text-purple-200 mt-2",children:le.specialAbility})]}),i.jsxs("div",{className:"mb-6",children:[i.jsxs("span",{className:"text-green-300 font-medium flex items-center mb-3",children:[i.jsx("i",{className:"fa-solid fa-shield-halved mr-2"}),""]}),i.jsx("div",{className:"flex flex-wrap gap-2",children:(le.weakness||[]).map((Ye,Tt)=>i.jsx("span",{className:"bg-green-900/30 text-green-200 px-3 py-1.5 rounded-lg",children:Ye},Tt))})]}),le.strategy&&i.jsxs("div",{className:"p-4 bg-blue-900/30 border border-blue-800 rounded-lg",children:[i.jsxs("span",{className:"text-blue-300 font-medium flex items-center",children:[i.jsx("i",{className:"fa-solid fa-chess mr-2"}),""]}),i.jsx("p",{className:"text-blue-200 mt-2",children:le.strategy})]}),i.jsxs("button",{className:"mt-4 w-full bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white font-medium py-2 rounded-lg transition-all duration-300 flex items-center justify-center",onClick:()=>{const Ye=pe?`plant_${f}`:`zombie_${f}`;e(`/character-relationships?focus=${Ye}`)},children:[i.jsx("i",{className:"fa-solid fa-network-wired mr-2"})," "]})]})]})}})()})]})}),i.jsxs("div",{className:"mt-12 text-center text-gray-500 text-sm relative z-10",children:[i.jsx("p",{children:"  2025 - "}),i.jsx("p",{className:"mt-2",children:"     ESC "})]}),y&&i.jsx(T.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"fixed inset-0 bg-black bg-opacity-90 z-50 flex items-center justify-center p-4 overflow-y-auto",onClick:Pe,children:i.jsxs(T.div,{initial:{y:50,opacity:0},animate:{y:0,opacity:1},exit:{y:50,opacity:0},transition:{duration:.5,delay:.1},className:"bg-gray-800 rounded-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto shadow-2xl relative border border-purple-900/50",onClick:E=>E.stopPropagation(),children:[i.jsxs("div",{className:"sticky top-0 z-10 bg-gray-900 p-4 rounded-t-xl border-b border-gray-700 flex justify-between items-center",children:[i.jsxs("h2",{className:"text-xl md:text-2xl font-bold text-purple-400 flex items-center",children:[i.jsx("i",{className:"fa-solid fa-chart-line mr-2"}),""]}),i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsxs("span",{className:"bg-gradient-to-r from-blue-700 to-indigo-800 text-blue-100 rounded-full text-sm px-3 py-1 flex items-center font-bold",children:[": ",Fe().version]}),i.jsxs("span",{className:"bg-purple-900/50 text-purple-300 rounded-full text-sm px-3 py-1 flex items-center",children:[" ",lt.length," "]}),i.jsx("button",{onClick:Pe,className:"bg-gray-700 hover:bg-gray-600 text-white rounded-full w-8 h-8 flex items-center justify-center transition-colors duration-200",children:i.jsx("i",{className:"fa-solid fa-times"})})]})]}),i.jsxs("div",{className:"p-6",children:[lt.length>0&&i.jsxs(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:"relative mb-8 overflow-hidden bg-gradient-to-br from-purple-900/30 to-pink-900/20 rounded-xl p-6 border border-purple-700/50 shadow-lg",children:[i.jsxs("div",{className:"absolute top-3 right-3 px-3 py-1 bg-red-600 text-white text-xs font-bold rounded-full shadow-lg",children:[i.jsx("i",{className:"fa-solid fa-bolt mr-1"})," "]}),i.jsxs("div",{className:"flex flex-col md:flex-row md:items-start justify-between mb-4",children:[i.jsxs("div",{children:[i.jsxs("h3",{className:"text-xl font-bold text-white mb-1 flex items-center",children:[i.jsx("i",{className:"fa-solid fa-star text-yellow-400 mr-2"}),lt[0].title]}),i.jsxs("p",{className:"text-gray-400 text-sm",children:[lt[0].date," (",Re(lt[0].date),")"]})]}),i.jsxs("div",{className:"mt-2 md:mt-0 px-3 py-1 bg-purple-900/50 text-purple-300 rounded-full text-sm",children:[" #",lt[0].id]})]}),i.jsx("p",{className:"text-gray-300 mb-5",children:lt[0].description}),i.jsx("div",{className:"space-y-4",children:lt[0].changes.map((E,Z)=>i.jsx("div",{className:`p-4 rounded-lg border ${E.type==="feature"?"bg-green-900/20 border-green-800":E.type==="balance"?"bg-blue-900/20 border-blue-800":E.type==="bugfix"?"bg-yellow-900/20 border-yellow-800":"bg-purple-900/20 border-purple-800"}`,children:i.jsxs("div",{className:"flex items-start",children:[i.jsx("div",{className:`mt-1 mr-3 p-2 rounded-full ${E.type==="feature"?"bg-green-800":E.type==="balance"?"bg-blue-800":E.type==="bugfix"?"bg-yellow-800":"bg-purple-800"}`,children:i.jsx("i",{className:`fa-solid text-white ${E.type==="feature"?"fa-star":E.type==="balance"?"fa-scale-balanced":E.type==="bugfix"?"fa-wrench":"fa-paint-brush"}`})}),i.jsxs("div",{children:[i.jsx("h4",{className:`font-bold mb-1 ${E.type==="feature"?"text-green-400":E.type==="balance"?"text-blue-400":E.type==="bugfix"?"text-yellow-400":"text-purple-400"}`,children:E.title}),i.jsx("p",{className:"text-gray-300 text-sm",children:E.description})]})]})},Z))}),i.jsx("div",{className:"absolute -top-24 -right-24 w-48 h-48 bg-purple-500 rounded-full mix-blend-multiply filter blur-3xl opacity-10"}),i.jsx("div",{className:"absolute -bottom-24 -left-24 w-48 h-48 bg-pink-500 rounded-full mix-blend-multiply filter blur-3xl opacity-10"})]}),lt.length>1&&i.jsxs("div",{children:[i.jsxs("h3",{className:"text-lg font-bold text-gray-300 mb-4 flex items-center",children:[i.jsx("i",{className:"fa-solid fa-history mr-2"}),""]}),i.jsx("div",{className:"space-y-6",children:lt.slice(1).map(E=>i.jsxs(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1*parseInt(E.id)},className:"bg-gray-900 rounded-xl p-6 border border-gray-700 hover:border-purple-600 transition-all duration-300",children:[i.jsxs("div",{className:"flex flex-col md:flex-row md:items-start justify-between mb-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-bold text-white mb-1",children:E.title}),i.jsxs("p",{className:"text-gray-400 text-sm",children:[E.date," (",Re(E.date),")"]})]}),i.jsxs("div",{className:"mt-2 md:mt-0 px-3 py-1 bg-purple-900/50 text-purple-300 rounded-full text-sm",children:[" #",E.id]})]}),i.jsx("p",{className:"text-gray-300 mb-5",children:E.description}),i.jsx("div",{className:"space-y-4",children:E.changes.map((Z,pe)=>i.jsx("div",{className:`p-4 rounded-lg border ${Z.type==="feature"?"bg-green-900/20 border-green-800":Z.type==="balance"?"bg-blue-900/20 border-blue-800":Z.type==="bugfix"?"bg-yellow-900/20 border-yellow-800":"bg-purple-900/20 border-purple-800"}`,children:i.jsxs("div",{className:"flex items-start",children:[i.jsx("div",{className:`mt-1 mr-3 p-2 rounded-full ${Z.type==="feature"?"bg-green-800":Z.type==="balance"?"bg-blue-800":Z.type==="bugfix"?"bg-yellow-800":"bg-purple-800"}`,children:i.jsx("i",{className:`fa-solid text-white ${Z.type==="feature"?"fa-star":Z.type==="balance"?"fa-scale-balanced":Z.type==="bugfix"?"fa-wrench":"fa-paint-brush"}`})}),i.jsxs("div",{children:[i.jsx("h4",{className:`font-bold mb-1 ${Z.type==="feature"?"text-green-400":Z.type==="balance"?"text-blue-400":Z.type==="bugfix"?"text-yellow-400":"text-purple-400"}`,children:Z.title}),i.jsx("p",{className:"text-gray-300 text-sm",children:Z.description})]})]})},pe))})]},E.id))})]}),lt.length===0&&i.jsxs("div",{className:"text-center py-16",children:[i.jsx("div",{className:"text-4xl mb-4",children:""}),i.jsx("h3",{className:"text-xl font-bold text-gray-300 mb-2",children:""}),i.jsx("p",{className:"text-gray-500",children:"..."})]}),i.jsxs("div",{className:"mt-8 text-center",children:[i.jsx("p",{className:"text-gray-500 text-sm",children:"  2025 - "}),i.jsxs("p",{className:"text-gray-600 text-xs mt-1",children:[": ",Fe().version," | : ",lt.length>0?Re(lt[0].date):""]})]})]})]})}),i.jsxs("div",{className:"fixed top-0 left-0 w-full h-full pointer-events-none overflow-hidden z-0",children:[i.jsx("div",{className:"absolute top-1/4 left-10 w-64 h-64 bg-green-500 rounded-full mix-blend-multiply filter blur-3xl opacity-5 animate-blob"}),i.jsx("div",{className:"absolute top-1/3 right-10 w-72 h-72 bg-red-500 rounded-full mix-blend-multiply filter blur-3xl opacity-5 animate-blob animation-delay-2000"}),i.jsx("div",{className:"absolute bottom-1/4 left-1/3 w-60 h-60 bg-yellow-500 rounded-full mix-blend-multiply filter blur-3xl opacity-5 animate-blob animation-delay-4000"})]}),i.jsx("style",{jsx:!0,global:!0,children:`
        @keyframes blob {
          0% { transform: scale(1) translate(0px, 0px); }
          33% { transform: scale(1.1) translate(30px, -50px); }
          66% { transform: scale(0.9) translate(-20px, 20px); }
          100% { transform: scale(1) translate(0px, 0px); }
        }
        .animate-blob {
                animation: blob 7s infinite;
              }
              .animate-pulse-glow {
                animation: pulse-glow 2s infinite;
              }
        .animation-delay-2000 {
          animation-delay: 2s;
        }
        .animation-delay-4000 {
          animation-delay: 4s;
        }
        .scrollbar-thin::-webkit-scrollbar {
          width: 6px;
        }
        .scrollbar-thin::-webkit-scrollbar-track {
          background: rgba(30, 30, 30, 0.5);
          border-radius: 10px;
        }
        .scrollbar-thin::-webkit-scrollbar-thumb {
          background: rgba(100, 100, 100, 0.5);
          border-radius: 10px;
        }
        .scrollbar-thin::-webkit-scrollbar-thumb:hover {
          background: rgba(150, 150, 150, 0.5);
        }
      `})]})}const za=()=>{const[e,n]=j.useState(()=>{const s=localStorage.getItem("pvzTheme");return s||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")});return j.useEffect(()=>{document.documentElement.classList.toggle("dark",e==="dark"),localStorage.setItem("pvzTheme",e)},[e]),{theme:e,toggleTheme:()=>{n(s=>s==="light"?"dark":"light")}}},M5=()=>{const{theme:e}=za(),[n]=pg(),[t,s]=j.useState(null),[o,c]=j.useState([]),[u,f]=j.useState({}),[h,m]=j.useState(!1),[p,y]=j.useState(!0),b=An();j.useEffect(()=>{const _=()=>{const R=Il();c(R);const A={};Rt.forEach(O=>{const U=`story_progress_${O.id}`,Y=localStorage.getItem(U);Y?A[O.id]=parseInt(Y):A[O.id]=0}),f(A),y(!1)};_();const z=R=>{R.key&&R.key.startsWith("story_progress_")&&_()};return window.addEventListener("storage",z),()=>window.removeEventListener("storage",z)},[]);const v=_=>o.includes(_),k=_=>{const z=Rt.find(U=>U.id===_);if(!z)return 0;const R=`story_progress_${_}`,A=localStorage.getItem(R),O=A?parseInt(A):0;return Math.round(O/z.content.length*100)},S=_=>{v(_)&&(s(_),m(!0))};j.useEffect(()=>{const _=n.get("chapterId"),z=n.get("isSideStory")==="true";_&&(z?b(`/side-stories?storyId=${_}&isSideStory=true`):Il().includes(_)&&(s(_),m(!0)))},[n,b]);const N=()=>{s(null),m(!1)},C=(_,z)=>{const R=v(_.id),A=k(_.id),O=A>0;return i.jsxs(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:z*.1},className:`
          relative overflow-hidden rounded-xl cursor-pointer transition-all duration-300
          ${R?"bg-gradient-to-br from-gray-800 to-gray-900 hover:shadow-xl hover:shadow-purple-900/20 border border-gray-700 hover:border-purple-500/50 group":"bg-gray-800/50 border border-gray-700 opacity-60"}
        `,onClick:()=>S(_.id),whileHover:R?{scale:1.02}:void 0,whileTap:R?{scale:.98}:void 0,children:[i.jsxs("div",{className:"h-48 overflow-hidden relative",children:[R&&i.jsx(T.div,{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-40 h-40 bg-purple-500/20 rounded-full blur-3xl z-0",animate:{scale:[1,1.2,1],opacity:[.2,.3,.2]},transition:{duration:4,repeat:1/0,ease:"easeInOut"}}),i.jsx("img",{src:_.thumbnail,alt:_.title,className:"w-full h-full object-cover transition-transform duration-700 ease-in-out group-hover:scale-110 z-10 relative",loading:"lazy"}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-black/70 to-transparent z-20"}),i.jsxs("div",{className:"absolute bottom-4 left-4 right-4 z-30",children:[i.jsx(T.h3,{className:"text-xl font-bold text-white drop-shadow-lg",initial:{y:10,opacity:0},whileHover:{y:0,opacity:1},transition:{duration:.3},children:_.title}),i.jsx(T.p,{className:"text-gray-300 text-sm mt-1 line-clamp-1",initial:{y:10,opacity:0},whileHover:{y:0,opacity:1},transition:{duration:.3,delay:.1},children:_.description})]}),!R&&i.jsx(T.div,{className:"absolute top-4 right-4 bg-black/70 p-2 rounded-full text-white z-30",animate:{rotate:[0,10,-10,10,0]},transition:{duration:2,repeat:1/0,repeatDelay:3},children:i.jsx("i",{className:"fa-solid fa-lock"})}),O&&i.jsxs("div",{className:"absolute top-4 right-4 bg-black/70 px-3 py-1 rounded-full text-white text-sm flex items-center z-30",children:[i.jsx("i",{className:"fa-solid fa-book-open mr-1"}),A,"%"]}),R&&i.jsx(T.div,{className:"absolute inset-0 flex items-center justify-center z-20 opacity-0 group-hover:opacity-100 transition-opacity duration-300",initial:{scale:.8},whileHover:{scale:1},transition:{type:"spring",stiffness:300},children:i.jsxs("div",{className:"bg-white/10 backdrop-blur-md px-4 py-2 rounded-full text-white text-sm",children:[i.jsx("i",{className:"fa-solid fa-book-open mr-1"})," "]})})]}),i.jsxs("div",{className:"p-4",children:[i.jsxs("div",{className:"flex justify-between items-center mb-3",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-r from-purple-600 to-blue-600 flex items-center justify-center text-white font-bold mr-2",children:z+1}),i.jsx("span",{className:"text-gray-400 text-sm",children:""})]}),i.jsxs("span",{className:"text-gray-400 text-sm flex items-center",children:[i.jsx("i",{className:"fa-regular fa-clock mr-1"}),Math.round(_.content.length*.5),""]})]}),O&&i.jsxs("div",{children:[i.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2 overflow-hidden",children:i.jsx(T.div,{className:"bg-gradient-to-r from-purple-600 to-blue-600 h-full rounded-full",initial:{width:0},animate:{width:`${A}%`},transition:{duration:.8,ease:"easeOut"}})}),i.jsxs("div",{className:"text-right text-xs text-gray-500 mt-1",children:[": ",A,"%"]})]}),!R&&i.jsxs("div",{className:"mt-3 text-center text-gray-400 text-sm",children:[i.jsx("i",{className:"fa-solid fa-key mr-1"}),""]})]}),R&&i.jsx(T.div,{className:"absolute -bottom-10 -right-10 w-40 h-40 bg-purple-500/10 rounded-full blur-3xl",animate:{scale:[1,1.2,1],opacity:[.1,.2,.1]},transition:{duration:5,repeat:1/0,ease:"easeInOut"}})]},_.id)},M=()=>{if(!t)return null;const _=Rt.find(O=>O.id===t);if(!_)return null;const z=`story_progress_${t}`,R=localStorage.getItem(z),A=R?parseInt(R):0;return i.jsx(Un,{children:i.jsxs(T.div,{className:"fixed inset-0 z-50 flex items-center justify-center p-4 overflow-hidden",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:N,children:[i.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[i.jsx("img",{src:_.thumbnail,alt:_.title,className:"w-full h-full object-cover object-center brightness-20",loading:"lazy"}),i.jsx(T.div,{className:"absolute inset-0 bg-gradient-to-t from-black via-black/80 to-black/20",animate:{opacity:[.7,.9,.7]},transition:{duration:8,repeat:1/0,ease:"easeInOut"}}),i.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-[2px]"})]}),i.jsxs(T.div,{className:"relative w-full h-full max-w-4xl max-h-[90vh] flex flex-col shadow-2xl bg-gray-900/95 rounded-xl overflow-hidden",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},transition:{duration:.7},onClick:O=>O.stopPropagation(),children:[i.jsxs("div",{className:"bg-gradient-to-r from-purple-900 to-blue-900 p-4 flex justify-between items-center border-b border-gray-800 relative overflow-hidden",children:[i.jsx(T.div,{className:"absolute top-0 right-0 w-40 h-40 bg-purple-500/20 rounded-full blur-3xl",animate:{scale:[1,1.2,1],opacity:[.2,.3,.2]},transition:{duration:4,repeat:1/0,ease:"easeInOut"}}),i.jsxs("h2",{className:"text-xl font-bold text-white flex items-center relative z-10",children:[i.jsx("i",{className:"fa-solid fa-book-open mr-2"}),_.title]}),i.jsx(T.button,{className:"text-gray-300 hover:text-white transition-colors duration-300 p-2 rounded-full hover:bg-white/10",onClick:N,whileHover:{scale:1.1},whileTap:{scale:.9},children:i.jsx("i",{className:"fa-solid fa-times text-xl"})})]}),i.jsxs("div",{className:"flex-grow p-6 overflow-y-auto scrollbar-thin scrollbar-thumb-gray-700 scrollbar-track-gray-900",style:{scrollBehavior:"smooth"},children:[i.jsxs(T.div,{className:"text-center mb-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.3},children:[i.jsx("h1",{className:"text-3xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-purple-400 via-blue-400 to-cyan-400 mb-3 drop-shadow-lg",children:_.title}),i.jsx("p",{className:"text-gray-300 max-w-2xl mx-auto",children:_.description})]}),i.jsx(T.div,{className:"flex flex-wrap justify-center gap-4 mb-10",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.5},children:Array.from(new Set(_.content.map(O=>O.character))).map(O=>i.jsxs(T.div,{className:"flex flex-col items-center",whileHover:{scale:1.05,y:-5},transition:{type:"spring",stiffness:300},children:[i.jsxs("div",{className:"w-14 h-14 rounded-full overflow-hidden border-2 border-purple-500 shadow-lg shadow-purple-900/20 mb-2 relative",children:[i.jsx("img",{src:Kx[O],alt:fi[O],className:"w-full h-full object-cover",loading:"lazy"}),i.jsx(T.div,{className:"absolute inset-0 rounded-full bg-gradient-to-r from-purple-500/20 to-blue-500/20",animate:{scale:[1,1.1,1],opacity:[.5,.8,.5]},transition:{duration:2,repeat:1/0,ease:"easeInOut"}})]}),i.jsx("span",{className:`text-sm font-medium ${O==="narrator"?"text-gray-400":`bg-gradient-to-r ${qr[O]} bg-clip-text text-transparent`}`,children:fi[O]})]},O))}),i.jsx("div",{className:"max-w-2xl mx-auto space-y-6",children:_.content.map((O,U)=>i.jsxs(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.7+U*.1},className:`
                      p-5 rounded-xl border shadow-lg backdrop-blur-sm relative overflow-hidden
                      ${O.character==="narrator"?"bg-gray-800/90 border-gray-700":`bg-gradient-to-br from-purple-900/30 to-blue-900/30 border-${qr[O.character].split(" ")[1].split("-")[0]}-700/60`}
                    `,children:[O.character!=="narrator"&&i.jsx("div",{className:`absolute -left-3 top-1/2 -translate-y-1/2 w-6 h-6 transform rotate-45 
                        ${O.character==="narrator"?"bg-gray-800/90":`bg-gradient-to-br from-purple-900/30 to-blue-900/30 border-l border-t border-${qr[O.character].split(" ")[1].split("-")[0]}-700/60`}
                      `}),i.jsx("div",{className:"absolute inset-0 opacity-10",children:i.jsx("div",{className:"absolute top-0 right-0 w-40 h-40 rounded-full bg-gradient-to-br from-purple-500/30 to-blue-500/30 blur-3xl"})}),O.character!=="narrator"&&i.jsx("div",{className:`
                        font-bold text-sm mb-2 inline-block px-3 py-1 rounded-full relative z-10
                        ${O.character==="narrator"?"text-gray-400 bg-gray-700/50":`bg-gradient-to-r ${qr[O.character]} bg-clip-text text-transparent bg-gray-800/70`}
                      `,children:fi[O.character]}),i.jsx("p",{className:`leading-relaxed ${O.character==="narrator"?"text-gray-300 italic":"text-white"} relative z-10`,children:O.text}),O.character!=="narrator"&&O.emotion&&i.jsxs("div",{className:`mt-2 text-xs inline-block px-2 py-1 rounded-full bg-opacity-30 relative z-10
                        ${O.emotion==="happy"?"bg-yellow-500 text-yellow-200":O.emotion==="sad"?"bg-blue-500 text-blue-200":O.emotion==="angry"?"bg-red-500 text-red-200":O.emotion==="surprised"?"bg-purple-500 text-purple-200":"bg-gray-500 text-gray-200"}
                      `,children:[O.emotion==="happy"&&" ",O.emotion==="sad"&&" ",O.emotion==="angry"&&" ",O.emotion==="surprised"&&" ",O.emotion==="calm"&&" "]})]},O.id))}),A>=_.content.length-1&&i.jsxs(T.div,{className:"mt-10 text-center",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.5,delay:1},children:[i.jsx("div",{className:"inline-block p-4 bg-gradient-to-r from-green-600 to-green-400 rounded-full mb-3 shadow-lg shadow-green-500/30",children:i.jsx("i",{className:"fa-solid fa-check text-2xl text-white"})}),i.jsx("p",{className:"text-lg font-bold text-green-400",children:""}),i.jsx("p",{className:"text-gray-400 mt-2",children:""})]})]}),i.jsxs("div",{className:"bg-gray-900 p-4 border-t border-gray-800",children:[i.jsxs("div",{className:"flex justify-between items-center mb-2",children:[i.jsx("span",{className:"text-gray-400 text-sm",children:""}),i.jsxs("span",{className:"text-gray-300 text-sm",children:[Math.round(A/_.content.length*100),"%"]})]}),i.jsx("div",{className:"w-full bg-gray-800 rounded-full h-2 overflow-hidden",children:i.jsx(T.div,{className:"bg-gradient-to-r from-purple-600 to-blue-600 h-full rounded-full relative",initial:{width:0},animate:{width:`${A/_.content.length*100}%`},transition:{duration:1,ease:"easeOut"},children:i.jsx(T.div,{className:"absolute inset-y-0 left-0 w-20 bg-white/30 blur-sm",animate:{x:["-20px","100%"],opacity:[0,.7,0]},transition:{repeat:1/0,duration:2,ease:"easeInOut",repeatDelay:1}})})}),i.jsxs("div",{className:"flex justify-center mt-4 gap-4",children:[i.jsxs(T.button,{whileHover:{scale:1.05,backgroundColor:"rgba(75, 85, 99, 0.8)"},whileTap:{scale:.95},className:"bg-gray-800 hover:bg-gray-700 text-gray-300 px-4 py-2 rounded-lg transition-colors duration-300 flex items-center",onClick:()=>{const O=document.querySelector(".max-h-\\[90vh\\] .overflow-y-auto");O&&O.scrollTo({top:0,behavior:"smooth"})},children:[i.jsx("i",{className:"fa-solid fa-arrow-up mr-2"}),""]}),i.jsxs(T.button,{whileHover:{scale:1.05,backgroundColor:"rgba(75, 85, 99, 0.8)"},whileTap:{scale:.95},className:"bg-gray-800 hover:bg-gray-700 text-gray-300 px-4 py-2 rounded-lg transition-colors duration-300 flex items-center",onClick:N,children:[i.jsx("i",{className:"fa-solid fa-times mr-2"}),""]})]})]})]})]})})};return p?i.jsxs("div",{className:"min-h-screen bg-gray-900 flex flex-col items-center justify-center text-white p-4 relative overflow-hidden",children:[i.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-purple-500/20 rounded-full blur-3xl animate-pulse"}),i.jsx("div",{className:"absolute top-1/4 left-1/4 w-64 h-64 bg-blue-500/20 rounded-full blur-3xl animate-pulse animation-delay-2000"}),i.jsx(T.div,{animate:{rotate:360,scale:[1,1.1,1]},transition:{rotate:{duration:2,repeat:1/0,ease:"linear"},scale:{duration:1.5,repeat:1/0,ease:"easeInOut"}},className:"text-5xl mb-4 relative z-10",children:i.jsx("i",{className:"fa-solid fa-book"})}),i.jsx("h2",{className:"text-2xl font-bold mb-2 relative z-10",children:"..."}),i.jsx("p",{className:"text-gray-400 relative z-10",children:""})]}):i.jsxs("div",{className:`min-h-screen ${e==="light"?"bg-gray-100":"bg-gray-900"} text-gray-900 dark:text-white transition-colors duration-300 p-4 relative overflow-hidden`,children:[i.jsxs("div",{className:"fixed top-0 left-0 right-0 bottom-0 pointer-events-none z-0",children:[i.jsx(T.div,{className:"absolute top-0 right-0 w-1/3 h-1/3 bg-purple-500/5 rounded-full blur-3xl",animate:{scale:[1,1.2,1],x:[0,-20,0],y:[0,-20,0]},transition:{duration:15,repeat:1/0,ease:"easeInOut"}}),i.jsx(T.div,{className:"absolute bottom-0 left-0 w-1/3 h-1/3 bg-blue-500/5 rounded-full blur-3xl",animate:{scale:[1,1.2,1],x:[0,20,0],y:[0,20,0]},transition:{duration:12,repeat:1/0,ease:"easeInOut",delay:1}})]}),i.jsxs("header",{className:"max-w-6xl mx-auto mb-8 relative z-10",children:[i.jsx("div",{className:"absolute top-0 left-0 z-20",children:i.jsx(T.button,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5},className:"bg-gray-800/80 dark:bg-gray-900/80 backdrop-blur-sm p-3 rounded-full border border-gray-700 text-white hover:bg-gray-700 transition-all duration-300 shadow-lg flex items-center justify-center",onClick:()=>window.history.back(),"aria-label":"",children:i.jsx("i",{className:"fa-solid fa-arrow-left text-xl"})})}),i.jsxs(T.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"flex flex-col items-center justify-center text-center pt-12 pb-4",children:[i.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-32 h-1 bg-gradient-to-r from-purple-500 to-blue-500 rounded-full"}),i.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4 bg-gradient-to-r from-purple-600 to-blue-600 bg-clip-text text-transparent",children:""}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400 max-w-2xl",children:""}),i.jsxs("div",{className:"mt-8 flex flex-col md:flex-row items-center justify-center gap-6 w-full max-w-2xl",children:[i.jsxs(T.div,{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm rounded-xl p-4 shadow-lg w-full md:w-1/2 border border-gray-200 dark:border-gray-700 relative overflow-hidden group",whileHover:{scale:1.02},transition:{type:"spring",stiffness:300},children:[i.jsx(T.div,{className:"absolute -top-10 -right-10 w-32 h-32 bg-purple-500/10 rounded-full blur-2xl",animate:{scale:[1,1.2,1],opacity:[.2,.3,.2]},transition:{duration:4,repeat:1/0,ease:"easeInOut"}}),i.jsx("div",{className:"text-gray-500 dark:text-gray-400 text-sm mb-1 relative z-10",children:""}),i.jsxs("div",{className:"text-3xl font-bold text-purple-600 dark:text-purple-400 relative z-10",children:[o.length," / ",Rt.length]}),i.jsx("div",{className:"mt-2 w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2 overflow-hidden relative z-10",children:i.jsx(T.div,{initial:{width:0},animate:{width:`${o.length/Rt.length*100}%`},transition:{duration:1,ease:"easeOut"},className:"bg-gradient-to-r from-purple-600 to-blue-600 h-full rounded-full relative",children:i.jsx(T.div,{className:"absolute inset-y-0 left-0 w-10 bg-white/30 blur-sm",animate:{x:["-10px","100%"],opacity:[0,.7,0]},transition:{repeat:1/0,duration:2,ease:"easeInOut",repeatDelay:1}})})})]}),i.jsxs(T.div,{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm rounded-xl p-4 shadow-lg w-full md:w-1/2 border border-gray-200 dark:border-gray-700 relative overflow-hidden group",whileHover:{scale:1.02},transition:{type:"spring",stiffness:300},children:[i.jsx(T.div,{className:"absolute -top-10 -right-10 w-32 h-32 bg-blue-500/10 rounded-full blur-2xl",animate:{scale:[1,1.2,1],opacity:[.2,.3,.2]},transition:{duration:4,repeat:1/0,ease:"easeInOut",delay:1}}),i.jsx("div",{className:"text-gray-500 dark:text-gray-400 text-sm mb-1 relative z-10",children:""}),i.jsxs("div",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400 relative z-10",children:[Math.round(Object.values(u).reduce((_,z,R)=>{const A=Rt[R];return A?_+z/A.content.length:_},0)/Rt.length*100),"%"]}),i.jsx("div",{className:"mt-2 w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2 overflow-hidden relative z-10",children:i.jsx(T.div,{initial:{width:0},animate:{width:`${Object.values(u).reduce((_,z,R)=>{const A=Rt[R];return A?_+z/A.content.length:_},0)/Rt.length*100}%`},transition:{duration:1,ease:"easeOut"},className:"bg-gradient-to-r from-blue-600 to-cyan-600 h-full rounded-full relative",children:i.jsx(T.div,{className:"absolute inset-y-0 left-0 w-10 bg-white/30 blur-sm",animate:{x:["-10px","100%"],opacity:[0,.7,0]},transition:{repeat:1/0,duration:2,ease:"easeInOut",repeatDelay:1,delay:.5}})})})]})]})]})]}),i.jsxs("main",{className:"max-w-6xl mx-auto pb-16 relative z-10",children:[i.jsxs("div",{className:"mb-12",children:[i.jsxs("h2",{className:"text-2xl font-bold mb-6 text-center",children:[i.jsx("i",{className:"fa-solid fa-book-open mr-2 text-purple-400"}),""]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Rt.map((_,z)=>C(_,z))})]}),i.jsxs(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.5},className:"mt-12 bg-gradient-to-br from-blue-900/30 to-cyan-900/20 rounded-xl p-6 shadow-xl border border-blue-800/50 relative overflow-hidden group cursor-pointer",onClick:()=>b("/side-stories"),children:[i.jsx(T.div,{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-64 h-64 bg-blue-500/10 rounded-full blur-3xl",animate:{scale:[1,1.2,1],opacity:[.1,.2,.1]},transition:{duration:8,repeat:1/0,ease:"easeInOut"}}),i.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between relative z-10",children:[i.jsxs("div",{className:"flex items-center mb-4 md:mb-0",children:[i.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-r from-blue-600 to-cyan-600 flex items-center justify-center text-white text-2xl mr-4 shadow-lg shadow-blue-900/30",children:i.jsx("i",{className:"fa-solid fa-star"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-white mb-1",children:""}),i.jsx("p",{className:"text-gray-300",children:'""""'})]})]}),i.jsxs(T.div,{className:"bg-white/10 backdrop-blur-md px-6 py-3 rounded-full text-white font-medium flex items-center",whileHover:{scale:1.05},whileTap:{scale:.95},children:["",i.jsx(T.span,{className:"ml-2",animate:{x:[0,5,0]},transition:{duration:1.5,repeat:1/0,ease:"easeInOut"},children:i.jsx("i",{className:"fa-solid fa-arrow-right"})})]})]}),i.jsx("div",{className:"mt-6 grid grid-cols-4 gap-3",children:It.slice(0,4).map((_,z)=>i.jsx(T.div,{className:"w-full aspect-square rounded-lg overflow-hidden border border-blue-500/30 shadow-lg",whileHover:{scale:1.05},initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3,delay:.7+z*.1},children:i.jsx("img",{src:_.thumbnail,alt:_.title,className:"w-full h-full object-cover",loading:"lazy"})},_.id))}),i.jsxs("div",{className:"mt-4 text-center text-blue-400 text-sm",children:[" ",It.length,"   "]})]}),i.jsxs(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:1},className:"mt-12 bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm rounded-xl p-6 shadow-lg border border-gray-200 dark:border-gray-700 relative overflow-hidden",whileHover:{y:-5},children:[i.jsx("div",{className:"absolute top-0 right-0 w-40 h-40 bg-yellow-500/10 rounded-full blur-3xl"}),i.jsxs("h2",{className:"text-xl font-bold mb-4 flex items-center relative z-10",children:[i.jsx("i",{className:"fa-solid fa-lightbulb text-yellow-500 mr-2"}),""]}),i.jsxs("ul",{className:"space-y-3 text-gray-600 dark:text-gray-300 relative z-10",children:[i.jsxs("li",{className:"flex items-start",children:[i.jsx("i",{className:"fa-solid fa-check-circle text-green-500 mr-2 mt-1"}),i.jsx("span",{children:""})]}),i.jsxs("li",{className:"flex items-start",children:[i.jsx("i",{className:"fa-solid fa-check-circle text-green-500 mr-2 mt-1"}),i.jsx("span",{children:""})]}),i.jsxs("li",{className:"flex items-start",children:[i.jsx("i",{className:"fa-solid fa-check-circle text-green-500 mr-2 mt-1"}),i.jsx("span",{children:""})]}),i.jsxs("li",{className:"flex items-start",children:[i.jsx("i",{className:"fa-solid fa-check-circle text-green-500 mr-2 mt-1"}),i.jsx("span",{children:""})]})]})]})]}),i.jsx("footer",{className:"bg-gray-800/90 backdrop-blur-sm text-gray-300 py-6 text-center relative z-10 border-t border-gray-700",children:i.jsx("p",{children:" 2025  - "})}),t&&M(),i.jsx(Un,{children:h&&i.jsx(T.div,{className:"fixed inset-0 z-40 bg-black/80 backdrop-blur-sm",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:N})})]})},A5=()=>{const{theme:e}=za(),[n]=pg(),[t,s]=j.useState(null),[o,c]=j.useState([]),[u,f]=j.useState({}),[h,m]=j.useState(!1),[p,y]=j.useState(!0),[b,v]=j.useState("all"),[k,S]=j.useState(It);j.useEffect(()=>{const A=()=>{const U=Il();c(U);const Y={};It.forEach($=>{const Q=`side_story_progress_${$.id}`,he=localStorage.getItem(Q);he?Y[$.id]=parseInt(he):Y[$.id]=0}),f(Y),y(!1)};A();const O=U=>{U.key&&U.key.startsWith("side_story_progress_")&&A()};return window.addEventListener("storage",O),()=>window.removeEventListener("storage",O)},[]),j.useEffect(()=>{S(b==="all"?It:It.filter(A=>A.characterType===b))},[b]);const N=A=>o.includes(A),C=A=>{const O=It.find(Q=>Q.id===A);if(!O)return 0;const U=`side_story_progress_${A}`,Y=localStorage.getItem(U),$=Y?parseInt(Y):0;return Math.round($/O.content.length*100)},M=A=>{N(A)&&(s(A),m(!0))};j.useEffect(()=>{const A=n.get("storyId"),O=n.get("isSideStory")==="true";A&&O&&Il().includes(A)&&(s(A),m(!0))},[n]);const _=()=>{s(null),m(!1)},z=(A,O)=>{const U=N(A.id),Y=C(A.id),$=Y>0;return i.jsxs(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:O*.1},className:`
          relative overflow-hidden rounded-xl cursor-pointer transition-all duration-300
          ${U?"bg-gradient-to-br from-blue-900/30 to-cyan-900/20 hover:shadow-xl hover:shadow-blue-900/20 border border-blue-800/50 group":"bg-gray-800/50 border border-gray-700 opacity-60"}
        `,onClick:()=>M(A.id),whileHover:U?{scale:1.02}:void 0,whileTap:U?{scale:.98}:void 0,children:[i.jsx("div",{className:`absolute top-4 left-4 z-10 text-xs font-bold px-2 py-1 rounded-full ${A.characterType==="plant"?"bg-green-600 text-white":"bg-red-600 text-white"} shadow-md flex items-center`,children:A.characterType==="plant"?i.jsxs(i.Fragment,{children:[i.jsx("i",{className:"fa-solid fa-leaf mr-1"}),""]}):i.jsxs(i.Fragment,{children:[i.jsx("i",{className:"fa-solid fa-ghost mr-1"}),""]})}),i.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-40 h-40 bg-blue-500/10 rounded-full blur-3xl z-0"}),i.jsxs("div",{className:"h-48 overflow-hidden relative",children:[i.jsx("img",{src:A.thumbnail,alt:A.title,className:"w-full h-full object-cover transition-transform duration-700 ease-in-out group-hover:scale-110 z-10 relative",loading:"lazy"}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-black/70 to-transparent z-20"}),i.jsxs("div",{className:"absolute bottom-4 left-4 right-4 z-30",children:[i.jsx(T.h3,{className:"text-xl font-bold text-white drop-shadow-lg",initial:{y:10,opacity:0},whileHover:{y:0,opacity:1},transition:{duration:.3},children:A.title}),i.jsx(T.p,{className:"text-gray-300 text-sm mt-1 line-clamp-1",initial:{y:10,opacity:0},whileHover:{y:0,opacity:1},transition:{duration:.3,delay:.1},children:A.description})]}),!U&&i.jsx(T.div,{className:"absolute top-4 right-4 bg-black/70 p-2 rounded-full text-white z-30",animate:{rotate:[0,10,-10,10,0]},transition:{duration:2,repeat:1/0,repeatDelay:3},children:i.jsx("i",{className:"fa-solid fa-lock"})}),$&&i.jsxs("div",{className:"absolute top-4 right-4 bg-black/70 px-3 py-1 rounded-full text-white text-sm flex items-center z-30",children:[i.jsx("i",{className:"fa-solid fa-book-open mr-1"}),Y,"%"]}),U&&i.jsx(T.div,{className:"absolute inset-0 flex items-center justify-center z-20 opacity-0 group-hover:opacity-100 transition-opacity duration-300",initial:{scale:.8},whileHover:{scale:1},transition:{type:"spring",stiffness:300},children:i.jsxs("div",{className:"bg-white/10 backdrop-blur-md px-4 py-2 rounded-full text-white text-sm",children:[i.jsx("i",{className:"fa-solid fa-book-open mr-1"})," "]})})]}),i.jsx("div",{className:"p-4",children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-r from-blue-600 to-cyan-600 flex items-center justify-center text-white font-bold mr-2",children:O+1}),i.jsx("span",{className:"text-gray-400 text-sm",children:""})]}),i.jsxs("span",{className:"text-gray-400 text-sm flex items-center",children:[i.jsx("i",{className:"fa-regular fa-clock mr-1"}),Math.round(A.content.length*.5),""]})]})}),U&&i.jsx(T.div,{className:"absolute -bottom-10 -right-10 w-40 h-40 bg-blue-500/10 rounded-full blur-3xl",animate:{scale:[1,1.2,1],opacity:[.1,.2,.1]},transition:{duration:5,repeat:1/0,ease:"easeInOut"}})]},A.id)},R=()=>{if(!t)return null;const A=It.find($=>$.id===t);if(!A)return null;const O=`side_story_progress_${t}`,U=localStorage.getItem(O),Y=U?parseInt(U):0;return i.jsx(Un,{children:i.jsxs(T.div,{className:"fixed inset-0 z-50 flex items-center justify-center p-4 overflow-hidden",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:_,children:[i.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[i.jsx("img",{src:A.thumbnail,alt:A.title,className:"w-full h-full object-cover object-center brightness-20",loading:"lazy"}),i.jsx(T.div,{className:"absolute inset-0 bg-gradient-to-t from-black via-black/80 to-black/20",animate:{opacity:[.7,.9,.7]},transition:{duration:8,repeat:1/0,ease:"easeInOut"}}),i.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-[2px]"})]}),i.jsxs(T.div,{className:"relative w-full h-full max-w-4xl max-h-[90vh] flex flex-col shadow-2xl bg-gray-900/95 rounded-xl overflow-hidden",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},transition:{duration:.7},onClick:$=>$.stopPropagation(),children:[i.jsxs("div",{className:"bg-gradient-to-r from-blue-900 to-cyan-900 p-4 flex justify-between items-center border-b border-gray-800 relative overflow-hidden",children:[i.jsx(T.div,{className:"absolute top-0 right-0 w-40 h-40 bg-blue-500/20 rounded-full blur-3xl",animate:{scale:[1,1.2,1],opacity:[.2,.3,.2]},transition:{duration:4,repeat:1/0,ease:"easeInOut"}}),i.jsxs("h2",{className:"text-xl font-bold text-white flex items-center relative z-10",children:[i.jsx("i",{className:"fa-solid fa-star mr-2 text-yellow-400"}),A.title,i.jsx("span",{className:"ml-2 text-xs bg-blue-600/80 text-white px-2 py-0.5 rounded-full",children:""})]}),i.jsx(T.button,{className:"text-gray-300 hover:text-white transition-colors duration-300 p-2 rounded-full hover:bg-white/10",onClick:_,whileHover:{scale:1.1},whileTap:{scale:.9},children:i.jsx("i",{className:"fa-solid fa-times text-xl"})})]}),i.jsxs("div",{className:"flex-grow p-6 overflow-y-auto scrollbar-thin scrollbar-thumb-gray-700 scrollbar-track-gray-900",style:{scrollBehavior:"smooth"},children:[i.jsxs(T.div,{className:"text-center mb-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.3},children:[i.jsxs("h1",{className:"text-3xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-blue-400 via-cyan-400 to-teal-400 mb-3 drop-shadow-lg",children:[A.title,i.jsx("span",{className:"ml-2 text-lg",children:""})]}),i.jsx("p",{className:"text-gray-300 max-w-2xl mx-auto",children:A.description})]}),i.jsx(T.div,{className:"flex flex-wrap justify-center gap-4 mb-10",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.5},children:Array.from(new Set(A.content.map($=>$.character))).map($=>i.jsxs(T.div,{className:"flex flex-col items-center",whileHover:{scale:1.05,y:-5},transition:{type:"spring",stiffness:300},children:[i.jsxs("div",{className:"w-14 h-14 rounded-full overflow-hidden border-2 border-blue-500 shadow-lg shadow-blue-900/20 mb-2 relative",children:[i.jsx("img",{src:Kx[$],alt:fi[$],className:"w-full h-full object-cover",loading:"lazy"}),i.jsx(T.div,{className:"absolute inset-0 rounded-full bg-gradient-to-r from-blue-500/20 to-cyan-500/20",animate:{scale:[1,1.1,1],opacity:[.5,.8,.5]},transition:{duration:2,repeat:1/0,ease:"easeInOut"}})]}),i.jsx("span",{className:`text-sm font-medium ${$==="narrator"?"text-gray-400":`bg-gradient-to-r ${qr[$]} bg-clip-text text-transparent`}`,children:fi[$]})]},$))}),i.jsx("div",{className:"max-w-2xl mx-auto space-y-6",children:A.content.map(($,Q)=>i.jsxs(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.7+Q*.1},className:`
                      p-5 rounded-xl border shadow-lg backdrop-blur-sm relative overflow-hidden
                      ${$.character==="narrator"?"bg-gray-800/90 border-gray-700":`bg-gradient-to-br from-blue-900/30 to-cyan-900/30 border-${qr[$.character].split(" ")[1].split("-")[0]}-700/60`}
                    `,children:[$.character!=="narrator"&&i.jsx("div",{className:`absolute -left-3 top-1/2 -translate-y-1/2 w-6 h-6 transform rotate-45 
                        ${$.character==="narrator"?"bg-gray-800/90":`bg-gradient-to-br from-blue-900/30 to-cyan-900/30 border-l border-t border-${qr[$.character].split(" ")[1].split("-")[0]}-700/60`}
                      `}),i.jsx("div",{className:"absolute inset-0 opacity-10",children:i.jsx("div",{className:"absolute top-0 right-0 w-40 h-40 rounded-full bg-gradient-to-br from-blue-500/30 to-cyan-500/30 blur-3xl"})}),$.character!=="narrator"&&i.jsx("div",{className:`
                        font-bold text-sm mb-2 inline-block px-3 py-1 rounded-full relative z-10
                        ${$.character==="narrator"?"text-gray-400 bg-gray-700/50":`bg-gradient-to-r ${qr[$.character]} bg-clip-text text-transparent bg-gray-800/70`}
                      `,children:fi[$.character]}),i.jsx("p",{className:`leading-relaxed ${$.character==="narrator"?"text-gray-300 italic":"text-white"} relative z-10`,children:$.text}),$.character!=="narrator"&&$.emotion&&i.jsxs("div",{className:`mt-2 text-xs inline-block px-2 py-1 rounded-full bg-opacity-30 relative z-10
                        ${$.emotion==="happy"?"bg-yellow-500 text-yellow-200":$.emotion==="sad"?"bg-blue-500 text-blue-200":$.emotion==="angry"?"bg-red-500 text-red-200":$.emotion==="surprised"?"bg-purple-500 text-purple-200":"bg-gray-500 text-gray-200"}
                      `,children:[$.emotion==="happy"&&" ",$.emotion==="sad"&&" ",$.emotion==="angry"&&" ",$.emotion==="surprised"&&" ",$.emotion==="calm"&&" "]})]},$.id))}),Y>=A.content.length-1&&i.jsxs(T.div,{className:"mt-10 text-center",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.5,delay:1},children:[i.jsx("div",{className:"inline-block p-4 bg-gradient-to-r from-green-600 to-green-400 rounded-full mb-3 shadow-lg shadow-green-500/30",children:i.jsx("i",{className:"fa-solid fa-check text-2xl text-white"})}),i.jsx("p",{className:"text-lg font-bold text-green-400",children:""}),i.jsx("p",{className:"text-gray-400 mt-2",children:""})]})]}),i.jsxs("div",{className:"bg-gray-900 p-4 border-t border-gray-800",children:[i.jsxs("div",{className:"flex justify-between items-center mb-2",children:[i.jsx("span",{className:"text-gray-400 text-sm",children:""}),i.jsxs("span",{className:"text-gray-300 text-sm",children:[Math.round(Y/A.content.length*100),"%"]})]}),i.jsx("div",{className:"w-full bg-gray-800 rounded-full h-2 overflow-hidden",children:i.jsx(T.div,{className:"bg-gradient-to-r from-blue-600 to-cyan-600 h-full rounded-full relative",initial:{width:0},animate:{width:`${Y/A.content.length*100}%`},transition:{duration:1,ease:"easeOut"},children:i.jsx(T.div,{className:"absolute inset-y-0 left-0 w-20 bg-white/30 blur-sm",animate:{x:["-20px","100%"],opacity:[0,.7,0]},transition:{repeat:1/0,duration:2,ease:"easeInOut",repeatDelay:1}})})}),i.jsxs("div",{className:"flex justify-center mt-4 gap-4",children:[i.jsxs(T.button,{whileHover:{scale:1.05,backgroundColor:"rgba(75, 85, 99, 0.8)"},whileTap:{scale:.95},className:"bg-gray-800 hover:bg-gray-700 text-gray-300 px-4 py-2 rounded-lg transition-colors duration-300 flex items-center",onClick:()=>{const $=document.querySelector(".max-h-\\[90vh\\] .overflow-y-auto");$&&$.scrollTo({top:0,behavior:"smooth"})},children:[i.jsx("i",{className:"fa-solid fa-arrow-up mr-2"}),""]}),i.jsxs(T.button,{whileHover:{scale:1.05,backgroundColor:"rgba(75, 85, 99, 0.8)"},whileTap:{scale:.95},className:"bg-gray-800 hover:bg-gray-700 text-gray-300 px-4 py-2 rounded-lg transition-colors duration-300 flex items-center",onClick:_,children:[i.jsx("i",{className:"fa-solid fa-times mr-2"}),""]})]})]})]})]})})};return p?i.jsxs("div",{className:"min-h-screen bg-gray-900 flex flex-col items-center justify-center text-white p-4 relative overflow-hidden",children:[i.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-blue-500/20 rounded-full blur-3xl animate-pulse"}),i.jsx("div",{className:"absolute top-1/4 left-1/4 w-64 h-64 bg-cyan-500/20 rounded-full blur-3xl animate-pulse animation-delay-2000"}),i.jsx(T.div,{animate:{rotate:360,scale:[1,1.1,1]},transition:{rotate:{duration:2,repeat:1/0,ease:"linear"},scale:{duration:1.5,repeat:1/0,ease:"easeInOut"}},className:"text-5xl mb-4 relative z-10",children:i.jsx("i",{className:"fa-solid fa-star"})}),i.jsx("h2",{className:"text-2xl font-bold mb-2 relative z-10",children:"..."}),i.jsx("p",{className:"text-gray-400 relative z-10",children:""})]}):i.jsxs("div",{className:`min-h-screen ${e==="light"?"bg-gray-100":"bg-gray-900"} text-gray-900 dark:text-white transition-colors duration-300 p-4 relative overflow-hidden`,children:[i.jsxs("div",{className:"fixed top-0 left-0 right-0 bottom-0 pointer-events-none z-0",children:[i.jsx(T.div,{className:"absolute top-0 right-0 w-1/3 h-1/3 bg-blue-500/5 rounded-full blur-3xl",animate:{scale:[1,1.2,1],x:[0,-20,0],y:[0,-20,0]},transition:{duration:15,repeat:1/0,ease:"easeInOut"}}),i.jsx(T.div,{className:"absolute bottom-0 left-0 w-1/3 h-1/3 bg-cyan-500/5 rounded-full blur-3xl",animate:{scale:[1,1.2,1],x:[0,20,0],y:[0,20,0]},transition:{duration:12,repeat:1/0,ease:"easeInOut",delay:1}})]}),i.jsxs("header",{className:"max-w-6xl mx-auto mb-8 relative z-10",children:[i.jsx("div",{className:"absolute top-0 left-0 z-20",children:i.jsx(T.button,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5},className:"bg-gray-800/80 dark:bg-gray-900/80 backdrop-blur-sm p-3 rounded-full border border-gray-700 text-white hover:bg-gray-700 transition-all duration-300 shadow-lg flex items-center justify-center",onClick:()=>window.history.back(),"aria-label":"",children:i.jsx("i",{className:"fa-solid fa-arrow-left text-xl"})})}),i.jsxs(T.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"flex flex-col items-center justify-center text-center pt-12 pb-4",children:[i.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-32 h-1 bg-gradient-to-r from-blue-500 to-cyan-500 rounded-full"}),i.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4 bg-gradient-to-r from-blue-600 to-cyan-600 bg-clip-text text-transparent",children:""}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400 max-w-2xl",children:""}),i.jsxs("div",{className:"mt-8 flex flex-col md:flex-row items-center justify-center gap-6 w-full max-w-2xl",children:[i.jsxs(T.div,{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm rounded-xl p-4 shadow-lg w-full md:w-1/2 border border-gray-200 dark:border-gray-700 relative overflow-hidden group",whileHover:{scale:1.02},transition:{type:"spring",stiffness:300},children:[i.jsx(T.div,{className:"absolute -top-10 -right-10 w-32 h-32 bg-blue-500/10 rounded-full blur-2xl",animate:{scale:[1,1.2,1],opacity:[.2,.3,.2]},transition:{duration:4,repeat:1/0,ease:"easeInOut"}}),i.jsx("div",{className:"text-gray-500 dark:text-gray-400 text-sm mb-1 relative z-10",children:""}),i.jsxs("div",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400 relative z-10",children:[o.filter(A=>A.startsWith("side-")).length," / ",It.length]}),i.jsx("div",{className:"mt-2 w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2 overflow-hidden relative z-10",children:i.jsx(T.div,{initial:{width:0},animate:{width:`${o.filter(A=>A.startsWith("side-")).length/It.length*100}%`},transition:{duration:1,ease:"easeOut"},className:"bg-gradient-to-r from-blue-600 to-cyan-600 h-full rounded-full relative",children:i.jsx(T.div,{className:"absolute inset-y-0 left-0 w-10 bg-white/30 blur-sm",animate:{x:["-10px","100%"],opacity:[0,.7,0]},transition:{repeat:1/0,duration:2,ease:"easeInOut",repeatDelay:1}})})})]}),i.jsxs(T.div,{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm rounded-xl p-4 shadow-lg w-full md:w-1/2 border border-gray-200 dark:border-gray-700 relative overflow-hidden group",whileHover:{scale:1.02},transition:{type:"spring",stiffness:300},children:[i.jsx(T.div,{className:"absolute -top-10 -right-10 w-32 h-32 bg-cyan-500/10 rounded-full blur-2xl",animate:{scale:[1,1.2,1],opacity:[.2,.3,.2]},transition:{duration:4,repeat:1/0,ease:"easeInOut",delay:1}}),i.jsx("div",{className:"text-gray-500 dark:text-gray-400 text-sm mb-1 relative z-10",children:""}),i.jsxs("div",{className:"text-3xl font-bold text-cyan-600 dark:text-cyan-400 relative z-10",children:[Math.round(Object.values(u).reduce((A,O,U)=>{const Y=It[U];return Y?A+O/Y.content.length:A},0)/It.length*100),"%"]}),i.jsx("div",{className:"mt-2 w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2 overflow-hidden relative z-10",children:i.jsx(T.div,{initial:{width:0},animate:{width:`${Object.values(u).reduce((A,O,U)=>{const Y=It[U];return Y?A+O/Y.content.length:A},0)/It.length*100}%`},transition:{duration:1,ease:"easeOut"},className:"bg-gradient-to-r from-cyan-600 to-teal-600 h-full rounded-full relative",children:i.jsx(T.div,{className:"absolute inset-y-0 left-0 w-10 bg-white/30 blur-sm",animate:{x:["-10px","100%"],opacity:[0,.7,0]},transition:{repeat:1/0,duration:2,ease:"easeInOut",repeatDelay:1,delay:.5}})})})]})]})]})]}),i.jsxs("main",{className:"max-w-6xl mx-auto pb-16 relative z-10",children:[i.jsxs("div",{className:"flex flex-wrap gap-2 mb-6",children:[i.jsx("button",{className:`px-4 py-2 rounded-full text-sm font-medium transition-colors duration-200 ${b==="all"?"bg-gray-800 text-white":"bg-gray-800/50 text-gray-400 hover:bg-gray-800 hover:text-white"}`,onClick:()=>v("all"),children:""}),i.jsxs("button",{className:`px-4 py-2 rounded-full text-sm font-medium transition-colors duration-200 ${b==="plant"?"bg-green-900/50 text-green-400":"bg-green-900/20 text-green-400/70 hover:bg-green-900/50 hover:text-green-400"}`,onClick:()=>v("plant"),children:[i.jsx("i",{className:"fa-solid fa-seedling mr-1"}),""]}),i.jsxs("button",{className:`px-4 py-2 rounded-full text-sm font-medium transition-colors duration-200 ${b==="zombie"?"bg-red-900/50 text-red-400":"bg-red-900/20 text-red-400/70 hover:bg-red-900/50 hover:text-red-400"}`,onClick:()=>v("zombie"),children:[i.jsx("i",{className:"fa-solid fa-skull mr-1"}),""]})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:k.map((A,O)=>z(A,O))}),i.jsxs(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:1},className:"mt-12 bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm rounded-xl p-6 shadow-lg border border-gray-200 dark:border-gray-700 relative overflow-hidden",whileHover:{y:-5},children:[i.jsx("div",{className:"absolute top-0 right-0 w-40 h-40 bg-yellow-500/10 rounded-full blur-3xl"}),i.jsxs("h2",{className:"text-xl font-bold mb-4 flex items-center relative z-10",children:[i.jsx("i",{className:"fa-solid fa-lightbulb text-yellow-500 mr-2"}),""]}),i.jsxs("ul",{className:"space-y-3 text-gray-600 dark:text-gray-300 relative z-10",children:[i.jsxs("li",{className:"flex items-start",children:[i.jsx("i",{className:"fa-solid fa-check-circle text-green-500 mr-2 mt-1"}),i.jsx("span",{children:""})]}),i.jsxs("li",{className:"flex items-start",children:[i.jsx("i",{className:"fa-solid fa-check-circle text-green-500 mr-2 mt-1"}),i.jsx("span",{children:""})]}),i.jsxs("li",{className:"flex items-start",children:[i.jsx("i",{className:"fa-solid fa-check-circle text-green-500 mr-2 mt-1"}),i.jsx("span",{children:""})]}),i.jsxs("li",{className:"flex items-start",children:[i.jsx("i",{className:"fa-solid fa-check-circle text-green-500 mr-2 mt-1"}),i.jsx("span",{children:""})]})]})]})]}),i.jsx("footer",{className:"bg-gray-800/90 backdrop-blur-sm text-gray-300 py-6 text-center relative z-10 border-t border-gray-700",children:i.jsx("p",{children:" 2025  - "})}),t&&R(),i.jsx(Un,{children:h&&i.jsx(T.div,{className:"fixed inset-0 z-40 bg-black/80 backdrop-blur-sm",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:_})})]})},I5=()=>{const{theme:e}=za(),n=An(),t=[{id:"major-events",title:"",description:"",icon:"fa-landmark",color:"from-blue-600 to-indigo-600",accentColor:"text-blue-400",bgColor:"bg-blue-900/20",borderColor:"border-blue-800/50"},{id:"introduction",title:"",description:"",icon:"fa-book-open",color:"from-purple-600 to-pink-600",accentColor:"text-purple-400",bgColor:"bg-purple-900/20",borderColor:"border-purple-800/50"}],s=o=>{n(`/story-branch/${o}`)};return i.jsxs("div",{className:`min-h-screen ${e==="light"?"bg-gray-100":"bg-gray-900"} text-gray-900 dark:text-white transition-colors duration-300 p-4 relative overflow-hidden`,children:[i.jsxs("div",{className:"fixed top-0 left-0 right-0 bottom-0 pointer-events-none z-0",children:[i.jsx(T.div,{className:"absolute top-1/4 right-1/4 w-1/3 h-1/3 bg-purple-500/5 rounded-full blur-3xl",animate:{scale:[1,1.2,1],x:[0,-20,0],y:[0,-20,0]},transition:{duration:15,repeat:1/0,ease:"easeInOut"}}),i.jsx(T.div,{className:"absolute bottom-1/4 left-1/4 w-1/3 h-1/3 bg-blue-500/5 rounded-full blur-3xl",animate:{scale:[1,1.2,1],x:[0,20,0],y:[0,20,0]},transition:{duration:12,repeat:1/0,ease:"easeInOut",delay:1}})]}),i.jsxs("header",{className:"max-w-6xl mx-auto mb-12 relative z-10",children:[i.jsx("div",{className:"absolute top-0 left-0 z-20",children:i.jsx(T.button,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5},className:"bg-gray-800/80 dark:bg-gray-900/80 backdrop-blur-sm p-3 rounded-full border border-gray-700 text-white hover:bg-gray-700 transition-all duration-300 shadow-lg flex items-center justify-center",onClick:()=>n(-1),"aria-label":"",children:i.jsx("i",{className:"fa-solid fa-arrow-left text-xl"})})}),i.jsxs(T.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"flex flex-col items-center justify-center text-center pt-12 pb-4",children:[i.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-32 h-1 bg-gradient-to-r from-purple-500 to-blue-500 rounded-full"}),i.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4 bg-gradient-to-r from-purple-600 via-blue-600 to-indigo-600 bg-clip-text text-transparent",children:""}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400 max-w-2xl",children:""})]})]}),i.jsxs("main",{className:"max-w-6xl mx-auto pb-16 relative z-10",children:[i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:t.map((o,c)=>i.jsxs(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.7,delay:c*.2},className:`
                relative overflow-hidden rounded-xl cursor-pointer transition-all duration-300
                ${o.bgColor} hover:shadow-xl hover:shadow-blue-900/20 ${o.borderColor} border group
                backdrop-blur-sm hover:-translate-y-1
              `,onClick:()=>s(o.id),whileHover:{scale:1.02},whileTap:{scale:.98},children:[i.jsx(T.div,{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-64 h-64 bg-blue-500/10 rounded-full blur-3xl z-0",animate:{scale:[1,1.2,1],opacity:[.1,.2,.1]},transition:{duration:6,repeat:1/0,ease:"easeInOut"}}),i.jsxs("div",{className:"p-8 relative z-10",children:[i.jsx(T.div,{className:`w-16 h-16 rounded-full bg-gradient-to-br ${o.color} flex items-center justify-center text-white text-2xl mb-6 shadow-lg shadow-blue-900/20`,whileHover:{scale:1.1,rotate:5},transition:{type:"spring",stiffness:400},children:i.jsx("i",{className:`fa-solid ${o.icon}`})}),i.jsxs("h2",{className:"text-2xl font-bold text-white mb-3 relative inline-block",children:[o.title,i.jsx(T.div,{className:"absolute -bottom-1 left-0 right-0 h-0.5 bg-gradient-to-r from-transparent via-blue-500 to-transparent",initial:{width:0},whileInView:{width:"100%"},transition:{duration:.8}})]}),i.jsx("p",{className:"text-gray-300 mb-6 leading-relaxed",children:o.description}),i.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:o.id==="major-events"?i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"px-3 py-1 bg-blue-900/40 text-blue-300 rounded-full text-xs font-medium",children:""}),i.jsx("span",{className:"px-3 py-1 bg-blue-900/40 text-blue-300 rounded-full text-xs font-medium",children:""}),i.jsx("span",{className:"px-3 py-1 bg-blue-900/40 text-blue-300 rounded-full text-xs font-medium",children:""})]}):i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"px-3 py-1 bg-purple-900/40 text-purple-300 rounded-full text-xs font-medium",children:""}),i.jsx("span",{className:"px-3 py-1 bg-purple-900/40 text-purple-300 rounded-full text-xs font-medium",children:""}),i.jsx("span",{className:"px-3 py-1 bg-purple-900/40 text-purple-300 rounded-full text-xs font-medium",children:""})]})}),i.jsxs(T.div,{className:`inline-flex items-center ${o.accentColor} font-medium group`,whileHover:{x:5},transition:{type:"spring",stiffness:400},children:[i.jsxs("span",{className:"relative overflow-hidden",children:["",i.jsx(T.span,{className:"absolute inset-0 bg-white/10",initial:{x:"-100%"},whileHover:{x:0},transition:{duration:.3}})]}),i.jsx(T.span,{className:"ml-2",animate:{x:[0,3,0]},transition:{duration:1.5,repeat:1/0,ease:"easeInOut"},children:i.jsx("i",{className:"fa-solid fa-arrow-right group-hover:text-white transition-colors duration-300"})})]})]}),i.jsx(T.div,{className:"absolute -bottom-16 -right-16 w-64 h-64 bg-blue-500/10 rounded-full blur-3xl",animate:{scale:[1,1.2,1],opacity:[.1,.2,.1]},transition:{duration:8,repeat:1/0,ease:"easeInOut",delay:1}})]},o.id))}),i.jsxs(T.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.6},className:"mt-16 bg-gray-800/50 dark:bg-gray-900/50 backdrop-blur-sm rounded-xl p-6 border border-gray-700 relative overflow-hidden",children:[i.jsx("div",{className:"absolute top-0 right-0 w-40 h-40 bg-purple-500/10 rounded-full blur-3xl"}),i.jsxs("h2",{className:"text-xl font-bold mb-4 text-white flex items-center relative z-10",children:[i.jsx("i",{className:"fa-solid fa-info-circle text-purple-400 mr-2"}),""]}),i.jsx("p",{className:"text-gray-300 mb-4 relative z-10",children:'""""'}),i.jsx("p",{className:"text-gray-300 relative z-10",children:""})]})]}),i.jsx("footer",{className:"bg-gray-800/90 backdrop-blur-sm text-gray-300 py-6 text-center relative z-10 border-t border-gray-700",children:i.jsx("p",{children:" 2025  - "})})]})},R5=()=>{const{theme:e}=za(),n=An(),[t,s]=j.useState("all"),o=[{id:"event-1",title:"",time:"",description:"",importance:"high",icon:"fa-globe"},{id:"event-2",title:"",time:"",description:"",importance:"high",icon:"fa-user-shield"},{id:"event-3",title:"",time:"",description:"",importance:"medium",icon:"fa-city"},{id:"event-4",title:"",time:"",description:"",importance:"high",icon:"fa-exclamation-triangle"},{id:"event-5",title:"",time:"",description:"",importance:"high",icon:"fa-ghost"},{id:"event-6",title:"",time:"",description:"",importance:"high",icon:"fa-wand-magic-sparkles"},{id:"event-7",title:"",time:"",description:"",importance:"medium",icon:"fa-cat"},{id:"event-8",title:"",time:"",description:"",importance:"high",icon:"fa-gate-open"},{id:"event-9",title:"",time:"",description:"",importance:"high",icon:"fa-star"},{id:"event-10",title:"",time:"",description:'""',importance:"medium",icon:"fa-mountain"}],c=t==="all"?o:o.filter(h=>h.importance===t),u=h=>{switch(h){case"high":return"bg-red-900/50 text-red-400";case"medium":return"bg-yellow-900/50 text-yellow-400";case"low":return"bg-green-900/50 text-green-400";default:return"bg-gray-700/50 text-gray-400"}},f=h=>{switch(h){case"high":return"bg-red-500 text-white border-red-400";case"medium":return"bg-yellow-500 text-white border-yellow-400";case"low":return"bg-green-500 text-white border-green-400";default:return"bg-gray-500 text-white border-gray-400"}};return i.jsxs("div",{className:`min-h-screen ${e==="light"?"bg-gradient-to-b from-gray-50 to-gray-100":"bg-gradient-to-b from-gray-950 via-gray-900 to-indigo-950"} text-gray-900 dark:text-white transition-colors duration-700 p-4 relative overflow-hidden`,children:[i.jsxs("div",{className:"fixed top-0 left-0 right-0 bottom-0 pointer-events-none z-0",children:[i.jsx(T.div,{className:`absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[60vw] h-[60vw] rounded-full blur-[100px] ${e==="light"?"bg-blue-100/30":"bg-indigo-900/20"}`,animate:{scale:[1,1.05,1],opacity:[.3,.4,.3]},transition:{duration:20,repeat:1/0,ease:"easeInOut"}}),i.jsx(T.div,{className:`absolute top-[15%] right-[10%] w-[30vw] h-[30vw] rounded-full blur-[80px] ${e==="light"?"bg-blue-200/20":"bg-blue-900/20"}`,animate:{scale:[1,1.2,1],x:[0,-30,0],y:[0,-20,0],opacity:[.2,.3,.2]},transition:{duration:18,repeat:1/0,ease:"easeInOut",delay:1}}),i.jsx(T.div,{className:`absolute bottom-[20%] left-[15%] w-[25vw] h-[25vw] rounded-full blur-[70px] ${e==="light"?"bg-purple-200/20":"bg-purple-900/20"}`,animate:{scale:[1,1.3,1],x:[0,20,0],y:[0,30,0],opacity:[.2,.35,.2]},transition:{duration:22,repeat:1/0,ease:"easeInOut",delay:3}}),i.jsx(T.div,{className:`absolute top-[30%] left-[20%] w-[15vw] h-[15vw] rounded-full blur-[50px] ${e==="light"?"bg-cyan-200/20":"bg-cyan-900/20"}`,animate:{scale:[1,1.5,1],opacity:[.1,.25,.1]},transition:{duration:15,repeat:1/0,ease:"easeInOut",delay:2}}),i.jsx(T.div,{className:`absolute bottom-[35%] right-[25%] w-[18vw] h-[18vw] rounded-full blur-[60px] ${e==="light"?"bg-indigo-200/20":"bg-indigo-900/20"}`,animate:{scale:[1,1.4,1],opacity:[.15,.3,.15]},transition:{duration:17,repeat:1/0,ease:"easeInOut",delay:4}})]}),i.jsxs("header",{className:"max-w-6xl mx-auto mb-8 relative z-10",children:[i.jsx("div",{className:"absolute top-0 left-0 z-20",children:i.jsx(T.button,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5},className:`p-3 rounded-full border text-white hover:shadow-xl transition-all duration-300 flex items-center justify-center backdrop-blur-md
              ${e==="light"?"bg-white/80 border-white/20 text-gray-800 hover:bg-white shadow-gray-200/50":"bg-gray-900/80 border-gray-700/50 hover:bg-gray-800/90 shadow-gray-800/50"}`,onClick:()=>n(-1),"aria-label":"",children:i.jsx("i",{className:"fa-solid fa-arrow-left text-xl"})})}),i.jsxs(T.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.7},className:"flex flex-col items-center justify-center text-center pt-12 pb-4",children:[i.jsx(T.div,{className:"absolute top-0 left-1/2 -translate-x-1/2 w-32 h-1 bg-gradient-to-r from-blue-500 to-indigo-500 rounded-full",initial:{width:0},animate:{width:"8rem"},transition:{duration:.8,delay:.3}}),i.jsx(T.h1,{className:"text-4xl md:text-5xl font-bold mb-4 bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent",animate:{textShadow:["0 0 10px rgba(59, 130, 246, 0.2)","0 0 20px rgba(59, 130, 246, 0.3)","0 0 10px rgba(59, 130, 246, 0.2)"]},transition:{duration:3,repeat:1/0,ease:"easeInOut"},children:""}),i.jsx(T.p,{className:`max-w-2xl ${e==="light"?"text-gray-600":"text-gray-300"}`,initial:{opacity:0},animate:{opacity:1},transition:{duration:.7,delay:.5},children:""})]})]}),i.jsxs("main",{className:"max-w-6xl mx-auto pb-16 relative z-10",children:[i.jsxs(T.div,{className:"flex flex-wrap gap-2 mb-10 justify-center",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.7,delay:.2},children:[i.jsx(T.button,{className:`px-5 py-2.5 rounded-full text-sm font-medium transition-all duration-300 backdrop-blur-sm shadow-lg
              ${t==="all"?e==="light"?"bg-white/90 text-gray-800 shadow-white/40":"bg-gray-900/90 text-white shadow-gray-800/40":e==="light"?"bg-white/60 text-gray-600 hover:bg-white/90 hover:shadow-white/40":"bg-gray-900/60 text-gray-400 hover:bg-gray-900/90 hover:shadow-gray-800/40"}`,onClick:()=>s("all"),whileHover:{scale:1.05},whileTap:{scale:.95},children:""}),i.jsxs(T.button,{className:`px-5 py-2.5 rounded-full text-sm font-medium transition-all duration-300 backdrop-blur-sm shadow-lg
              ${t==="high"?e==="light"?"bg-red-100/90 text-red-800 shadow-red-200/40":"bg-red-900/30 text-red-400 shadow-red-900/30":e==="light"?"bg-red-50/70 text-red-700 hover:bg-red-100/90 hover:shadow-red-200/40":"bg-red-900/10 text-red-400/70 hover:bg-red-900/30 hover:shadow-red-900/30"}`,onClick:()=>s("high"),whileHover:{scale:1.05},whileTap:{scale:.95},children:[i.jsx("i",{className:"fa-solid fa-exclamation-circle mr-1.5"}),""]}),i.jsxs(T.button,{className:`px-5 py-2.5 rounded-full text-sm font-medium transition-all duration-300 backdrop-blur-sm shadow-lg
              ${t==="medium"?e==="light"?"bg-yellow-100/90 text-yellow-800 shadow-yellow-200/40":"bg-yellow-900/30 text-yellow-400 shadow-yellow-900/30":e==="light"?"bg-yellow-50/70 text-yellow-700 hover:bg-yellow-100/90 hover:shadow-yellow-200/40":"bg-yellow-900/10 text-yellow-400/70 hover:bg-yellow-900/30 hover:shadow-yellow-900/30"}`,onClick:()=>s("medium"),whileHover:{scale:1.05},whileTap:{scale:.95},children:[i.jsx("i",{className:"fa-solid fa-circle-info mr-1.5"}),""]})]}),i.jsxs("div",{className:"relative",children:[i.jsx(T.div,{className:`absolute left-0 md:left-1/2 top-0 bottom-0 w-0.5 transform md:-translate-x-1/2
              ${e==="light"?"bg-blue-200":"bg-gray-700"}`,initial:{height:0},animate:{height:"100%"},transition:{duration:1.5,ease:"easeOut"}}),i.jsx("div",{className:"absolute left-0 md:left-1/2 top-0 transform md:-translate-x-1/2",children:c.map((h,m)=>i.jsx(T.div,{className:"absolute w-12 h-12 -translate-x-1/2 bg-gradient-to-r from-blue-500/10 to-indigo-500/10 rounded-full blur-md",style:{top:`${m*100+20}px`},initial:{opacity:0,scale:0},animate:{opacity:.7,scale:1},transition:{duration:.5,delay:.2+m*.1}},m))}),i.jsx("div",{className:"space-y-12",children:c.map((h,m)=>i.jsxs(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.7,delay:.3+m*.1},className:`relative flex flex-col md:flex-row ${m%2===0?"md:flex-row-reverse":""}`,children:[i.jsx("div",{className:"absolute left-0 md:left-1/2 top-0 transform -translate-y-1/2 md:-translate-x-1/2 z-10",children:i.jsx(T.div,{className:`w-10 h-10 rounded-full flex items-center justify-center ${f(h.importance)} shadow-lg`,style:{boxShadow:e==="light"?`0 0 0 4px white, 0 0 15px ${h.importance==="high"?"rgba(239, 68, 68, 0.3)":h.importance==="medium"?"rgba(234, 179, 8, 0.3)":"rgba(34, 197, 94, 0.3)"}`:`0 0 0 4px #1f2937, 0 0 15px ${h.importance==="high"?"rgba(239, 68, 68, 0.3)":h.importance==="medium"?"rgba(234, 179, 8, 0.3)":"rgba(34, 197, 94, 0.3)"}`},initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:260,damping:20,delay:.4+m*.1},whileHover:{scale:1.1,rotate:5},children:i.jsx("i",{className:`fa-solid ${h.icon} text-sm`})})}),i.jsxs(T.div,{className:`flex-1 md:pr-12 ${m%2===0?"md:text-right md:pr-12 md:pl-0":"md:pl-12 md:pr-0"} mt-6 md:mt-0`,whileHover:{scale:1.02},transition:{type:"spring",stiffness:300},children:[i.jsx("div",{className:`inline-block mb-2 text-xs font-medium px-2 py-0.5 rounded-full ${u(h.importance)}`,children:h.time}),i.jsx("h2",{className:`text-xl font-bold mb-2 ${e==="light"?"text-gray-800":"text-white"}`,children:h.title}),i.jsx("p",{className:e==="light"?"text-gray-600":"text-gray-300",children:h.description})]}),i.jsx("div",{className:"flex-1"})]},h.id))})]}),i.jsxs(T.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.8},className:`mt-16 rounded-xl p-6 border relative overflow-hidden backdrop-blur-md shadow-xl
            ${e==="light"?"bg-white/80 border-white/40 shadow-white/20":"bg-gray-900/50 border-gray-700/50 shadow-gray-900/50"}`,children:[i.jsx("div",{className:"absolute top-0 right-0 w-40 h-40 bg-blue-500/10 rounded-full blur-3xl"}),i.jsxs("h2",{className:`text-xl font-bold mb-4 flex items-center relative z-10
            ${e==="light"?"text-gray-800":"text-white"}`,children:[i.jsx("i",{className:"fa-solid fa-map-location-dot text-blue-400 mr-2"}),""]}),i.jsx("div",{className:`aspect-video rounded-lg overflow-hidden relative mb-4
            ${e==="light"?"bg-gray-100":"bg-gray-950"}`,children:i.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:i.jsxs("div",{className:`text-center p-8
                ${e==="light"?"text-gray-500":"text-gray-400"}`,children:[i.jsx(T.div,{animate:{rotate:[0,10,0,-10,0],scale:[1,1.05,1]},transition:{duration:3,repeat:1/0,ease:"easeInOut"},children:i.jsx("i",{className:"fa-solid fa-map-location-dot text-4xl mb-4"})}),i.jsx("p",{children:"..."}),i.jsx("p",{className:"text-sm mt-2",children:""})]})})}),i.jsx("p",{className:`text-sm
            ${e==="light"?"text-gray-600":"text-gray-400"}`,children:""})]}),i.jsxs(T.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:1},className:`mt-8 rounded-xl p-6 border relative overflow-hidden backdrop-blur-md shadow-xl
            ${e==="light"?"bg-white/80 border-white/40 shadow-white/20":"bg-gray-900/50 border-gray-700/50 shadow-gray-900/50"}`,children:[i.jsx("div",{className:"absolute bottom-0 left-0 w-40 h-40 bg-purple-500/10 rounded-full blur-3xl"}),i.jsxs("h2",{className:`text-xl font-bold mb-4 flex items-center relative z-10
            ${e==="light"?"text-gray-800":"text-white"}`,children:[i.jsx("i",{className:"fa-solid fa-network-wired text-purple-400 mr-2"}),""]}),i.jsx("div",{className:`aspect-square md:aspect-video rounded-lg overflow-hidden relative
            ${e==="light"?"bg-gray-100":"bg-gray-950"}`,children:i.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:i.jsxs("div",{className:`text-center p-8
                ${e==="light"?"text-gray-500":"text-gray-400"}`,children:[i.jsx(T.div,{animate:{y:[0,-5,0],scale:[1,1.05,1]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:i.jsx("i",{className:"fa-solid fa-users text-4xl mb-4"})}),i.jsx("p",{children:"..."}),i.jsx("p",{className:"text-sm mt-2",children:""})]})})})]})]}),i.jsx("footer",{className:`py-6 text-center relative z-10 border-t
        ${e==="light"?"bg-white/80 border-gray-200 text-gray-600":"bg-gray-900/80 border-gray-800 text-gray-400"} backdrop-blur-sm`,children:i.jsx("p",{children:" 2025  - "})})]})},D5=()=>{var u,f;const{theme:e}=za(),n=An(),[t,s]=j.useState("world"),o=[{id:"world",title:"",description:"",icon:"fa-globe-asia",color:"from-blue-600 to-cyan-600"},{id:"characters",title:"",description:"",icon:"fa-users",color:"from-purple-600 to-pink-600"},{id:"magic",title:"",description:"",icon:"fa-wand-sparkles",color:"from-amber-600 to-orange-600"},{id:"history",description:"",icon:"fa-book",color:"from-green-600 to-teal-600",title:""},{id:"locations",title:"",description:"",icon:"fa-map-marker-alt",color:"from-red-600 to-rose-600"},{id:"organizations",title:"",description:"",icon:"fa-landmark",color:"from-indigo-600 to-violet-600"}],c=h=>h===t?"bg-gray-800 text-white":"bg-gray-800/50 text-gray-400 hover:bg-gray-800 hover:text-white";return i.jsxs("div",{className:`min-h-screen ${e==="light"?"bg-gray-100":"bg-gray-900"} text-gray-900 dark:text-white transition-colors duration-300 p-4 relative overflow-hidden`,children:[i.jsxs("div",{className:"fixed top-0 left-0 right-0 bottom-0 pointer-events-none z-0",children:[i.jsx(T.div,{className:"absolute top-1/4 right-1/4 w-1/3 h-1/3 bg-purple-500/5 rounded-full blur-3xl",animate:{scale:[1,1.2,1],x:[0,-20,0],y:[0,-20,0]},transition:{duration:15,repeat:1/0,ease:"easeInOut"}}),i.jsx(T.div,{className:"absolute bottom-1/4 left-1/4 w-1/3 h-1/3 bg-pink-500/5 rounded-full blur-3xl",animate:{scale:[1,1.2,1],x:[0,20,0],y:[0,20,0]},transition:{duration:12,repeat:1/0,ease:"easeInOut",delay:1}})]}),i.jsxs("header",{className:"max-w-6xl mx-auto mb-8 relative z-10",children:[i.jsx("div",{className:"absolute top-0 left-0 z-20",children:i.jsx(T.button,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5},className:"bg-gray-800/80 dark:bg-gray-900/80 backdrop-blur-sm p-3 rounded-full border border-gray-700 text-white hover:bg-gray-700 transition-all duration-300 shadow-lg flex items-center justify-center",onClick:()=>n(-1),"aria-label":"",children:i.jsx("i",{className:"fa-solid fa-arrow-left text-xl"})})}),i.jsxs(T.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"flex flex-col items-center justify-center text-center pt-12 pb-4",children:[i.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-32 h-1 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full"}),i.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4 bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:""}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400 max-w-2xl",children:""})]})]}),i.jsxs("main",{className:"max-w-6xl mx-auto pb-16 relative z-10",children:[i.jsx("div",{className:"flex flex-wrap gap-2 mb-8 overflow-x-auto pb-2 scrollbar-thin scrollbar-thumb-gray-700 scrollbar-track-transparent",children:o.map(h=>i.jsxs(T.button,{className:`px-4 py-2 rounded-full text-sm font-medium transition-colors duration-200 ${c(h.id)}`,onClick:()=>s(h.id),whileHover:{scale:1.05},whileTap:{scale:.95},children:[i.jsx("i",{className:`fa-solid ${h.icon} mr-1.5`}),h.title]},h.id))}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[i.jsxs(T.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.7},className:"bg-gray-800/50 dark:bg-gray-900/50 backdrop-blur-sm rounded-xl p-6 border border-gray-700 relative overflow-hidden h-full",children:[i.jsx("div",{className:"absolute -top-20 -right-20 w-64 h-64 bg-purple-500/10 rounded-full blur-3xl"}),i.jsx("h2",{className:"text-2xl font-bold text-white mb-4 relative z-10 flex items-center",children:o.find(h=>h.id===t)&&i.jsxs(i.Fragment,{children:[i.jsx("i",{className:`fa-solid ${(u=o.find(h=>h.id===t))==null?void 0:u.icon} text-purple-400 mr-2`}),(f=o.find(h=>h.id===t))==null?void 0:f.title]})}),i.jsxs("div",{className:"space-y-4 relative z-10",children:[t==="world"&&i.jsxs(i.Fragment,{children:[i.jsx("h3",{className:"text-xl font-semibold text-purple-400",children:""}),i.jsx("p",{className:"text-gray-300",children:""}),i.jsx("h3",{className:"text-xl font-semibold text-purple-400 mt-6",children:""}),i.jsx("p",{className:"text-gray-300",children:""}),i.jsx("h3",{className:"text-xl font-semibold text-purple-400 mt-6",children:""}),i.jsx("p",{className:"text-gray-300",children:""})]}),t==="characters"&&i.jsxs(i.Fragment,{children:[i.jsx("h3",{className:"text-xl font-semibold text-purple-400",children:""}),i.jsx("p",{className:"text-gray-300",children:""}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[i.jsxs("div",{className:"bg-gray-900/80 p-4 rounded-lg border border-gray-700",children:[i.jsx("div",{className:"text-lg font-semibold text-pink-400 mb-2",children:""}),i.jsx("p",{className:"text-sm text-gray-400",children:""})]}),i.jsxs("div",{className:"bg-gray-900/80 p-4 rounded-lg border border-gray-700",children:[i.jsx("div",{className:"text-lg font-semibold text-red-400 mb-2",children:""}),i.jsx("p",{className:"text-sm text-gray-400",children:""})]}),i.jsxs("div",{className:"bg-gray-900/80 p-4 rounded-lg border border-gray-700",children:[i.jsx("div",{className:"text-lg font-semibold text-purple-400 mb-2",children:""}),i.jsx("p",{className:"text-sm text-gray-400",children:""})]}),i.jsxs("div",{className:"bg-gray-900/80 p-4 rounded-lg border border-gray-700",children:[i.jsx("div",{className:"text-lg font-semibold text-blue-400 mb-2",children:""}),i.jsx("p",{className:"text-sm text-gray-400",children:""})]})]})]}),t==="magic"&&i.jsxs(i.Fragment,{children:[i.jsx("h3",{className:"text-xl font-semibold text-purple-400",children:""}),i.jsx("p",{className:"text-gray-300",children:""}),i.jsx("h3",{className:"text-xl font-semibold text-purple-400 mt-6",children:""}),i.jsx("p",{className:"text-gray-300",children:""}),i.jsx("h3",{className:"text-xl font-semibold text-purple-400 mt-6",children:""}),i.jsx("p",{className:"text-gray-300",children:""}),i.jsx("h3",{className:"text-xl font-semibold text-purple-400 mt-6",children:""}),i.jsx("p",{className:"text-gray-300",children:""}),i.jsx("h3",{className:"text-xl font-semibold text-purple-400 mt-6",children:""}),i.jsx("p",{className:"text-gray-300",children:""})]}),t==="history"&&i.jsxs(i.Fragment,{children:[i.jsx("h3",{className:"text-xl font-semibold text-purple-400",children:""}),i.jsx("p",{className:"text-gray-300",children:""}),i.jsx("h3",{className:"text-xl font-semibold text-purple-400 mt-6",children:""}),i.jsx("p",{className:"text-gray-300",children:""}),i.jsx("h3",{className:"text-xl font-semibold text-purple-400 mt-6",children:""}),i.jsx("p",{className:"text-gray-300",children:""}),i.jsx("h3",{className:"text-xl font-semibold text-purple-400 mt-6",children:""}),i.jsx("p",{className:"text-gray-300",children:""}),i.jsx("h3",{className:"text-xl font-semibold text-purple-400 mt-6",children:""}),i.jsx("p",{className:"text-gray-300",children:""})]}),t==="locations"&&i.jsxs(i.Fragment,{children:[i.jsx("h3",{className:"text-xl font-semibold text-purple-400",children:""}),i.jsx("p",{className:"text-gray-300",children:""}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[i.jsxs("div",{className:"bg-gray-900/80 p-4 rounded-lg border border-gray-700",children:[i.jsx("div",{className:"text-lg font-semibold text-green-400 mb-2",children:""}),i.jsx("p",{className:"text-sm text-gray-400",children:""})]}),i.jsxs("div",{className:"bg-gray-900/80 p-4 rounded-lg border border-gray-700",children:[i.jsx("div",{className:"text-lg font-semibold text-red-400 mb-2",children:""}),i.jsx("p",{className:"text-sm text-gray-400",children:""})]}),i.jsxs("div",{className:"bg-gray-900/80 p-4 rounded-lg border border-gray-700",children:[i.jsx("div",{className:"text-lg font-semibold text-blue-400 mb-2",children:""}),i.jsx("p",{className:"text-sm text-gray-400",children:""})]}),i.jsxs("div",{className:"bg-gray-900/80 p-4 rounded-lg border border-gray-700",children:[i.jsx("div",{className:"text-lg font-semibold text-purple-400 mb-2",children:""}),i.jsx("p",{className:"text-sm text-gray-400",children:""})]})]})]}),t==="organizations"&&i.jsxs(i.Fragment,{children:[i.jsx("h3",{className:"text-xl font-semibold text-purple-400",children:""}),i.jsx("p",{className:"text-gray-300",children:""}),i.jsxs("div",{className:"space-y-4 mt-4",children:[i.jsxs("div",{className:"bg-gray-900/80 p-4 rounded-lg border border-gray-700",children:[i.jsx("div",{className:"text-lg font-semibold text-blue-400 mb-2",children:""}),i.jsx("p",{className:"text-sm text-gray-400",children:""})]}),i.jsxs("div",{className:"bg-gray-900/80 p-4 rounded-lg border border-gray-700",children:[i.jsx("div",{className:"text-lg font-semibold text-red-400 mb-2",children:""}),i.jsx("p",{className:"text-sm text-gray-400",children:""})]}),i.jsxs("div",{className:"bg-gray-900/80 p-4 rounded-lg border border-gray-700",children:[i.jsx("div",{className:"text-lg font-semibold text-yellow-400 mb-2",children:""}),i.jsx("p",{className:"text-sm text-gray-400",children:""})]}),i.jsxs("div",{className:"bg-gray-900/80 p-4 rounded-lg border border-gray-700",children:[i.jsx("div",{className:"text-lg font-semibold text-green-400 mb-2",children:""}),i.jsx("p",{className:"text-sm text-gray-400",children:""})]})]})]})]})]}),i.jsxs(T.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.7,delay:.2},className:"space-y-8",children:[i.jsxs("div",{className:"bg-gray-800/50 dark:bg-gray-900/50 backdrop-blur-sm rounded-xl p-6 border border-gray-700 relative overflow-hidden",children:[i.jsx("div",{className:"absolute -bottom-20 -left-20 w-64 h-64 bg-pink-500/10 rounded-full blur-3xl"}),i.jsxs("h2",{className:"text-xl font-bold text-white mb-4 relative z-10 flex items-center",children:[i.jsx("i",{className:"fa-solid fa-images text-pink-400 mr-2"}),""]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 relative z-10",children:[i.jsx("div",{className:"rounded-lg overflow-hidden aspect-square",children:i.jsx("img",{src:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=ancient%20fantasy%20world%20landscape%20anime%20style%20beautiful%20nature%20scenery%20forest%20mountain%20castle&sign=2e82ef7c0872d4bf587b6a613077879d",alt:"",className:"w-full h-full object-cover hover:scale-105 transition-transform duration-300",loading:"lazy"})}),i.jsx("div",{className:"rounded-lg overflow-hidden aspect-square",children:i.jsx("img",{src:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=dark%20fantasy%20world%20shadow%20landscape%20anime%20style%20mystical%20atmosphere%20gloomy%20forest%20purple%20sky&sign=1e950066114357cbc3cb5c156e0f0635",alt:"",className:"w-full h-full object-cover hover:scale-105 transition-transform duration-300",loading:"lazy"})})]})]}),i.jsxs("div",{className:"bg-gray-800/50 dark:bg-gray-900/50 backdrop-blur-sm rounded-xl p-6 border border-gray-700 relative overflow-hidden",children:[i.jsx("div",{className:"absolute -top-20 -right-20 w-64 h-64 bg-purple-500/10 rounded-full blur-3xl"}),i.jsxs("h2",{className:"text-xl font-bold text-white mb-4 relative z-10 flex items-center",children:[i.jsx("i",{className:"fa-solid fa-user-friends text-purple-400 mr-2"}),""]}),i.jsxs("div",{className:"space-y-3 relative z-10",children:[i.jsxs("div",{className:"flex items-center p-3 rounded-lg bg-gray-900/80 border border-gray-700 hover:border-purple-700 transition-colors duration-200",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-900 flex items-center justify-center text-blue-400 mr-3",children:i.jsx("i",{className:"fa-solid fa-user-shield"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"text-white font-medium",children:""}),i.jsx("div",{className:"text-xs text-gray-400",children:""})]}),i.jsx("button",{className:"text-purple-400 hover:text-purple-300",children:i.jsx("i",{className:"fa-solid fa-arrow-right"})})]}),i.jsxs("div",{className:"flex items-center p-3 rounded-lg bg-gray-900/80 border border-gray-700 hover:border-red-700 transition-colors duration-200",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-red-900 flex items-center justify-center text-red-400 mr-3",children:i.jsx("i",{className:"fa-solid fa-ghost"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"text-white font-medium",children:""}),i.jsx("div",{className:"text-xs text-gray-400",children:""})]}),i.jsx("button",{className:"text-purple-400 hover:text-purple-300",children:i.jsx("i",{className:"fa-solid fa-arrow-right"})})]}),i.jsxs("div",{className:"flex items-center p-3 rounded-lg bg-gray-900/80 border border-gray-700 hover:border-purple-700 transition-colors duration-200",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-purple-900 flex items-center justify-center text-purple-400 mr-3",children:i.jsx("i",{className:"fa-solid fa-wand-magic-sparkles"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"text-white font-medium",children:""}),i.jsx("div",{className:"text-xs text-gray-400",children:""})]}),i.jsx("button",{className:"text-purple-400 hover:text-purple-300",children:i.jsx("i",{className:"fa-solid fa-arrow-right"})})]}),i.jsxs("div",{className:"flex items-center p-3 rounded-lg bg-gray-900/80 border border-gray-700 hover:border-blue-700 transition-colors duration-200",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-900 flex items-center justify-center text-blue-400 mr-3",children:i.jsx("i",{className:"fa-solid fa-cat"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"text-white font-medium",children:""}),i.jsx("div",{className:"text-xs text-gray-400",children:""})]}),i.jsx("button",{className:"text-purple-400 hover:text-purple-300",children:i.jsx("i",{className:"fa-solid fa-arrow-right"})})]})]})]}),i.jsxs("div",{className:"bg-gray-800/50 dark:bg-gray-900/50 backdrop-blur-sm rounded-xl p-6 border border-gray-700 relative overflow-hidden",children:[i.jsx("div",{className:"absolute -bottom-20 -left-20 w-64 h-64 bg-blue-500/10 rounded-full blur-3xl"}),i.jsxs("h2",{className:"text-xl font-bold text-white mb-4 relative z-10 flex items-center",children:[i.jsx("i",{className:"fa-solid fa-lightbulb text-yellow-400 mr-2"}),""]}),i.jsxs("div",{className:"flex flex-wrap gap-2 relative z-10",children:[i.jsx("span",{className:"px-3 py-1 bg-blue-900/30 text-blue-300 rounded-full text-sm",children:""}),i.jsx("span",{className:"px-3 py-1 bg-red-900/30 text-red-300 rounded-full text-sm",children:""}),i.jsx("span",{className:"px-3 py-1 bg-green-900/30 text-green-300 rounded-full text-sm",children:""}),i.jsx("span",{className:"px-3 py-1 bg-purple-900/30 text-purple-300 rounded-full text-sm",children:""}),i.jsx("span",{className:"px-3 py-1 bg-yellow-900/30 text-yellow-300 rounded-full text-sm",children:""}),i.jsx("span",{className:"px-3 py-1 bg-indigo-900/30 text-indigo-300 rounded-full text-sm",children:""}),i.jsx("span",{className:"px-3 py-1 bg-pink-900/30 text-pink-300 rounded-full text-sm",children:""}),i.jsx("span",{className:"px-3 py-1 bg-cyan-900/30 text-cyan-300 rounded-full text-sm",children:""}),i.jsx("span",{className:"px-3 py-1 bg-orange-900/30 text-orange-300 rounded-full text-sm",children:""})]})]})]})]}),i.jsxs(T.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.4},className:"mt-12 bg-gray-800/50 dark:bg-gray-900/50 backdrop-blur-sm rounded-xl p-6 border border-gray-700 relative overflow-hidden",children:[i.jsx("div",{className:"absolute top-0 right-0 w-40 h-40 bg-yellow-500/10 rounded-full blur-3xl"}),i.jsxs("h2",{className:"text-xl font-bold mb-4 text-white flex items-center relative z-10",children:[i.jsx("i",{className:"fa-solid fa-info-circle text-yellow-400 mr-2"}),""]}),i.jsxs("ul",{className:"space-y-3 text-gray-300 relative z-10",children:[i.jsxs("li",{className:"flex items-start",children:[i.jsx("i",{className:"fa-solid fa-check-circle text-green-500 mr-2 mt-1"}),i.jsx("span",{children:""})]}),i.jsxs("li",{className:"flex items-start",children:[i.jsx("i",{className:"fa-solid fa-check-circle text-green-500 mr-2 mt-1"}),i.jsx("span",{children:""})]}),i.jsxs("li",{className:"flex items-start",children:[i.jsx("i",{className:"fa-solid fa-check-circle text-green-500 mr-2 mt-1"}),i.jsx("span",{children:"NPC"})]}),i.jsxs("li",{className:"flex items-start",children:[i.jsx("i",{className:"fa-solid fa-check-circle text-green-500 mr-2 mt-1"}),i.jsx("span",{children:""})]})]})]})]}),i.jsx("footer",{className:"bg-gray-800/90 backdrop-blur-sm text-gray-300 py-6 text-center relative z-10 border-t border-gray-700",children:i.jsx("p",{children:" 2025  - "})})]})},L5=(e,n,t)=>Math.min(Math.max(e,n),t);var O5={value:()=>{}};function Kl(){for(var e=0,n=arguments.length,t={},s;e<n;++e){if(!(s=arguments[e]+"")||s in t||/[\s.]/.test(s))throw new Error("illegal type: "+s);t[s]=[]}return new kl(t)}function kl(e){this._=e}function $5(e,n){return e.trim().split(/^|\s+/).map(function(t){var s="",o=t.indexOf(".");if(o>=0&&(s=t.slice(o+1),t=t.slice(0,o)),t&&!n.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:s}})}kl.prototype=Kl.prototype={constructor:kl,on:function(e,n){var t=this._,s=$5(e+"",t),o,c=-1,u=s.length;if(arguments.length<2){for(;++c<u;)if((o=(e=s[c]).type)&&(o=F5(t[o],e.name)))return o;return}if(n!=null&&typeof n!="function")throw new Error("invalid callback: "+n);for(;++c<u;)if(o=(e=s[c]).type)t[o]=_p(t[o],e.name,n);else if(n==null)for(o in t)t[o]=_p(t[o],e.name,null);return this},copy:function(){var e={},n=this._;for(var t in n)e[t]=n[t].slice();return new kl(e)},call:function(e,n){if((o=arguments.length-2)>0)for(var t=new Array(o),s=0,o,c;s<o;++s)t[s]=arguments[s+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(c=this._[e],s=0,o=c.length;s<o;++s)c[s].value.apply(n,t)},apply:function(e,n,t){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var s=this._[e],o=0,c=s.length;o<c;++o)s[o].value.apply(n,t)}};function F5(e,n){for(var t=0,s=e.length,o;t<s;++t)if((o=e[t]).name===n)return o.value}function _p(e,n,t){for(var s=0,o=e.length;s<o;++s)if(e[s].name===n){e[s]=O5,e=e.slice(0,s).concat(e.slice(s+1));break}return t!=null&&e.push({name:n,value:t}),e}var kd="http://www.w3.org/1999/xhtml";const Cp={svg:"http://www.w3.org/2000/svg",xhtml:kd,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Gl(e){var n=e+="",t=n.indexOf(":");return t>=0&&(n=e.slice(0,t))!=="xmlns"&&(e=e.slice(t+1)),Cp.hasOwnProperty(n)?{space:Cp[n],local:e}:e}function V5(e){return function(){var n=this.ownerDocument,t=this.namespaceURI;return t===kd&&n.documentElement.namespaceURI===kd?n.createElement(e):n.createElementNS(t,e)}}function B5(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Gx(e){var n=Gl(e);return(n.local?B5:V5)(n)}function q5(){}function b0(e){return e==null?q5:function(){return this.querySelector(e)}}function W5(e){typeof e!="function"&&(e=b0(e));for(var n=this._groups,t=n.length,s=new Array(t),o=0;o<t;++o)for(var c=n[o],u=c.length,f=s[o]=new Array(u),h,m,p=0;p<u;++p)(h=c[p])&&(m=e.call(h,h.__data__,p,c))&&("__data__"in h&&(m.__data__=h.__data__),f[p]=m);return new an(s,this._parents)}function H5(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function U5(){return[]}function Xx(e){return e==null?U5:function(){return this.querySelectorAll(e)}}function Y5(e){return function(){return H5(e.apply(this,arguments))}}function K5(e){typeof e=="function"?e=Y5(e):e=Xx(e);for(var n=this._groups,t=n.length,s=[],o=[],c=0;c<t;++c)for(var u=n[c],f=u.length,h,m=0;m<f;++m)(h=u[m])&&(s.push(e.call(h,h.__data__,m,u)),o.push(h));return new an(s,o)}function Zx(e){return function(){return this.matches(e)}}function Qx(e){return function(n){return n.matches(e)}}var G5=Array.prototype.find;function X5(e){return function(){return G5.call(this.children,e)}}function Z5(){return this.firstElementChild}function Q5(e){return this.select(e==null?Z5:X5(typeof e=="function"?e:Qx(e)))}var J5=Array.prototype.filter;function eN(){return Array.from(this.children)}function tN(e){return function(){return J5.call(this.children,e)}}function nN(e){return this.selectAll(e==null?eN:tN(typeof e=="function"?e:Qx(e)))}function rN(e){typeof e!="function"&&(e=Zx(e));for(var n=this._groups,t=n.length,s=new Array(t),o=0;o<t;++o)for(var c=n[o],u=c.length,f=s[o]=[],h,m=0;m<u;++m)(h=c[m])&&e.call(h,h.__data__,m,c)&&f.push(h);return new an(s,this._parents)}function Jx(e){return new Array(e.length)}function aN(){return new an(this._enter||this._groups.map(Jx),this._parents)}function Dl(e,n){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=n}Dl.prototype={constructor:Dl,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,n){return this._parent.insertBefore(e,n)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function iN(e){return function(){return e}}function sN(e,n,t,s,o,c){for(var u=0,f,h=n.length,m=c.length;u<m;++u)(f=n[u])?(f.__data__=c[u],s[u]=f):t[u]=new Dl(e,c[u]);for(;u<h;++u)(f=n[u])&&(o[u]=f)}function oN(e,n,t,s,o,c,u){var f,h,m=new Map,p=n.length,y=c.length,b=new Array(p),v;for(f=0;f<p;++f)(h=n[f])&&(b[f]=v=u.call(h,h.__data__,f,n)+"",m.has(v)?o[f]=h:m.set(v,h));for(f=0;f<y;++f)v=u.call(e,c[f],f,c)+"",(h=m.get(v))?(s[f]=h,h.__data__=c[f],m.delete(v)):t[f]=new Dl(e,c[f]);for(f=0;f<p;++f)(h=n[f])&&m.get(b[f])===h&&(o[f]=h)}function lN(e){return e.__data__}function cN(e,n){if(!arguments.length)return Array.from(this,lN);var t=n?oN:sN,s=this._parents,o=this._groups;typeof e!="function"&&(e=iN(e));for(var c=o.length,u=new Array(c),f=new Array(c),h=new Array(c),m=0;m<c;++m){var p=s[m],y=o[m],b=y.length,v=uN(e.call(p,p&&p.__data__,m,s)),k=v.length,S=f[m]=new Array(k),N=u[m]=new Array(k),C=h[m]=new Array(b);t(p,y,S,N,C,v,n);for(var M=0,_=0,z,R;M<k;++M)if(z=S[M]){for(M>=_&&(_=M+1);!(R=N[_])&&++_<k;);z._next=R||null}}return u=new an(u,s),u._enter=f,u._exit=h,u}function uN(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function dN(){return new an(this._exit||this._groups.map(Jx),this._parents)}function hN(e,n,t){var s=this.enter(),o=this,c=this.exit();return typeof e=="function"?(s=e(s),s&&(s=s.selection())):s=s.append(e+""),n!=null&&(o=n(o),o&&(o=o.selection())),t==null?c.remove():t(c),s&&o?s.merge(o).order():o}function fN(e){for(var n=e.selection?e.selection():e,t=this._groups,s=n._groups,o=t.length,c=s.length,u=Math.min(o,c),f=new Array(o),h=0;h<u;++h)for(var m=t[h],p=s[h],y=m.length,b=f[h]=new Array(y),v,k=0;k<y;++k)(v=m[k]||p[k])&&(b[k]=v);for(;h<o;++h)f[h]=t[h];return new an(f,this._parents)}function mN(){for(var e=this._groups,n=-1,t=e.length;++n<t;)for(var s=e[n],o=s.length-1,c=s[o],u;--o>=0;)(u=s[o])&&(c&&u.compareDocumentPosition(c)^4&&c.parentNode.insertBefore(u,c),c=u);return this}function pN(e){e||(e=gN);function n(y,b){return y&&b?e(y.__data__,b.__data__):!y-!b}for(var t=this._groups,s=t.length,o=new Array(s),c=0;c<s;++c){for(var u=t[c],f=u.length,h=o[c]=new Array(f),m,p=0;p<f;++p)(m=u[p])&&(h[p]=m);h.sort(n)}return new an(o,this._parents).order()}function gN(e,n){return e<n?-1:e>n?1:e>=n?0:NaN}function xN(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function yN(){return Array.from(this)}function bN(){for(var e=this._groups,n=0,t=e.length;n<t;++n)for(var s=e[n],o=0,c=s.length;o<c;++o){var u=s[o];if(u)return u}return null}function vN(){let e=0;for(const n of this)++e;return e}function wN(){return!this.node()}function jN(e){for(var n=this._groups,t=0,s=n.length;t<s;++t)for(var o=n[t],c=0,u=o.length,f;c<u;++c)(f=o[c])&&e.call(f,f.__data__,c,o);return this}function NN(e){return function(){this.removeAttribute(e)}}function SN(e){return function(){this.removeAttributeNS(e.space,e.local)}}function kN(e,n){return function(){this.setAttribute(e,n)}}function _N(e,n){return function(){this.setAttributeNS(e.space,e.local,n)}}function CN(e,n){return function(){var t=n.apply(this,arguments);t==null?this.removeAttribute(e):this.setAttribute(e,t)}}function zN(e,n){return function(){var t=n.apply(this,arguments);t==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,t)}}function TN(e,n){var t=Gl(e);if(arguments.length<2){var s=this.node();return t.local?s.getAttributeNS(t.space,t.local):s.getAttribute(t)}return this.each((n==null?t.local?SN:NN:typeof n=="function"?t.local?zN:CN:t.local?_N:kN)(t,n))}function ey(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function PN(e){return function(){this.style.removeProperty(e)}}function EN(e,n,t){return function(){this.style.setProperty(e,n,t)}}function MN(e,n,t){return function(){var s=n.apply(this,arguments);s==null?this.style.removeProperty(e):this.style.setProperty(e,s,t)}}function AN(e,n,t){return arguments.length>1?this.each((n==null?PN:typeof n=="function"?MN:EN)(e,n,t??"")):yi(this.node(),e)}function yi(e,n){return e.style.getPropertyValue(n)||ey(e).getComputedStyle(e,null).getPropertyValue(n)}function IN(e){return function(){delete this[e]}}function RN(e,n){return function(){this[e]=n}}function DN(e,n){return function(){var t=n.apply(this,arguments);t==null?delete this[e]:this[e]=t}}function LN(e,n){return arguments.length>1?this.each((n==null?IN:typeof n=="function"?DN:RN)(e,n)):this.node()[e]}function ty(e){return e.trim().split(/^|\s+/)}function v0(e){return e.classList||new ny(e)}function ny(e){this._node=e,this._names=ty(e.getAttribute("class")||"")}ny.prototype={add:function(e){var n=this._names.indexOf(e);n<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var n=this._names.indexOf(e);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function ry(e,n){for(var t=v0(e),s=-1,o=n.length;++s<o;)t.add(n[s])}function ay(e,n){for(var t=v0(e),s=-1,o=n.length;++s<o;)t.remove(n[s])}function ON(e){return function(){ry(this,e)}}function $N(e){return function(){ay(this,e)}}function FN(e,n){return function(){(n.apply(this,arguments)?ry:ay)(this,e)}}function VN(e,n){var t=ty(e+"");if(arguments.length<2){for(var s=v0(this.node()),o=-1,c=t.length;++o<c;)if(!s.contains(t[o]))return!1;return!0}return this.each((typeof n=="function"?FN:n?ON:$N)(t,n))}function BN(){this.textContent=""}function qN(e){return function(){this.textContent=e}}function WN(e){return function(){var n=e.apply(this,arguments);this.textContent=n??""}}function HN(e){return arguments.length?this.each(e==null?BN:(typeof e=="function"?WN:qN)(e)):this.node().textContent}function UN(){this.innerHTML=""}function YN(e){return function(){this.innerHTML=e}}function KN(e){return function(){var n=e.apply(this,arguments);this.innerHTML=n??""}}function GN(e){return arguments.length?this.each(e==null?UN:(typeof e=="function"?KN:YN)(e)):this.node().innerHTML}function XN(){this.nextSibling&&this.parentNode.appendChild(this)}function ZN(){return this.each(XN)}function QN(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function JN(){return this.each(QN)}function e4(e){var n=typeof e=="function"?e:Gx(e);return this.select(function(){return this.appendChild(n.apply(this,arguments))})}function t4(){return null}function n4(e,n){var t=typeof e=="function"?e:Gx(e),s=n==null?t4:typeof n=="function"?n:b0(n);return this.select(function(){return this.insertBefore(t.apply(this,arguments),s.apply(this,arguments)||null)})}function r4(){var e=this.parentNode;e&&e.removeChild(this)}function a4(){return this.each(r4)}function i4(){var e=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(e,this.nextSibling):e}function s4(){var e=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(e,this.nextSibling):e}function o4(e){return this.select(e?s4:i4)}function l4(e){return arguments.length?this.property("__data__",e):this.node().__data__}function c4(e){return function(n){e.call(this,n,this.__data__)}}function u4(e){return e.trim().split(/^|\s+/).map(function(n){var t="",s=n.indexOf(".");return s>=0&&(t=n.slice(s+1),n=n.slice(0,s)),{type:n,name:t}})}function d4(e){return function(){var n=this.__on;if(n){for(var t=0,s=-1,o=n.length,c;t<o;++t)c=n[t],(!e.type||c.type===e.type)&&c.name===e.name?this.removeEventListener(c.type,c.listener,c.options):n[++s]=c;++s?n.length=s:delete this.__on}}}function h4(e,n,t){return function(){var s=this.__on,o,c=c4(n);if(s){for(var u=0,f=s.length;u<f;++u)if((o=s[u]).type===e.type&&o.name===e.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=c,o.options=t),o.value=n;return}}this.addEventListener(e.type,c,t),o={type:e.type,name:e.name,value:n,listener:c,options:t},s?s.push(o):this.__on=[o]}}function f4(e,n,t){var s=u4(e+""),o,c=s.length,u;if(arguments.length<2){var f=this.node().__on;if(f){for(var h=0,m=f.length,p;h<m;++h)for(o=0,p=f[h];o<c;++o)if((u=s[o]).type===p.type&&u.name===p.name)return p.value}return}for(f=n?h4:d4,o=0;o<c;++o)this.each(f(s[o],n,t));return this}function iy(e,n,t){var s=ey(e),o=s.CustomEvent;typeof o=="function"?o=new o(n,t):(o=s.document.createEvent("Event"),t?(o.initEvent(n,t.bubbles,t.cancelable),o.detail=t.detail):o.initEvent(n,!1,!1)),e.dispatchEvent(o)}function m4(e,n){return function(){return iy(this,e,n)}}function p4(e,n){return function(){return iy(this,e,n.apply(this,arguments))}}function g4(e,n){return this.each((typeof n=="function"?p4:m4)(e,n))}function*x4(){for(var e=this._groups,n=0,t=e.length;n<t;++n)for(var s=e[n],o=0,c=s.length,u;o<c;++o)(u=s[o])&&(yield u)}var sy=[null];function an(e,n){this._groups=e,this._parents=n}function Ys(){return new an([[document.documentElement]],sy)}function y4(){return this}an.prototype=Ys.prototype={constructor:an,select:W5,selectAll:K5,selectChild:Q5,selectChildren:nN,filter:rN,data:cN,enter:aN,exit:dN,join:hN,merge:fN,selection:y4,order:mN,sort:pN,call:xN,nodes:yN,node:bN,size:vN,empty:wN,each:jN,attr:TN,style:AN,property:LN,classed:VN,text:HN,html:GN,raise:ZN,lower:JN,append:e4,insert:n4,remove:a4,clone:o4,datum:l4,on:f4,dispatch:g4,[Symbol.iterator]:x4};function Wr(e){return typeof e=="string"?new an([[document.querySelector(e)]],[document.documentElement]):new an([[e]],sy)}function b4(e){let n;for(;n=e.sourceEvent;)e=n;return e}function zp(e,n){if(e=b4(e),n===void 0&&(n=e.currentTarget),n){var t=n.ownerSVGElement||n;if(t.createSVGPoint){var s=t.createSVGPoint();return s.x=e.clientX,s.y=e.clientY,s=s.matrixTransform(n.getScreenCTM().inverse()),[s.x,s.y]}if(n.getBoundingClientRect){var o=n.getBoundingClientRect();return[e.clientX-o.left-n.clientLeft,e.clientY-o.top-n.clientTop]}}return[e.pageX,e.pageY]}const v4={passive:!1},Rs={capture:!0,passive:!1};function Zu(e){e.stopImmediatePropagation()}function mi(e){e.preventDefault(),e.stopImmediatePropagation()}function w4(e){var n=e.document.documentElement,t=Wr(e).on("dragstart.drag",mi,Rs);"onselectstart"in n?t.on("selectstart.drag",mi,Rs):(n.__noselect=n.style.MozUserSelect,n.style.MozUserSelect="none")}function j4(e,n){var t=e.document.documentElement,s=Wr(e).on("dragstart.drag",null);n&&(s.on("click.drag",mi,Rs),setTimeout(function(){s.on("click.drag",null)},0)),"onselectstart"in t?s.on("selectstart.drag",null):(t.style.MozUserSelect=t.__noselect,delete t.__noselect)}const ml=e=>()=>e;function _d(e,{sourceEvent:n,subject:t,target:s,identifier:o,active:c,x:u,y:f,dx:h,dy:m,dispatch:p}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},subject:{value:t,enumerable:!0,configurable:!0},target:{value:s,enumerable:!0,configurable:!0},identifier:{value:o,enumerable:!0,configurable:!0},active:{value:c,enumerable:!0,configurable:!0},x:{value:u,enumerable:!0,configurable:!0},y:{value:f,enumerable:!0,configurable:!0},dx:{value:h,enumerable:!0,configurable:!0},dy:{value:m,enumerable:!0,configurable:!0},_:{value:p}})}_d.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function N4(e){return!e.ctrlKey&&!e.button}function S4(){return this.parentNode}function k4(e,n){return n??{x:e.x,y:e.y}}function _4(){return navigator.maxTouchPoints||"ontouchstart"in this}function C4(){var e=N4,n=S4,t=k4,s=_4,o={},c=Kl("start","drag","end"),u=0,f,h,m,p,y=0;function b(z){z.on("mousedown.drag",v).filter(s).on("touchstart.drag",N).on("touchmove.drag",C,v4).on("touchend.drag touchcancel.drag",M).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function v(z,R){if(!(p||!e.call(this,z,R))){var A=_(this,n.call(this,z,R),z,R,"mouse");A&&(Wr(z.view).on("mousemove.drag",k,Rs).on("mouseup.drag",S,Rs),w4(z.view),Zu(z),m=!1,f=z.clientX,h=z.clientY,A("start",z))}}function k(z){if(mi(z),!m){var R=z.clientX-f,A=z.clientY-h;m=R*R+A*A>y}o.mouse("drag",z)}function S(z){Wr(z.view).on("mousemove.drag mouseup.drag",null),j4(z.view,m),mi(z),o.mouse("end",z)}function N(z,R){if(e.call(this,z,R)){var A=z.changedTouches,O=n.call(this,z,R),U=A.length,Y,$;for(Y=0;Y<U;++Y)($=_(this,O,z,R,A[Y].identifier,A[Y]))&&(Zu(z),$("start",z,A[Y]))}}function C(z){var R=z.changedTouches,A=R.length,O,U;for(O=0;O<A;++O)(U=o[R[O].identifier])&&(mi(z),U("drag",z,R[O]))}function M(z){var R=z.changedTouches,A=R.length,O,U;for(p&&clearTimeout(p),p=setTimeout(function(){p=null},500),O=0;O<A;++O)(U=o[R[O].identifier])&&(Zu(z),U("end",z,R[O]))}function _(z,R,A,O,U,Y){var $=c.copy(),Q=zp(Y||A,R),he,Se,Ce;if((Ce=t.call(z,new _d("beforestart",{sourceEvent:A,target:b,identifier:U,active:u,x:Q[0],y:Q[1],dx:0,dy:0,dispatch:$}),O))!=null)return he=Ce.x-Q[0]||0,Se=Ce.y-Q[1]||0,function Ie(De,be,K){var de=Q,se;switch(De){case"start":o[U]=Ie,se=u++;break;case"end":delete o[U],--u;case"drag":Q=zp(K||be,R),se=u;break}$.call(De,z,new _d(De,{sourceEvent:be,subject:Ce,target:b,identifier:U,active:se,x:Q[0]+he,y:Q[1]+Se,dx:Q[0]-de[0],dy:Q[1]-de[1],dispatch:$}),O)}}return b.filter=function(z){return arguments.length?(e=typeof z=="function"?z:ml(!!z),b):e},b.container=function(z){return arguments.length?(n=typeof z=="function"?z:ml(z),b):n},b.subject=function(z){return arguments.length?(t=typeof z=="function"?z:ml(z),b):t},b.touchable=function(z){return arguments.length?(s=typeof z=="function"?z:ml(!!z),b):s},b.on=function(){var z=c.on.apply(c,arguments);return z===c?b:z},b.clickDistance=function(z){return arguments.length?(y=(z=+z)*z,b):Math.sqrt(y)},b}function w0(e,n,t){e.prototype=n.prototype=t,t.constructor=e}function oy(e,n){var t=Object.create(e.prototype);for(var s in n)t[s]=n[s];return t}function Ks(){}var Ds=.7,Ll=1/Ds,pi="\\s*([+-]?\\d+)\\s*",Ls="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Hn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",z4=/^#([0-9a-f]{3,8})$/,T4=new RegExp(`^rgb\\(${pi},${pi},${pi}\\)$`),P4=new RegExp(`^rgb\\(${Hn},${Hn},${Hn}\\)$`),E4=new RegExp(`^rgba\\(${pi},${pi},${pi},${Ls}\\)$`),M4=new RegExp(`^rgba\\(${Hn},${Hn},${Hn},${Ls}\\)$`),A4=new RegExp(`^hsl\\(${Ls},${Hn},${Hn}\\)$`),I4=new RegExp(`^hsla\\(${Ls},${Hn},${Hn},${Ls}\\)$`),Tp={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};w0(Ks,Os,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Pp,formatHex:Pp,formatHex8:R4,formatHsl:D4,formatRgb:Ep,toString:Ep});function Pp(){return this.rgb().formatHex()}function R4(){return this.rgb().formatHex8()}function D4(){return ly(this).formatHsl()}function Ep(){return this.rgb().formatRgb()}function Os(e){var n,t;return e=(e+"").trim().toLowerCase(),(n=z4.exec(e))?(t=n[1].length,n=parseInt(n[1],16),t===6?Mp(n):t===3?new Qt(n>>8&15|n>>4&240,n>>4&15|n&240,(n&15)<<4|n&15,1):t===8?pl(n>>24&255,n>>16&255,n>>8&255,(n&255)/255):t===4?pl(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|n&240,((n&15)<<4|n&15)/255):null):(n=T4.exec(e))?new Qt(n[1],n[2],n[3],1):(n=P4.exec(e))?new Qt(n[1]*255/100,n[2]*255/100,n[3]*255/100,1):(n=E4.exec(e))?pl(n[1],n[2],n[3],n[4]):(n=M4.exec(e))?pl(n[1]*255/100,n[2]*255/100,n[3]*255/100,n[4]):(n=A4.exec(e))?Rp(n[1],n[2]/100,n[3]/100,1):(n=I4.exec(e))?Rp(n[1],n[2]/100,n[3]/100,n[4]):Tp.hasOwnProperty(e)?Mp(Tp[e]):e==="transparent"?new Qt(NaN,NaN,NaN,0):null}function Mp(e){return new Qt(e>>16&255,e>>8&255,e&255,1)}function pl(e,n,t,s){return s<=0&&(e=n=t=NaN),new Qt(e,n,t,s)}function L4(e){return e instanceof Ks||(e=Os(e)),e?(e=e.rgb(),new Qt(e.r,e.g,e.b,e.opacity)):new Qt}function Cd(e,n,t,s){return arguments.length===1?L4(e):new Qt(e,n,t,s??1)}function Qt(e,n,t,s){this.r=+e,this.g=+n,this.b=+t,this.opacity=+s}w0(Qt,Cd,oy(Ks,{brighter(e){return e=e==null?Ll:Math.pow(Ll,e),new Qt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Ds:Math.pow(Ds,e),new Qt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Qt(_a(this.r),_a(this.g),_a(this.b),Ol(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ap,formatHex:Ap,formatHex8:O4,formatRgb:Ip,toString:Ip}));function Ap(){return`#${Na(this.r)}${Na(this.g)}${Na(this.b)}`}function O4(){return`#${Na(this.r)}${Na(this.g)}${Na(this.b)}${Na((isNaN(this.opacity)?1:this.opacity)*255)}`}function Ip(){const e=Ol(this.opacity);return`${e===1?"rgb(":"rgba("}${_a(this.r)}, ${_a(this.g)}, ${_a(this.b)}${e===1?")":`, ${e})`}`}function Ol(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function _a(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Na(e){return e=_a(e),(e<16?"0":"")+e.toString(16)}function Rp(e,n,t,s){return s<=0?e=n=t=NaN:t<=0||t>=1?e=n=NaN:n<=0&&(e=NaN),new En(e,n,t,s)}function ly(e){if(e instanceof En)return new En(e.h,e.s,e.l,e.opacity);if(e instanceof Ks||(e=Os(e)),!e)return new En;if(e instanceof En)return e;e=e.rgb();var n=e.r/255,t=e.g/255,s=e.b/255,o=Math.min(n,t,s),c=Math.max(n,t,s),u=NaN,f=c-o,h=(c+o)/2;return f?(n===c?u=(t-s)/f+(t<s)*6:t===c?u=(s-n)/f+2:u=(n-t)/f+4,f/=h<.5?c+o:2-c-o,u*=60):f=h>0&&h<1?0:u,new En(u,f,h,e.opacity)}function $4(e,n,t,s){return arguments.length===1?ly(e):new En(e,n,t,s??1)}function En(e,n,t,s){this.h=+e,this.s=+n,this.l=+t,this.opacity=+s}w0(En,$4,oy(Ks,{brighter(e){return e=e==null?Ll:Math.pow(Ll,e),new En(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Ds:Math.pow(Ds,e),new En(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,n=isNaN(e)||isNaN(this.s)?0:this.s,t=this.l,s=t+(t<.5?t:1-t)*n,o=2*t-s;return new Qt(Qu(e>=240?e-240:e+120,o,s),Qu(e,o,s),Qu(e<120?e+240:e-120,o,s),this.opacity)},clamp(){return new En(Dp(this.h),gl(this.s),gl(this.l),Ol(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Ol(this.opacity);return`${e===1?"hsl(":"hsla("}${Dp(this.h)}, ${gl(this.s)*100}%, ${gl(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Dp(e){return e=(e||0)%360,e<0?e+360:e}function gl(e){return Math.max(0,Math.min(1,e||0))}function Qu(e,n,t){return(e<60?n+(t-n)*e/60:e<180?t:e<240?n+(t-n)*(240-e)/60:n)*255}const cy=e=>()=>e;function F4(e,n){return function(t){return e+t*n}}function V4(e,n,t){return e=Math.pow(e,t),n=Math.pow(n,t)-e,t=1/t,function(s){return Math.pow(e+s*n,t)}}function B4(e){return(e=+e)==1?uy:function(n,t){return t-n?V4(n,t,e):cy(isNaN(n)?t:n)}}function uy(e,n){var t=n-e;return t?F4(e,t):cy(isNaN(e)?n:e)}const Lp=(function e(n){var t=B4(n);function s(o,c){var u=t((o=Cd(o)).r,(c=Cd(c)).r),f=t(o.g,c.g),h=t(o.b,c.b),m=uy(o.opacity,c.opacity);return function(p){return o.r=u(p),o.g=f(p),o.b=h(p),o.opacity=m(p),o+""}}return s.gamma=e,s})(1);function Fr(e,n){return e=+e,n=+n,function(t){return e*(1-t)+n*t}}var zd=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ju=new RegExp(zd.source,"g");function q4(e){return function(){return e}}function W4(e){return function(n){return e(n)+""}}function H4(e,n){var t=zd.lastIndex=Ju.lastIndex=0,s,o,c,u=-1,f=[],h=[];for(e=e+"",n=n+"";(s=zd.exec(e))&&(o=Ju.exec(n));)(c=o.index)>t&&(c=n.slice(t,c),f[u]?f[u]+=c:f[++u]=c),(s=s[0])===(o=o[0])?f[u]?f[u]+=o:f[++u]=o:(f[++u]=null,h.push({i:u,x:Fr(s,o)})),t=Ju.lastIndex;return t<n.length&&(c=n.slice(t),f[u]?f[u]+=c:f[++u]=c),f.length<2?h[0]?W4(h[0].x):q4(n):(n=h.length,function(m){for(var p=0,y;p<n;++p)f[(y=h[p]).i]=y.x(m);return f.join("")})}var Op=180/Math.PI,Td={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function dy(e,n,t,s,o,c){var u,f,h;return(u=Math.sqrt(e*e+n*n))&&(e/=u,n/=u),(h=e*t+n*s)&&(t-=e*h,s-=n*h),(f=Math.sqrt(t*t+s*s))&&(t/=f,s/=f,h/=f),e*s<n*t&&(e=-e,n=-n,h=-h,u=-u),{translateX:o,translateY:c,rotate:Math.atan2(n,e)*Op,skewX:Math.atan(h)*Op,scaleX:u,scaleY:f}}var xl;function U4(e){const n=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return n.isIdentity?Td:dy(n.a,n.b,n.c,n.d,n.e,n.f)}function Y4(e){return e==null||(xl||(xl=document.createElementNS("http://www.w3.org/2000/svg","g")),xl.setAttribute("transform",e),!(e=xl.transform.baseVal.consolidate()))?Td:(e=e.matrix,dy(e.a,e.b,e.c,e.d,e.e,e.f))}function hy(e,n,t,s){function o(m){return m.length?m.pop()+" ":""}function c(m,p,y,b,v,k){if(m!==y||p!==b){var S=v.push("translate(",null,n,null,t);k.push({i:S-4,x:Fr(m,y)},{i:S-2,x:Fr(p,b)})}else(y||b)&&v.push("translate("+y+n+b+t)}function u(m,p,y,b){m!==p?(m-p>180?p+=360:p-m>180&&(m+=360),b.push({i:y.push(o(y)+"rotate(",null,s)-2,x:Fr(m,p)})):p&&y.push(o(y)+"rotate("+p+s)}function f(m,p,y,b){m!==p?b.push({i:y.push(o(y)+"skewX(",null,s)-2,x:Fr(m,p)}):p&&y.push(o(y)+"skewX("+p+s)}function h(m,p,y,b,v,k){if(m!==y||p!==b){var S=v.push(o(v)+"scale(",null,",",null,")");k.push({i:S-4,x:Fr(m,y)},{i:S-2,x:Fr(p,b)})}else(y!==1||b!==1)&&v.push(o(v)+"scale("+y+","+b+")")}return function(m,p){var y=[],b=[];return m=e(m),p=e(p),c(m.translateX,m.translateY,p.translateX,p.translateY,y,b),u(m.rotate,p.rotate,y,b),f(m.skewX,p.skewX,y,b),h(m.scaleX,m.scaleY,p.scaleX,p.scaleY,y,b),m=p=null,function(v){for(var k=-1,S=b.length,N;++k<S;)y[(N=b[k]).i]=N.x(v);return y.join("")}}}var K4=hy(U4,"px, ","px)","deg)"),G4=hy(Y4,", ",")",")"),bi=0,ys=0,ps=0,fy=1e3,$l,bs,Fl=0,Ca=0,Xl=0,$s=typeof performance=="object"&&performance.now?performance:Date,my=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function j0(){return Ca||(my(X4),Ca=$s.now()+Xl)}function X4(){Ca=0}function Vl(){this._call=this._time=this._next=null}Vl.prototype=N0.prototype={constructor:Vl,restart:function(e,n,t){if(typeof e!="function")throw new TypeError("callback is not a function");t=(t==null?j0():+t)+(n==null?0:+n),!this._next&&bs!==this&&(bs?bs._next=this:$l=this,bs=this),this._call=e,this._time=t,Pd()},stop:function(){this._call&&(this._call=null,this._time=1/0,Pd())}};function N0(e,n,t){var s=new Vl;return s.restart(e,n,t),s}function Z4(){j0(),++bi;for(var e=$l,n;e;)(n=Ca-e._time)>=0&&e._call.call(void 0,n),e=e._next;--bi}function $p(){Ca=(Fl=$s.now())+Xl,bi=ys=0;try{Z4()}finally{bi=0,J4(),Ca=0}}function Q4(){var e=$s.now(),n=e-Fl;n>fy&&(Xl-=n,Fl=e)}function J4(){for(var e,n=$l,t,s=1/0;n;)n._call?(s>n._time&&(s=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:$l=t);bs=e,Pd(s)}function Pd(e){if(!bi){ys&&(ys=clearTimeout(ys));var n=e-Ca;n>24?(e<1/0&&(ys=setTimeout($p,e-$s.now()-Xl)),ps&&(ps=clearInterval(ps))):(ps||(Fl=$s.now(),ps=setInterval(Q4,fy)),bi=1,my($p))}}function Fp(e,n,t){var s=new Vl;return n=n==null?0:+n,s.restart(o=>{s.stop(),e(o+n)},n,t),s}var eS=Kl("start","end","cancel","interrupt"),tS=[],py=0,Vp=1,Ed=2,_l=3,Bp=4,Md=5,Cl=6;function Zl(e,n,t,s,o,c){var u=e.__transition;if(!u)e.__transition={};else if(t in u)return;nS(e,t,{name:n,index:s,group:o,on:eS,tween:tS,time:c.time,delay:c.delay,duration:c.duration,ease:c.ease,timer:null,state:py})}function S0(e,n){var t=In(e,n);if(t.state>py)throw new Error("too late; already scheduled");return t}function Gn(e,n){var t=In(e,n);if(t.state>_l)throw new Error("too late; already running");return t}function In(e,n){var t=e.__transition;if(!t||!(t=t[n]))throw new Error("transition not found");return t}function nS(e,n,t){var s=e.__transition,o;s[n]=t,t.timer=N0(c,0,t.time);function c(m){t.state=Vp,t.timer.restart(u,t.delay,t.time),t.delay<=m&&u(m-t.delay)}function u(m){var p,y,b,v;if(t.state!==Vp)return h();for(p in s)if(v=s[p],v.name===t.name){if(v.state===_l)return Fp(u);v.state===Bp?(v.state=Cl,v.timer.stop(),v.on.call("interrupt",e,e.__data__,v.index,v.group),delete s[p]):+p<n&&(v.state=Cl,v.timer.stop(),v.on.call("cancel",e,e.__data__,v.index,v.group),delete s[p])}if(Fp(function(){t.state===_l&&(t.state=Bp,t.timer.restart(f,t.delay,t.time),f(m))}),t.state=Ed,t.on.call("start",e,e.__data__,t.index,t.group),t.state===Ed){for(t.state=_l,o=new Array(b=t.tween.length),p=0,y=-1;p<b;++p)(v=t.tween[p].value.call(e,e.__data__,t.index,t.group))&&(o[++y]=v);o.length=y+1}}function f(m){for(var p=m<t.duration?t.ease.call(null,m/t.duration):(t.timer.restart(h),t.state=Md,1),y=-1,b=o.length;++y<b;)o[y].call(e,p);t.state===Md&&(t.on.call("end",e,e.__data__,t.index,t.group),h())}function h(){t.state=Cl,t.timer.stop(),delete s[n];for(var m in s)return;delete e.__transition}}function rS(e,n){var t=e.__transition,s,o,c=!0,u;if(t){n=n==null?null:n+"";for(u in t){if((s=t[u]).name!==n){c=!1;continue}o=s.state>Ed&&s.state<Md,s.state=Cl,s.timer.stop(),s.on.call(o?"interrupt":"cancel",e,e.__data__,s.index,s.group),delete t[u]}c&&delete e.__transition}}function aS(e){return this.each(function(){rS(this,e)})}function iS(e,n){var t,s;return function(){var o=Gn(this,e),c=o.tween;if(c!==t){s=t=c;for(var u=0,f=s.length;u<f;++u)if(s[u].name===n){s=s.slice(),s.splice(u,1);break}}o.tween=s}}function sS(e,n,t){var s,o;if(typeof t!="function")throw new Error;return function(){var c=Gn(this,e),u=c.tween;if(u!==s){o=(s=u).slice();for(var f={name:n,value:t},h=0,m=o.length;h<m;++h)if(o[h].name===n){o[h]=f;break}h===m&&o.push(f)}c.tween=o}}function oS(e,n){var t=this._id;if(e+="",arguments.length<2){for(var s=In(this.node(),t).tween,o=0,c=s.length,u;o<c;++o)if((u=s[o]).name===e)return u.value;return null}return this.each((n==null?iS:sS)(t,e,n))}function k0(e,n,t){var s=e._id;return e.each(function(){var o=Gn(this,s);(o.value||(o.value={}))[n]=t.apply(this,arguments)}),function(o){return In(o,s).value[n]}}function gy(e,n){var t;return(typeof n=="number"?Fr:n instanceof Os?Lp:(t=Os(n))?(n=t,Lp):H4)(e,n)}function lS(e){return function(){this.removeAttribute(e)}}function cS(e){return function(){this.removeAttributeNS(e.space,e.local)}}function uS(e,n,t){var s,o=t+"",c;return function(){var u=this.getAttribute(e);return u===o?null:u===s?c:c=n(s=u,t)}}function dS(e,n,t){var s,o=t+"",c;return function(){var u=this.getAttributeNS(e.space,e.local);return u===o?null:u===s?c:c=n(s=u,t)}}function hS(e,n,t){var s,o,c;return function(){var u,f=t(this),h;return f==null?void this.removeAttribute(e):(u=this.getAttribute(e),h=f+"",u===h?null:u===s&&h===o?c:(o=h,c=n(s=u,f)))}}function fS(e,n,t){var s,o,c;return function(){var u,f=t(this),h;return f==null?void this.removeAttributeNS(e.space,e.local):(u=this.getAttributeNS(e.space,e.local),h=f+"",u===h?null:u===s&&h===o?c:(o=h,c=n(s=u,f)))}}function mS(e,n){var t=Gl(e),s=t==="transform"?G4:gy;return this.attrTween(e,typeof n=="function"?(t.local?fS:hS)(t,s,k0(this,"attr."+e,n)):n==null?(t.local?cS:lS)(t):(t.local?dS:uS)(t,s,n))}function pS(e,n){return function(t){this.setAttribute(e,n.call(this,t))}}function gS(e,n){return function(t){this.setAttributeNS(e.space,e.local,n.call(this,t))}}function xS(e,n){var t,s;function o(){var c=n.apply(this,arguments);return c!==s&&(t=(s=c)&&gS(e,c)),t}return o._value=n,o}function yS(e,n){var t,s;function o(){var c=n.apply(this,arguments);return c!==s&&(t=(s=c)&&pS(e,c)),t}return o._value=n,o}function bS(e,n){var t="attr."+e;if(arguments.length<2)return(t=this.tween(t))&&t._value;if(n==null)return this.tween(t,null);if(typeof n!="function")throw new Error;var s=Gl(e);return this.tween(t,(s.local?xS:yS)(s,n))}function vS(e,n){return function(){S0(this,e).delay=+n.apply(this,arguments)}}function wS(e,n){return n=+n,function(){S0(this,e).delay=n}}function jS(e){var n=this._id;return arguments.length?this.each((typeof e=="function"?vS:wS)(n,e)):In(this.node(),n).delay}function NS(e,n){return function(){Gn(this,e).duration=+n.apply(this,arguments)}}function SS(e,n){return n=+n,function(){Gn(this,e).duration=n}}function kS(e){var n=this._id;return arguments.length?this.each((typeof e=="function"?NS:SS)(n,e)):In(this.node(),n).duration}function _S(e,n){if(typeof n!="function")throw new Error;return function(){Gn(this,e).ease=n}}function CS(e){var n=this._id;return arguments.length?this.each(_S(n,e)):In(this.node(),n).ease}function zS(e,n){return function(){var t=n.apply(this,arguments);if(typeof t!="function")throw new Error;Gn(this,e).ease=t}}function TS(e){if(typeof e!="function")throw new Error;return this.each(zS(this._id,e))}function PS(e){typeof e!="function"&&(e=Zx(e));for(var n=this._groups,t=n.length,s=new Array(t),o=0;o<t;++o)for(var c=n[o],u=c.length,f=s[o]=[],h,m=0;m<u;++m)(h=c[m])&&e.call(h,h.__data__,m,c)&&f.push(h);return new hr(s,this._parents,this._name,this._id)}function ES(e){if(e._id!==this._id)throw new Error;for(var n=this._groups,t=e._groups,s=n.length,o=t.length,c=Math.min(s,o),u=new Array(s),f=0;f<c;++f)for(var h=n[f],m=t[f],p=h.length,y=u[f]=new Array(p),b,v=0;v<p;++v)(b=h[v]||m[v])&&(y[v]=b);for(;f<s;++f)u[f]=n[f];return new hr(u,this._parents,this._name,this._id)}function MS(e){return(e+"").trim().split(/^|\s+/).every(function(n){var t=n.indexOf(".");return t>=0&&(n=n.slice(0,t)),!n||n==="start"})}function AS(e,n,t){var s,o,c=MS(n)?S0:Gn;return function(){var u=c(this,e),f=u.on;f!==s&&(o=(s=f).copy()).on(n,t),u.on=o}}function IS(e,n){var t=this._id;return arguments.length<2?In(this.node(),t).on.on(e):this.each(AS(t,e,n))}function RS(e){return function(){var n=this.parentNode;for(var t in this.__transition)if(+t!==e)return;n&&n.removeChild(this)}}function DS(){return this.on("end.remove",RS(this._id))}function LS(e){var n=this._name,t=this._id;typeof e!="function"&&(e=b0(e));for(var s=this._groups,o=s.length,c=new Array(o),u=0;u<o;++u)for(var f=s[u],h=f.length,m=c[u]=new Array(h),p,y,b=0;b<h;++b)(p=f[b])&&(y=e.call(p,p.__data__,b,f))&&("__data__"in p&&(y.__data__=p.__data__),m[b]=y,Zl(m[b],n,t,b,m,In(p,t)));return new hr(c,this._parents,n,t)}function OS(e){var n=this._name,t=this._id;typeof e!="function"&&(e=Xx(e));for(var s=this._groups,o=s.length,c=[],u=[],f=0;f<o;++f)for(var h=s[f],m=h.length,p,y=0;y<m;++y)if(p=h[y]){for(var b=e.call(p,p.__data__,y,h),v,k=In(p,t),S=0,N=b.length;S<N;++S)(v=b[S])&&Zl(v,n,t,S,b,k);c.push(b),u.push(p)}return new hr(c,u,n,t)}var $S=Ys.prototype.constructor;function FS(){return new $S(this._groups,this._parents)}function VS(e,n){var t,s,o;return function(){var c=yi(this,e),u=(this.style.removeProperty(e),yi(this,e));return c===u?null:c===t&&u===s?o:o=n(t=c,s=u)}}function xy(e){return function(){this.style.removeProperty(e)}}function BS(e,n,t){var s,o=t+"",c;return function(){var u=yi(this,e);return u===o?null:u===s?c:c=n(s=u,t)}}function qS(e,n,t){var s,o,c;return function(){var u=yi(this,e),f=t(this),h=f+"";return f==null&&(h=f=(this.style.removeProperty(e),yi(this,e))),u===h?null:u===s&&h===o?c:(o=h,c=n(s=u,f))}}function WS(e,n){var t,s,o,c="style."+n,u="end."+c,f;return function(){var h=Gn(this,e),m=h.on,p=h.value[c]==null?f||(f=xy(n)):void 0;(m!==t||o!==p)&&(s=(t=m).copy()).on(u,o=p),h.on=s}}function HS(e,n,t){var s=(e+="")=="transform"?K4:gy;return n==null?this.styleTween(e,VS(e,s)).on("end.style."+e,xy(e)):typeof n=="function"?this.styleTween(e,qS(e,s,k0(this,"style."+e,n))).each(WS(this._id,e)):this.styleTween(e,BS(e,s,n),t).on("end.style."+e,null)}function US(e,n,t){return function(s){this.style.setProperty(e,n.call(this,s),t)}}function YS(e,n,t){var s,o;function c(){var u=n.apply(this,arguments);return u!==o&&(s=(o=u)&&US(e,u,t)),s}return c._value=n,c}function KS(e,n,t){var s="style."+(e+="");if(arguments.length<2)return(s=this.tween(s))&&s._value;if(n==null)return this.tween(s,null);if(typeof n!="function")throw new Error;return this.tween(s,YS(e,n,t??""))}function GS(e){return function(){this.textContent=e}}function XS(e){return function(){var n=e(this);this.textContent=n??""}}function ZS(e){return this.tween("text",typeof e=="function"?XS(k0(this,"text",e)):GS(e==null?"":e+""))}function QS(e){return function(n){this.textContent=e.call(this,n)}}function JS(e){var n,t;function s(){var o=e.apply(this,arguments);return o!==t&&(n=(t=o)&&QS(o)),n}return s._value=e,s}function ek(e){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;return this.tween(n,JS(e))}function tk(){for(var e=this._name,n=this._id,t=yy(),s=this._groups,o=s.length,c=0;c<o;++c)for(var u=s[c],f=u.length,h,m=0;m<f;++m)if(h=u[m]){var p=In(h,n);Zl(h,e,t,m,u,{time:p.time+p.delay+p.duration,delay:0,duration:p.duration,ease:p.ease})}return new hr(s,this._parents,e,t)}function nk(){var e,n,t=this,s=t._id,o=t.size();return new Promise(function(c,u){var f={value:u},h={value:function(){--o===0&&c()}};t.each(function(){var m=Gn(this,s),p=m.on;p!==e&&(n=(e=p).copy(),n._.cancel.push(f),n._.interrupt.push(f),n._.end.push(h)),m.on=n}),o===0&&c()})}var rk=0;function hr(e,n,t,s){this._groups=e,this._parents=n,this._name=t,this._id=s}function yy(){return++rk}var or=Ys.prototype;hr.prototype={constructor:hr,select:LS,selectAll:OS,selectChild:or.selectChild,selectChildren:or.selectChildren,filter:PS,merge:ES,selection:FS,transition:tk,call:or.call,nodes:or.nodes,node:or.node,size:or.size,empty:or.empty,each:or.each,on:IS,attr:mS,attrTween:bS,style:HS,styleTween:KS,text:ZS,textTween:ek,remove:DS,tween:oS,delay:jS,duration:kS,ease:CS,easeVarying:TS,end:nk,[Symbol.iterator]:or[Symbol.iterator]};function ak(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var ik={time:null,delay:0,duration:250,ease:ak};function sk(e,n){for(var t;!(t=e.__transition)||!(t=t[n]);)if(!(e=e.parentNode))throw new Error(`transition ${n} not found`);return t}function ok(e){var n,t;e instanceof hr?(n=e._id,e=e._name):(n=yy(),(t=ik).time=j0(),e=e==null?null:e+"");for(var s=this._groups,o=s.length,c=0;c<o;++c)for(var u=s[c],f=u.length,h,m=0;m<f;++m)(h=u[m])&&Zl(h,e,n,m,u,t||sk(h,n));return new hr(s,this._parents,e,n)}Ys.prototype.interrupt=aS;Ys.prototype.transition=ok;function lk(e,n){var t,s=1;e==null&&(e=0),n==null&&(n=0);function o(){var c,u=t.length,f,h=0,m=0;for(c=0;c<u;++c)f=t[c],h+=f.x,m+=f.y;for(h=(h/u-e)*s,m=(m/u-n)*s,c=0;c<u;++c)f=t[c],f.x-=h,f.y-=m}return o.initialize=function(c){t=c},o.x=function(c){return arguments.length?(e=+c,o):e},o.y=function(c){return arguments.length?(n=+c,o):n},o.strength=function(c){return arguments.length?(s=+c,o):s},o}function ck(e){const n=+this._x.call(null,e),t=+this._y.call(null,e);return by(this.cover(n,t),n,t,e)}function by(e,n,t,s){if(isNaN(n)||isNaN(t))return e;var o,c=e._root,u={data:s},f=e._x0,h=e._y0,m=e._x1,p=e._y1,y,b,v,k,S,N,C,M;if(!c)return e._root=u,e;for(;c.length;)if((S=n>=(y=(f+m)/2))?f=y:m=y,(N=t>=(b=(h+p)/2))?h=b:p=b,o=c,!(c=c[C=N<<1|S]))return o[C]=u,e;if(v=+e._x.call(null,c.data),k=+e._y.call(null,c.data),n===v&&t===k)return u.next=c,o?o[C]=u:e._root=u,e;do o=o?o[C]=new Array(4):e._root=new Array(4),(S=n>=(y=(f+m)/2))?f=y:m=y,(N=t>=(b=(h+p)/2))?h=b:p=b;while((C=N<<1|S)===(M=(k>=b)<<1|v>=y));return o[M]=c,o[C]=u,e}function uk(e){var n,t,s=e.length,o,c,u=new Array(s),f=new Array(s),h=1/0,m=1/0,p=-1/0,y=-1/0;for(t=0;t<s;++t)isNaN(o=+this._x.call(null,n=e[t]))||isNaN(c=+this._y.call(null,n))||(u[t]=o,f[t]=c,o<h&&(h=o),o>p&&(p=o),c<m&&(m=c),c>y&&(y=c));if(h>p||m>y)return this;for(this.cover(h,m).cover(p,y),t=0;t<s;++t)by(this,u[t],f[t],e[t]);return this}function dk(e,n){if(isNaN(e=+e)||isNaN(n=+n))return this;var t=this._x0,s=this._y0,o=this._x1,c=this._y1;if(isNaN(t))o=(t=Math.floor(e))+1,c=(s=Math.floor(n))+1;else{for(var u=o-t||1,f=this._root,h,m;t>e||e>=o||s>n||n>=c;)switch(m=(n<s)<<1|e<t,h=new Array(4),h[m]=f,f=h,u*=2,m){case 0:o=t+u,c=s+u;break;case 1:t=o-u,c=s+u;break;case 2:o=t+u,s=c-u;break;case 3:t=o-u,s=c-u;break}this._root&&this._root.length&&(this._root=f)}return this._x0=t,this._y0=s,this._x1=o,this._y1=c,this}function hk(){var e=[];return this.visit(function(n){if(!n.length)do e.push(n.data);while(n=n.next)}),e}function fk(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function Ft(e,n,t,s,o){this.node=e,this.x0=n,this.y0=t,this.x1=s,this.y1=o}function mk(e,n,t){var s,o=this._x0,c=this._y0,u,f,h,m,p=this._x1,y=this._y1,b=[],v=this._root,k,S;for(v&&b.push(new Ft(v,o,c,p,y)),t==null?t=1/0:(o=e-t,c=n-t,p=e+t,y=n+t,t*=t);k=b.pop();)if(!(!(v=k.node)||(u=k.x0)>p||(f=k.y0)>y||(h=k.x1)<o||(m=k.y1)<c))if(v.length){var N=(u+h)/2,C=(f+m)/2;b.push(new Ft(v[3],N,C,h,m),new Ft(v[2],u,C,N,m),new Ft(v[1],N,f,h,C),new Ft(v[0],u,f,N,C)),(S=(n>=C)<<1|e>=N)&&(k=b[b.length-1],b[b.length-1]=b[b.length-1-S],b[b.length-1-S]=k)}else{var M=e-+this._x.call(null,v.data),_=n-+this._y.call(null,v.data),z=M*M+_*_;if(z<t){var R=Math.sqrt(t=z);o=e-R,c=n-R,p=e+R,y=n+R,s=v.data}}return s}function pk(e){if(isNaN(p=+this._x.call(null,e))||isNaN(y=+this._y.call(null,e)))return this;var n,t=this._root,s,o,c,u=this._x0,f=this._y0,h=this._x1,m=this._y1,p,y,b,v,k,S,N,C;if(!t)return this;if(t.length)for(;;){if((k=p>=(b=(u+h)/2))?u=b:h=b,(S=y>=(v=(f+m)/2))?f=v:m=v,n=t,!(t=t[N=S<<1|k]))return this;if(!t.length)break;(n[N+1&3]||n[N+2&3]||n[N+3&3])&&(s=n,C=N)}for(;t.data!==e;)if(o=t,!(t=t.next))return this;return(c=t.next)&&delete t.next,o?(c?o.next=c:delete o.next,this):n?(c?n[N]=c:delete n[N],(t=n[0]||n[1]||n[2]||n[3])&&t===(n[3]||n[2]||n[1]||n[0])&&!t.length&&(s?s[C]=t:this._root=t),this):(this._root=c,this)}function gk(e){for(var n=0,t=e.length;n<t;++n)this.remove(e[n]);return this}function xk(){return this._root}function yk(){var e=0;return this.visit(function(n){if(!n.length)do++e;while(n=n.next)}),e}function bk(e){var n=[],t,s=this._root,o,c,u,f,h;for(s&&n.push(new Ft(s,this._x0,this._y0,this._x1,this._y1));t=n.pop();)if(!e(s=t.node,c=t.x0,u=t.y0,f=t.x1,h=t.y1)&&s.length){var m=(c+f)/2,p=(u+h)/2;(o=s[3])&&n.push(new Ft(o,m,p,f,h)),(o=s[2])&&n.push(new Ft(o,c,p,m,h)),(o=s[1])&&n.push(new Ft(o,m,u,f,p)),(o=s[0])&&n.push(new Ft(o,c,u,m,p))}return this}function vk(e){var n=[],t=[],s;for(this._root&&n.push(new Ft(this._root,this._x0,this._y0,this._x1,this._y1));s=n.pop();){var o=s.node;if(o.length){var c,u=s.x0,f=s.y0,h=s.x1,m=s.y1,p=(u+h)/2,y=(f+m)/2;(c=o[0])&&n.push(new Ft(c,u,f,p,y)),(c=o[1])&&n.push(new Ft(c,p,f,h,y)),(c=o[2])&&n.push(new Ft(c,u,y,p,m)),(c=o[3])&&n.push(new Ft(c,p,y,h,m))}t.push(s)}for(;s=t.pop();)e(s.node,s.x0,s.y0,s.x1,s.y1);return this}function wk(e){return e[0]}function jk(e){return arguments.length?(this._x=e,this):this._x}function Nk(e){return e[1]}function Sk(e){return arguments.length?(this._y=e,this):this._y}function vy(e,n,t){var s=new _0(n??wk,t??Nk,NaN,NaN,NaN,NaN);return e==null?s:s.addAll(e)}function _0(e,n,t,s,o,c){this._x=e,this._y=n,this._x0=t,this._y0=s,this._x1=o,this._y1=c,this._root=void 0}function qp(e){for(var n={data:e.data},t=n;e=e.next;)t=t.next={data:e.data};return n}var Bt=vy.prototype=_0.prototype;Bt.copy=function(){var e=new _0(this._x,this._y,this._x0,this._y0,this._x1,this._y1),n=this._root,t,s;if(!n)return e;if(!n.length)return e._root=qp(n),e;for(t=[{source:n,target:e._root=new Array(4)}];n=t.pop();)for(var o=0;o<4;++o)(s=n.source[o])&&(s.length?t.push({source:s,target:n.target[o]=new Array(4)}):n.target[o]=qp(s));return e};Bt.add=ck;Bt.addAll=uk;Bt.cover=dk;Bt.data=hk;Bt.extent=fk;Bt.find=mk;Bt.remove=pk;Bt.removeAll=gk;Bt.root=xk;Bt.size=yk;Bt.visit=bk;Bt.visitAfter=vk;Bt.x=jk;Bt.y=Sk;function Cs(e){return function(){return e}}function ui(e){return(e()-.5)*1e-6}function kk(e){return e.index}function Wp(e,n){var t=e.get(n);if(!t)throw new Error("node not found: "+n);return t}function _k(e){var n=kk,t=y,s,o=Cs(30),c,u,f,h,m,p=1;e==null&&(e=[]);function y(N){return 1/Math.min(f[N.source.index],f[N.target.index])}function b(N){for(var C=0,M=e.length;C<p;++C)for(var _=0,z,R,A,O,U,Y,$;_<M;++_)z=e[_],R=z.source,A=z.target,O=A.x+A.vx-R.x-R.vx||ui(m),U=A.y+A.vy-R.y-R.vy||ui(m),Y=Math.sqrt(O*O+U*U),Y=(Y-c[_])/Y*N*s[_],O*=Y,U*=Y,A.vx-=O*($=h[_]),A.vy-=U*$,R.vx+=O*($=1-$),R.vy+=U*$}function v(){if(u){var N,C=u.length,M=e.length,_=new Map(u.map((R,A)=>[n(R,A,u),R])),z;for(N=0,f=new Array(C);N<M;++N)z=e[N],z.index=N,typeof z.source!="object"&&(z.source=Wp(_,z.source)),typeof z.target!="object"&&(z.target=Wp(_,z.target)),f[z.source.index]=(f[z.source.index]||0)+1,f[z.target.index]=(f[z.target.index]||0)+1;for(N=0,h=new Array(M);N<M;++N)z=e[N],h[N]=f[z.source.index]/(f[z.source.index]+f[z.target.index]);s=new Array(M),k(),c=new Array(M),S()}}function k(){if(u)for(var N=0,C=e.length;N<C;++N)s[N]=+t(e[N],N,e)}function S(){if(u)for(var N=0,C=e.length;N<C;++N)c[N]=+o(e[N],N,e)}return b.initialize=function(N,C){u=N,m=C,v()},b.links=function(N){return arguments.length?(e=N,v(),b):e},b.id=function(N){return arguments.length?(n=N,b):n},b.iterations=function(N){return arguments.length?(p=+N,b):p},b.strength=function(N){return arguments.length?(t=typeof N=="function"?N:Cs(+N),k(),b):t},b.distance=function(N){return arguments.length?(o=typeof N=="function"?N:Cs(+N),S(),b):o},b}const Ck=1664525,zk=1013904223,Hp=4294967296;function Tk(){let e=1;return()=>(e=(Ck*e+zk)%Hp)/Hp}function Pk(e){return e.x}function Ek(e){return e.y}var Mk=10,Ak=Math.PI*(3-Math.sqrt(5));function Ik(e){var n,t=1,s=.001,o=1-Math.pow(s,1/300),c=0,u=.6,f=new Map,h=N0(y),m=Kl("tick","end"),p=Tk();e==null&&(e=[]);function y(){b(),m.call("tick",n),t<s&&(h.stop(),m.call("end",n))}function b(S){var N,C=e.length,M;S===void 0&&(S=1);for(var _=0;_<S;++_)for(t+=(c-t)*o,f.forEach(function(z){z(t)}),N=0;N<C;++N)M=e[N],M.fx==null?M.x+=M.vx*=u:(M.x=M.fx,M.vx=0),M.fy==null?M.y+=M.vy*=u:(M.y=M.fy,M.vy=0);return n}function v(){for(var S=0,N=e.length,C;S<N;++S){if(C=e[S],C.index=S,C.fx!=null&&(C.x=C.fx),C.fy!=null&&(C.y=C.fy),isNaN(C.x)||isNaN(C.y)){var M=Mk*Math.sqrt(.5+S),_=S*Ak;C.x=M*Math.cos(_),C.y=M*Math.sin(_)}(isNaN(C.vx)||isNaN(C.vy))&&(C.vx=C.vy=0)}}function k(S){return S.initialize&&S.initialize(e,p),S}return v(),n={tick:b,restart:function(){return h.restart(y),n},stop:function(){return h.stop(),n},nodes:function(S){return arguments.length?(e=S,v(),f.forEach(k),n):e},alpha:function(S){return arguments.length?(t=+S,n):t},alphaMin:function(S){return arguments.length?(s=+S,n):s},alphaDecay:function(S){return arguments.length?(o=+S,n):+o},alphaTarget:function(S){return arguments.length?(c=+S,n):c},velocityDecay:function(S){return arguments.length?(u=1-S,n):1-u},randomSource:function(S){return arguments.length?(p=S,f.forEach(k),n):p},force:function(S,N){return arguments.length>1?(N==null?f.delete(S):f.set(S,k(N)),n):f.get(S)},find:function(S,N,C){var M=0,_=e.length,z,R,A,O,U;for(C==null?C=1/0:C*=C,M=0;M<_;++M)O=e[M],z=S-O.x,R=N-O.y,A=z*z+R*R,A<C&&(U=O,C=A);return U},on:function(S,N){return arguments.length>1?(m.on(S,N),n):m.on(S)}}}function Rk(){var e,n,t,s,o=Cs(-30),c,u=1,f=1/0,h=.81;function m(v){var k,S=e.length,N=vy(e,Pk,Ek).visitAfter(y);for(s=v,k=0;k<S;++k)n=e[k],N.visit(b)}function p(){if(e){var v,k=e.length,S;for(c=new Array(k),v=0;v<k;++v)S=e[v],c[S.index]=+o(S,v,e)}}function y(v){var k=0,S,N,C=0,M,_,z;if(v.length){for(M=_=z=0;z<4;++z)(S=v[z])&&(N=Math.abs(S.value))&&(k+=S.value,C+=N,M+=N*S.x,_+=N*S.y);v.x=M/C,v.y=_/C}else{S=v,S.x=S.data.x,S.y=S.data.y;do k+=c[S.data.index];while(S=S.next)}v.value=k}function b(v,k,S,N){if(!v.value)return!0;var C=v.x-n.x,M=v.y-n.y,_=N-k,z=C*C+M*M;if(_*_/h<z)return z<f&&(C===0&&(C=ui(t),z+=C*C),M===0&&(M=ui(t),z+=M*M),z<u&&(z=Math.sqrt(u*z)),n.vx+=C*v.value*s/z,n.vy+=M*v.value*s/z),!0;if(v.length||z>=f)return;(v.data!==n||v.next)&&(C===0&&(C=ui(t),z+=C*C),M===0&&(M=ui(t),z+=M*M),z<u&&(z=Math.sqrt(u*z)));do v.data!==n&&(_=c[v.data.index]*s/z,n.vx+=C*_,n.vy+=M*_);while(v=v.next)}return m.initialize=function(v,k){e=v,t=k,p()},m.strength=function(v){return arguments.length?(o=typeof v=="function"?v:Cs(+v),p(),m):o},m.distanceMin=function(v){return arguments.length?(u=v*v,m):Math.sqrt(u)},m.distanceMax=function(v){return arguments.length?(f=v*v,m):Math.sqrt(f)},m.theta=function(v){return arguments.length?(h=v*v,m):Math.sqrt(h)},m}function vs(e,n,t){this.k=e,this.x=n,this.y=t}vs.prototype={constructor:vs,scale:function(e){return e===1?this:new vs(this.k*e,this.x,this.y)},translate:function(e,n){return e===0&n===0?this:new vs(this.k,this.x+this.k*e,this.y+this.k*n)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};vs.prototype;const gs={family:{lineType:"solid",color:"#E74C3C",width:3},master:{lineType:"dashed",color:"#3498DB",width:2,dashArray:"5,5"},enemy:{lineType:"solid",color:"#9B59B6",width:3,dashArray:"1,0"},alliance:{lineType:"dotted",color:"#2ECC71",width:2,dashArray:"2,2"},subordinate:{lineType:"solid",color:"#F39C12",width:2},custom:{lineType:"solid",color:"#95A5A6",width:2}},Dk=()=>{const{theme:e}=za(),n=An();$b();const t=j.useRef(null),s=j.useRef(null),[o,c]=j.useState("default"),[u,f]=j.useState(null),[h,m]=j.useState([]),[p,y]=j.useState([]),[b,v]=j.useState(""),[k,S]=j.useState([]),[N,C]=j.useState(null),[M,_]=j.useState(null),[z,R]=j.useState(!1),[A,O]=j.useState(null),[U,Y]=j.useState(null),[$,Q]=j.useState({x:0,y:0,k:1}),[he,Se]=j.useState(!1),[Ce,Ie]=j.useState({x:0,y:0}),[De,be]=j.useState(!0),[K,de]=j.useState([]),[se,L]=j.useState(!1),[G,Te]=j.useState(""),[Pe,Le]=j.useState(""),[Re,Fe]=j.useState(!1),[Oe,We]=j.useState("json"),[mt,E]=j.useState("");j.useEffect(()=>{(()=>{const ue=[];Object.entries(qe).forEach(([te,me])=>{if(!me)return;let ce="";me.name.includes("")&&!me.name.includes("")&&!me.name.includes("")||me.name===""||me.name.includes("Vexithra")||me.name===""?ce="":me.name===""||me.name===""||me.name===""||me.name===""||me.name===""?ce="":me.name===""||me.name===""?ce="":me.name===""||me.name===""?ce="":me.name===""||me.name===""?ce="":me.name===""&&(ce=""),ue.push({id:`plant_${te}`,name:me.name,avatar:Vr[te],type:"plant",faction:ce,title:me.category,position:{x:Math.random()*800,y:Math.random()*600},attributes:{health:me.health,damage:me.damage,cost:me.cost,rarity:me.rarity},createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()})}),Object.entries(ht).forEach(([te,me])=>{if(!me)return;let ce="";te==="xuqinglan_dark"||te==="vexithra"||te==="xian"?ce="":te==="su_huai"||te==="cat_leader"||te==="ji_zai"||te==="li_huo"||te==="xia"||te==="alibi"||te==="qiuyue"?ce="":te==="shantao"&&(ce=""),ue.push({id:`zombie_${te}`,name:me.name,avatar:Br[te],type:"zombie",faction:ce,title:me.difficulty,position:{x:Math.random()*800,y:Math.random()*600},attributes:{health:me.health,damage:me.damage,speed:me.speed,armor:me.armor},createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()})}),m(ue),S(ue),Z(ue)})(),pe();const re=setInterval(()=>{u&&Ae()},3e4);return()=>clearInterval(re)},[]);const Z=B=>{const re=localStorage.getItem("characterRelationship_default");if(re)try{const Ze=JSON.parse(re);f(Ze),y(Ze.nodes.map(cn=>cn.id));return}catch(Ze){console.error("Failed to load default scheme:",Ze)}const ue=B.filter(Ze=>Ze.name===""||Ze.name===""||Ze.name===""||Ze.name===""||Ze.name===""),te=ue.map((Ze,cn)=>{const Zn=cn/ue.length*2*Math.PI,jn=200;return{...Ze,position:{x:400+jn*Math.cos(Zn),y:300+jn*Math.sin(Zn)}}}),me=[],ce=te.find(Ze=>Ze.name===""),we=te.find(Ze=>Ze.name===""),Xe=te.find(Ze=>Ze.name===""),on=te.find(Ze=>Ze.name==="");ce&&we&&me.push({id:`relation_${Date.now()}_1`,source:ce.id,target:we.id,type:"enemy",label:"",strength:.9,direction:"bidirectional",attributes:{event:""},style:gs.enemy,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}),ce&&Xe&&me.push({id:`relation_${Date.now()}_2`,source:ce.id,target:Xe.id,type:"alliance",label:"",strength:.8,direction:"bidirectional",attributes:{event:""},style:gs.alliance,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}),ce&&on&&me.push({id:`relation_${Date.now()}_3`,source:ce.id,target:on.id,type:"master",label:"",strength:.7,direction:"unidirectional",attributes:{event:""},style:gs.master,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()});const ln={id:"default",name:"",description:"",nodes:te,edges:me,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};f(ln),y(te.map(Ze=>Ze.id)),localStorage.setItem("characterRelationship_default",JSON.stringify(ln))},pe=()=>{try{const B=localStorage.getItem("characterRelationship_schemes");if(B){const re=JSON.parse(B);de(re)}}catch(B){console.error("Failed to load saved schemes:",B)}},Ae=j.useCallback(()=>{if(u)try{if(u.id==="default")localStorage.setItem("characterRelationship_default",JSON.stringify(u));else{const B=[...K],re=B.findIndex(ue=>ue.id===u.id);re>=0?B[re]=u:B.push(u),de(B),localStorage.setItem("characterRelationship_schemes",JSON.stringify(B))}}catch(B){console.error("Failed to save current scheme:",B)}},[u,K]);j.useEffect(()=>{if(b.trim()==="")S(h);else{const B=h.filter(re=>{var ue;return re.name.toLowerCase().includes(b.toLowerCase())||re.faction.toLowerCase().includes(b.toLowerCase())||((ue=re.title)==null?void 0:ue.toLowerCase().includes(b.toLowerCase()))});S(B)}},[b,h]),j.useEffect(()=>{if(!s.current||!u)return;const re=Wr(s.current).select("g");re.selectAll("*").remove(),re.attr("transform",`translate(${$.x},${$.y}) scale(${$.k})`);const ue=Ik(u.nodes).force("link",_k(u.edges).id(ce=>ce.id).distance(150)).force("charge",Rk().strength(-300)).force("center",lk(400,300)),te=re.append("g").attr("stroke","#999").attr("stroke-opacity",.6).selectAll("line").data(u.edges).join("line").attr("stroke-width",ce=>ce.style.width).attr("stroke",ce=>ce.style.color).style("stroke-dasharray",ce=>ce.style.dashArray||"none").style("cursor","pointer").on("click",(ce,we)=>{ce.stopPropagation(),_(we.id),C(null)}).on("mouseover",function(ce,we){Wr(this).attr("stroke-width",we.style.width*1.5).style("stroke-opacity",.9);const Xe=Wr("body").append("div").attr("class","fixed z-50 bg-gray-800 text-white p-2 rounded shadow-lg text-sm").style("left",`${ce.pageX+10}px`).style("top",`${ce.pageY-10}px`).style("opacity",0).transition().duration(200).style("opacity",1);Xe.html(`<strong>${we.label}</strong><br/>: ${we.strength*100}%`),this.tooltip=Xe}).on("mouseout",function(){Wr(this).attr("stroke-width",ce=>ce.style.width).style("stroke-opacity",.6),this.tooltip&&this.tooltip.transition().duration(200).style("opacity",0).remove()}),me=re.append("g").selectAll("g").data(u.nodes).join("g").attr("transform",ce=>`translate(${ce.position.x},${ce.position.y})`).call(C4().on("start",(ce,we)=>{ce.active||ue.alphaTarget(.3).restart(),we.fx=we.position.x,we.fy=we.position.y,Y(we.id),C(we.id)}).on("drag",(ce,we)=>{we.fx=ce.x,we.fy=ce.y,Me(we.id,ce.x,ce.y)}).on("end",(ce,we)=>{ce.active||ue.alphaTarget(0),we.fx=null,we.fy=null,Y(null),z&&A&&A!==we.id&&(Tt(A,we.id),R(!1),O(null))})).on("click",(ce,we)=>{ce.stopPropagation(),z?A===we.id?(R(!1),O(null)):(Tt(A,we.id),R(!1),O(null)):(C(we.id),_(null))});return me.append("circle").attr("r",35).attr("fill",ce=>ce.type==="plant"?"#228B22":"#8B0000").attr("stroke",ce=>ce.id===N?"#FFD700":"#fff").attr("stroke-width",ce=>ce.id===N?3:2).style("cursor","pointer"),me.append("image").attr("xlink:href",ce=>ce.avatar).attr("x",-25).attr("y",-25).attr("width",50).attr("height",50).attr("clip-path","circle(25px at center)").style("cursor","pointer"),me.append("text").text(ce=>ce.name).attr("x",0).attr("y",55).attr("text-anchor","middle").attr("fill","#fff").attr("font-size",12).attr("font-weight","bold").style("pointer-events","none"),me.append("text").text(ce=>ce.faction).attr("x",0).attr("y",70).attr("text-anchor","middle").attr("fill","#ccc").attr("font-size",10).style("pointer-events","none"),ue.on("tick",()=>{te.attr("x1",ce=>{const we=u==null?void 0:u.nodes.find(Xe=>Xe.id===ce.source);return(we==null?void 0:we.position.x)||0}).attr("y1",ce=>{const we=u==null?void 0:u.nodes.find(Xe=>Xe.id===ce.source);return(we==null?void 0:we.position.y)||0}).attr("x2",ce=>{const we=u==null?void 0:u.nodes.find(Xe=>Xe.id===ce.target);return(we==null?void 0:we.position.x)||0}).attr("y2",ce=>{const we=u==null?void 0:u.nodes.find(Xe=>Xe.id===ce.target);return(we==null?void 0:we.position.y)||0}),me.attr("transform",ce=>`translate(${ce.position.x},${ce.position.y})`)}),()=>{ue.stop()}},[u,$,z,A,N,M,U]);const Me=j.useCallback((B,re,ue)=>{if(!u)return;const te=u.nodes.map(me=>me.id===B?{...me,position:{x:re,y:ue},updatedAt:new Date().toISOString()}:me);f(me=>me?{...me,nodes:te,updatedAt:new Date().toISOString()}:null)},[u]),le=j.useCallback(B=>{if(!u||u.nodes.some(te=>te.id===B))return;const re=h.find(te=>te.id===B);if(!re)return;const ue={...re,position:{x:400+(Math.random()-.5)*200,y:300+(Math.random()-.5)*200},createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};f(te=>te?{...te,nodes:[...te.nodes,ue],updatedAt:new Date().toISOString()}:null),y(te=>[...te,B])},[u,h]),Ye=j.useCallback(B=>{if(!u)return;const re=u.nodes.filter(te=>te.id!==B),ue=u.edges.filter(te=>te.source!==B&&te.target!==B);f(te=>te?{...te,nodes:re,edges:ue,updatedAt:new Date().toISOString()}:null),y(te=>te.filter(me=>me!==B)),N===B&&C(null)},[u,N]),Tt=j.useCallback((B,re)=>{if(!u)return;const ue={id:`relation_${Date.now()}`,source:B,target:re,type:"alliance",label:"",strength:.7,direction:"bidirectional",attributes:{},style:gs.alliance,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};f(te=>te?{...te,edges:[...te.edges,ue],updatedAt:new Date().toISOString()}:null),_(ue.id),C(null)},[u]),qt=j.useCallback(B=>{if(!u)return;const re=u.edges.filter(ue=>ue.id!==B);f(ue=>ue?{...ue,edges:re,updatedAt:new Date().toISOString()}:null),_(null)},[u]),Xn=j.useCallback(B=>{R(!0),O(B),C(B)},[]);j.useCallback(()=>{R(!1),O(null)},[]);const Ge=j.useCallback((B,re)=>{if(!u)return;const ue=u.edges.map(te=>te.id===B?{...te,...re,updatedAt:new Date().toISOString(),style:re.type?gs[re.type]:te.style}:te);f(te=>te?{...te,edges:ue,updatedAt:new Date().toISOString()}:null)},[u]),sn=j.useCallback(B=>{B.preventDefault();const re=B.deltaY>0?.9:1.1;Q(ue=>{var Xe;const te=L5(ue.k*re,.5,2),me=(Xe=s.current)==null?void 0:Xe.getBoundingClientRect();if(!me)return{...ue,k:te};const ce=B.clientX-me.left,we=B.clientY-me.top;return{x:ce-(ce-ue.x)*(te/ue.k),y:we-(we-ue.y)*(te/ue.k),k:te}})},[]),Ta=j.useCallback(B=>{B.button!==1&&!B.ctrlKey||(Se(!0),Ie({x:B.clientX,y:B.clientY}))},[]),Pa=j.useCallback(B=>{if(!he)return;const re=B.clientX-Ce.x,ue=B.clientY-Ce.y;Q(te=>({...te,x:te.x+re,y:te.y+ue})),Ie({x:B.clientX,y:B.clientY})},[he,Ce]),mr=j.useCallback(()=>{Se(!1)},[]),Kr=j.useCallback(()=>{Q({x:0,y:0,k:1})},[]),pr=j.useCallback(()=>{if(!u||!G.trim())return;const B={...u,id:`scheme_${Date.now()}`,name:G.trim(),description:Pe.trim(),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};try{const re=[...K,B];de(re),localStorage.setItem("characterRelationship_schemes",JSON.stringify(re)),f(B),c(B.id),L(!1),Te(""),Le("")}catch(re){console.error("Failed to save new scheme:",re)}},[u,G,Pe,K]),wn=j.useCallback(B=>{if(B==="default"){const re=localStorage.getItem("characterRelationship_default");if(re)try{const ue=JSON.parse(re);f(ue),y(ue.nodes.map(te=>te.id)),c(B)}catch(ue){console.error("Failed to load default scheme:",ue)}}else{const re=K.find(ue=>ue.id===B);re&&(f(re),y(re.nodes.map(ue=>ue.id)),c(B))}},[K]),Gr=j.useCallback(B=>{if(window.confirm(""))try{const re=K.filter(ue=>ue.id!==B);de(re),localStorage.setItem("characterRelationship_schemes",JSON.stringify(re)),o===B&&wn("default")}catch(re){console.error("Failed to delete scheme:",re)}},[K,o,wn]),Rn=j.useCallback(()=>{if(u){if(Oe==="json"){const B=JSON.stringify(u,null,2),re="data:application/json;charset=utf-8,"+encodeURIComponent(B),ue=`${u.name.replace(/\s+/g,"_")}_relationship_map.json`,te=document.createElement("a");te.setAttribute("href",re),te.setAttribute("download",ue),te.click()}else Oe==="image"&&alert("");Fe(!1)}},[u,Oe]),Dn=j.useCallback(B=>{var te;const re=(te=B.target.files)==null?void 0:te[0];if(!re)return;const ue=new FileReader;ue.onload=me=>{var ce;try{const we=(ce=me.target)==null?void 0:ce.result,Xe=JSON.parse(we);if(Xe.nodes&&Array.isArray(Xe.nodes)&&Xe.edges&&Array.isArray(Xe.edges)){const on={...Xe,id:`scheme_${Date.now()}`,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},ln=[...K,on];de(ln),localStorage.setItem("characterRelationship_schemes",JSON.stringify(ln)),f(on),c(on.id),alert("")}else throw new Error("")}catch(we){console.error("Failed to import scheme:",we),alert(""+we.message)}},ue.readAsText(re),B.target.value=""},[K]),Ea=j.useCallback(()=>{window.confirm("")&&(f(B=>B?{...B,nodes:[],edges:[],updatedAt:new Date().toISOString()}:null),y([]),C(null),_(null))},[]),Xr=()=>{if(!N||!u)return null;const B=u.nodes.find(re=>re.id===N);return B?i.jsxs("div",{className:"space-y-4",children:[i.jsxs("h3",{className:"text-lg font-bold text-white flex items-center",children:[i.jsx("i",{className:`fa-solid ${B.type==="plant"?"fa-seedling text-green-400":"fa-skull text-red-400"} mr-2`}),""]}),i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("div",{className:"w-16 h-16 rounded-full overflow-hidden border-2 border-white",children:i.jsx("img",{src:B.avatar,alt:B.name,className:"w-full h-full object-cover"})}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-xl font-bold text-white",children:B.name}),i.jsxs("p",{className:"text-gray-400",children:[B.faction,"  ",B.title]})]})]}),i.jsx("div",{className:"grid grid-cols-2 gap-3",children:Object.entries(B.attributes).map(([re,ue])=>i.jsxs("div",{className:"bg-gray-800 p-2 rounded-lg",children:[i.jsx("div",{className:"text-xs text-gray-400",children:re}),i.jsx("div",{className:"font-bold text-white",children:ue})]},re))}),i.jsxs("button",{onClick:()=>Xn(B.id),className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 text-white font-medium py-2 px-4 rounded-lg transition-colors duration-200 flex items-center justify-center",children:[i.jsx("i",{className:"fa-solid fa-link mr-2"})," "]}),i.jsxs("button",{onClick:()=>Ye(B.id),className:"w-full bg-red-600 hover:bg-red-700 text-white font-medium py-2 px-4 rounded-lg transition-colors duration-200 flex items-center justify-center",children:[i.jsx("i",{className:"fa-solid fa-trash-alt mr-2"})," "]})]}):null},Zr=()=>{if(!M||!u)return null;const B=u.edges.find(te=>te.id===M);if(!B)return null;const re=u.nodes.find(te=>te.id===B.source),ue=u.nodes.find(te=>te.id===B.target);return i.jsxs("div",{className:"space-y-4",children:[i.jsxs("h3",{className:"text-lg font-bold text-white flex items-center",children:[i.jsx("i",{className:"fa-solid fa-arrows-between-lines text-purple-400 mr-2"}),""]}),i.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-800 rounded-lg",children:[i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("div",{className:"w-12 h-12 rounded-full overflow-hidden border-2 border-white mb-1",children:i.jsx("img",{src:re==null?void 0:re.avatar,alt:re==null?void 0:re.name,className:"w-full h-full object-cover"})}),i.jsx("span",{className:"text-xs text-white",children:re==null?void 0:re.name})]}),i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("div",{className:"w-16 h-1 bg-current mb-1",style:{backgroundColor:B.style.color,width:"32px",height:`${B.style.width}px`,borderStyle:B.style.lineType==="solid"?"solid":"dashed",borderWidth:B.style.width,borderColor:B.style.color,borderDasharray:B.style.dashArray}}),i.jsx("span",{className:"text-xs text-purple-400",children:B.label})]}),i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("div",{className:"w-12 h-12 rounded-full overflow-hidden border-2 border-white mb-1",children:i.jsx("img",{src:ue==null?void 0:ue.avatar,alt:ue==null?void 0:ue.name,className:"w-full h-full object-cover"})}),i.jsx("span",{className:"text-xs text-white",children:ue==null?void 0:ue.name})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:""}),i.jsxs("select",{value:B.type,onChange:te=>{const me=te.target.value,ce=me==="custom"&&mt?mt:Ma(me);Ge(B.id,{type:me,label:ce})},className:"w-full bg-gray-800 border border-gray-700 text-white rounded-lg p-2",children:[i.jsx("option",{value:"family",children:""}),i.jsx("option",{value:"master",children:""}),i.jsx("option",{value:"enemy",children:""}),i.jsx("option",{value:"alliance",children:""}),i.jsx("option",{value:"subordinate",children:""}),i.jsx("option",{value:"custom",children:""})]})]}),B.type==="custom"&&i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:""}),i.jsx("input",{type:"text",value:mt||B.label,onChange:te=>{E(te.target.value),Ge(B.id,{label:te.target.value})},placeholder:"",className:"w-full bg-gray-800 border border-gray-700 text-white rounded-lg p-2"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:""}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:B.strength,onChange:te=>Ge(B.id,{strength:parseFloat(te.target.value)}),className:"w-full accent-purple-500"}),i.jsxs("span",{className:"ml-2 text-sm text-white",children:[Math.round(B.strength*100),"%"]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:""}),i.jsxs("select",{value:B.direction,onChange:te=>Ge(B.id,{direction:te.target.value}),className:"w-full bg-gray-800 border border-gray-700 text-white rounded-lg p-2",children:[i.jsx("option",{value:"bidirectional",children:""}),i.jsx("option",{value:"unidirectional",children:""})]})]})]}),i.jsxs("button",{onClick:()=>qt(B.id),className:"w-full bg-red-600 hover:bg-red-700 text-white font-medium py-2 px-4 rounded-lg transition-colors duration-200 flex items-center justify-center",children:[i.jsx("i",{className:"fa-solid fa-trash-alt mr-2"})," "]})]})},Ma=B=>{switch(B){case"family":return"";case"master":return"";case"enemy":return"";case"alliance":return"";case"subordinate":return"";default:return""}};j.useEffect(()=>{const B=re=>{re.key==="Delete"&&(N||M)?(re.preventDefault(),N?Ye(N):M&&qt(M)):(re.ctrlKey&&re.key==="a"||re.ctrlKey&&re.key==="z"||re.ctrlKey&&re.key==="y")&&re.preventDefault()};return window.addEventListener("keydown",B),()=>window.removeEventListener("keydown",B)},[N,M,Ye,qt]);const gr=(B,re)=>{B.dataTransfer.setData("characterId",re)},xr=B=>{B.preventDefault(),B.dataTransfer.dropEffect="copy"},yr=B=>{B.preventDefault();const re=B.dataTransfer.getData("characterId");re&&le(re)};return i.jsxs("div",{className:`min-h-screen ${e==="light"?"bg-gray-100":"bg-gray-900"} text-gray-900 dark:text-white transition-colors duration-300 p-4 relative overflow-hidden`,children:[i.jsxs("div",{className:"fixed top-0 left-0 right-0 bottom-0 pointer-events-none z-0",children:[i.jsx(T.div,{className:"absolute top-1/4 right-1/4 w-1/3 h-1/3 bg-purple-500/5 rounded-full blur-3xl",animate:{scale:[1,1.2,1],x:[0,-20,0],y:[0,-20,0]},transition:{duration:15,repeat:1/0,ease:"easeInOut"}}),i.jsx(T.div,{className:"absolute bottom-1/4 left-1/4 w-1/3 h-1/3 bg-blue-500/5 rounded-full blur-3xl",animate:{scale:[1,1.2,1],x:[0,20,0],y:[0,20,0]},transition:{duration:12,repeat:1/0,ease:"easeInOut",delay:1}})]}),i.jsxs("header",{className:"max-w-7xl mx-auto mb-6 relative z-10",children:[i.jsx("div",{className:"absolute top-0 left-0 z-20",children:i.jsx(T.button,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5},className:"bg-gray-800/80 dark:bg-gray-900/80 backdrop-blur-sm p-3 rounded-full border border-gray-700 text-white hover:bg-gray-700 transition-all duration-300 shadow-lg flex items-center justify-center",onClick:()=>n(-1),"aria-label":"",children:i.jsx("i",{className:"fa-solid fa-arrow-left text-xl"})})}),i.jsxs(T.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"flex flex-col md:flex-row items-center justify-between pt-12 pb-4",children:[i.jsxs("div",{className:"mb-4 md:mb-0",children:[i.jsx("h1",{className:"text-3xl md:text-4xl font-bold bg-gradient-to-r from-purple-600 to-blue-600 bg-clip-text text-transparent mb-2",children:""}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400 max-w-2xl",children:""})]}),i.jsxs("div",{className:"flex flex-wrap gap-3",children:[i.jsxs("button",{onClick:()=>Kr(),className:"bg-gray-800 hover:bg-gray-700 text-white font-medium py-2 px-4 rounded-lg transition-colors duration-200 flex items-center",children:[i.jsx("i",{className:"fa-solid fa-arrows-rotate mr-2"})," "]}),i.jsxs("button",{onClick:()=>L(!0),className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white font-medium py-2 px-4 rounded-lg transition-colors duration-200 flex items-center",children:[i.jsx("i",{className:"fa-solid fa-save mr-2"})," "]}),i.jsxs("button",{onClick:()=>Fe(!0),className:"bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-lg transition-colors duration-200 flex items-center",children:[i.jsx("i",{className:"fa-solid fa-download mr-2"})," "]}),i.jsxs("label",{className:"bg-green-600 hover:bg-green-700 text-white font-medium py-2 px-4 rounded-lg transition-colors duration-200 flex items-center cursor-pointer",children:[i.jsx("i",{className:"fa-solid fa-upload mr-2"})," ",i.jsx("input",{type:"file",accept:".json",onChange:Dn,className:"hidden"})]})]})]})]}),i.jsx("div",{className:"max-w-7xl mx-auto mb-6 relative z-10",children:i.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[i.jsx("span",{className:"text-gray-400 whitespace-nowrap",children:""}),i.jsxs("select",{value:o,onChange:B=>wn(B.target.value),className:"bg-gray-800 border border-gray-700 text-white rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500",children:[i.jsx("option",{value:"default",children:""}),K.map(B=>i.jsx("option",{value:B.id,children:B.name},B.id))]}),o!=="default"&&i.jsx("button",{onClick:()=>Gr(o),className:"text-red-400 hover:text-red-300 transition-colors duration-200",children:i.jsx("i",{className:"fa-solid fa-trash-alt"})}),i.jsx("div",{className:"ml-auto",children:i.jsxs("button",{onClick:Ea,className:"bg-red-600 hover:bg-red-700 text-white font-medium py-2 px-4 rounded-lg transition-colors duration-200 flex items-center",children:[i.jsx("i",{className:"fa-solid fa-eraser mr-2"})," "]})})]})}),i.jsx("div",{className:"max-w-7xl mx-auto relative z-10",children:i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6",children:[i.jsxs("div",{className:"lg:col-span-3 bg-gray-800/50 dark:bg-gray-900/50 backdrop-blur-sm rounded-xl p-4 border border-gray-700 h-[calc(100vh-240px)] overflow-hidden flex flex-col",children:[i.jsxs("div",{className:"mb-4",children:[i.jsxs("h2",{className:"text-lg font-bold text-white mb-3 flex items-center",children:[i.jsx("i",{className:"fa-solid fa-users text-purple-400 mr-2"}),""]}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:"text",placeholder:"...",value:b,onChange:B=>v(B.target.value),className:"w-full px-4 py-2 pl-10 bg-gray-900 border border-gray-700 text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500"}),i.jsx("i",{className:"fa-solid fa-search absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"})]})]}),i.jsx("div",{className:"flex-1 overflow-y-auto pr-2",children:i.jsx("div",{className:"space-y-2",children:k.map(B=>i.jsx(T.div,{className:`p-3 rounded-lg border transition-all duration-200 ${p.includes(B.id)?"bg-gray-700 border-purple-500":"bg-gray-900 border-gray-700 hover:bg-gray-800"} cursor-move`,draggable:!0,onDragStart:re=>gr(re,B.id),whileHover:{x:5},whileTap:{scale:.98},children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-full overflow-hidden",children:i.jsx("img",{src:B.avatar,alt:B.name,className:"w-full h-full object-cover"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-medium text-white",children:B.name}),i.jsx("p",{className:"text-xs text-gray-400",children:B.faction})]})]}),!p.includes(B.id)&&i.jsx("button",{onClick:()=>le(B.id),className:"text-purple-400 hover:text-purple-300 transition-colors duration-200",children:i.jsx("i",{className:"fa-solid fa-plus-circle"})})]})},B.id))})})]}),i.jsx("div",{className:"lg:col-span-6 relative",children:i.jsxs("div",{ref:t,className:"bg-gray-800/50 dark:bg-gray-900/50 backdrop-blur-sm rounded-xl border border-gray-700 h-[calc(100vh-240px)] overflow-hidden",onWheel:sn,onMouseDown:Ta,onMouseMove:Pa,onMouseUp:mr,onMouseLeave:mr,onDragOver:xr,onDrop:yr,children:[i.jsx("svg",{ref:s,className:"w-full h-full",viewBox:"0 0 800 600",style:{cursor:he?"grabbing":"grab"},children:i.jsx("g",{})}),z&&A&&i.jsxs("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 bg-purple-900/80 text-white px-4 py-2 rounded-full text-sm backdrop-blur-sm z-10",children:[i.jsx("i",{className:"fa-solid fa-arrow-right-to-bracket mr-1"}),"ESC"]}),!u||u.nodes.length===0&&i.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center text-gray-400",children:[i.jsx("i",{className:"fa-solid fa-users-slash text-5xl mb-4"}),i.jsx("p",{className:"text-xl font-medium",children:""}),i.jsx("p",{className:"text-sm mt-2",children:""})]}),i.jsx("div",{className:"absolute bottom-4 right-4 bg-gray-900/80 text-white px-4 py-2 rounded-lg text-sm backdrop-blur-sm z-10",children:i.jsxs("div",{className:"space-y-1",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("i",{className:"fa-solid fa-mouse-pointer mr-2 text-purple-400"}),i.jsx("span",{children:""})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("i",{className:"fa-solid fa-hand mr-2 text-purple-400"}),i.jsx("span",{children:""})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("i",{className:"fa-solid fa-mouse mr-2 text-purple-400"}),i.jsx("span",{children:""})]})]})})]})}),i.jsx("div",{className:`lg:col-span-3 ${De?"block":"hidden lg:block"}`,children:i.jsxs("div",{className:"bg-gray-800/50 dark:bg-gray-900/50 backdrop-blur-sm rounded-xl p-4 border border-gray-700 h-[calc(100vh-240px)] overflow-y-auto",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsxs("h2",{className:"text-lg font-bold text-white flex items-center",children:[i.jsx("i",{className:"fa-solid fa-sliders text-purple-400 mr-2"}),""]}),i.jsx("button",{onClick:()=>be(!De),className:"lg:hidden text-gray-400 hover:text-white transition-colors duration-200",children:i.jsx("i",{className:"fa-solid fa-times"})})]}),N?Xr():M?Zr():i.jsxs("div",{className:"text-center py-8 text-gray-400",children:[i.jsx("i",{className:"fa-solid fa-hand-pointer text-4xl mb-4"}),i.jsx("p",{children:""})]})]})}),!De&&i.jsx("button",{onClick:()=>be(!0),className:"lg:hidden fixed bottom-4 right-4 bg-purple-600 hover:bg-purple-700 text-white w-12 h-12 rounded-full flex items-center justify-center shadow-lg z-30",children:i.jsx("i",{className:"fa-solid fa-sliders"})})]})}),i.jsx(Un,{children:se&&i.jsx(T.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:()=>L(!1),children:i.jsxs(T.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},className:"bg-gray-800 rounded-xl p-6 border border-gray-700 max-w-md w-full",onClick:B=>B.stopPropagation(),children:[i.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:""}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:""}),i.jsx("input",{type:"text",value:G,onChange:B=>Te(B.target.value),placeholder:"",className:"w-full bg-gray-900 border border-gray-700 text-white rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:""}),i.jsx("textarea",{value:Pe,onChange:B=>Le(B.target.value),placeholder:"",className:"w-full bg-gray-900 border border-gray-700 text-white rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500 min-h-[80px]"})]})]}),i.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[i.jsx("button",{onClick:()=>L(!1),className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded-lg transition-colors duration-200",children:""}),i.jsx("button",{onClick:pr,className:"px-4 py-2 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white rounded-lg transition-colors duration-200",disabled:!G.trim(),children:""})]})]})})}),i.jsx(Un,{children:Re&&i.jsx(T.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:()=>Fe(!1),children:i.jsxs(T.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},className:"bg-gray-800 rounded-xl p-6 border border-gray-700 max-w-md w-full",onClick:B=>B.stopPropagation(),children:[i.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:""}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:""}),i.jsxs("div",{className:"flex space-x-4",children:[i.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[i.jsx("input",{type:"radio",name:"exportFormat",value:"json",checked:Oe==="json",onChange:()=>We("json"),className:"accent-purple-500"}),i.jsx("span",{className:"text-white",children:"JSON "})]}),i.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[i.jsx("input",{type:"radio",name:"exportFormat",value:"image",checked:Oe==="image",onChange:()=>We("image"),className:"accent-purple-500"}),i.jsx("span",{className:"text-white",children:""})]})]})]}),i.jsx("div",{className:"p-3 bg-gray-700 rounded-lg",children:i.jsxs("p",{className:"text-sm text-gray-300",children:[i.jsx("i",{className:"fa-solid fa-circle-info text-blue-400 mr-2"}),"JSON "]})})]}),i.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[i.jsx("button",{onClick:()=>Fe(!1),className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded-lg transition-colors duration-200",children:""}),i.jsx("button",{onClick:Rn,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors duration-200",children:""})]})]})})}),i.jsx("footer",{className:"max-w-7xl mx-auto mt-8 text-center text-gray-500 text-sm relative z-10",children:i.jsx("p",{children:" 2025  - "})})]})},Up=({mails:e,selectedMailId:n,onSelectMail:t,onToggleReadStatus:s,onDeleteMail:o,formatDate:c})=>i.jsx("div",{children:e.length===0?i.jsxs("div",{className:"p-6 text-center text-gray-400",children:[i.jsx("i",{className:"fa-solid fa-inbox text-4xl mb-2"}),i.jsx("p",{children:""})]}):e.map(u=>i.jsxs(T.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.2},className:`
              p-4 border-b border-gray-700 cursor-pointer
              ${n===u.id?"bg-gray-700":"hover:bg-gray-700/50"}
              ${u.isRead?"text-gray-400":"font-medium"}
              transition-all duration-300
            `,onClick:()=>t(u),children:[i.jsxs("div",{className:"flex justify-between items-start mb-2",children:[i.jsxs("div",{className:"flex items-center",children:[!u.isRead&&i.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mr-2"}),i.jsx("h3",{className:"truncate max-w-[calc(100%-24px)]",children:u.title})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:f=>{f.stopPropagation(),s(u.id)},className:"text-gray-500 hover:text-white p-1",title:u.isRead?"":"",children:i.jsx("i",{className:"fa-solid fa-envelope"})}),i.jsx("button",{onClick:f=>{f.stopPropagation(),window.confirm("")&&o(u.id)},className:"text-gray-500 hover:text-red-400 p-1",title:"",children:i.jsx("i",{className:"fa-solid fa-trash"})})]})]}),i.jsx("p",{className:"text-xs truncate",children:u.sender}),i.jsxs("div",{className:"flex justify-between items-center mt-2",children:[i.jsx("p",{className:"text-xs truncate max-w-[80%]",children:u.summary}),i.jsx("span",{className:"text-xs",children:c(u.date)})]}),u.attachments&&u.attachments.length>0&&i.jsxs("div",{className:"mt-2 flex items-center",children:[i.jsx("i",{className:"fa-solid fa-paperclip text-gray-500 mr-1 text-xs"}),i.jsx("span",{className:"text-xs text-gray-500",children:u.attachments.some(f=>!f.isCollected)?"":""})]})]},u.id))}),Yp=({mail:e,showFullContent:n,onToggleFullContent:t,onToggleReadStatus:s,onDeleteMail:o,onCollectAttachment:c,onCollectAllAttachments:u})=>{const f=e.attachments&&e.attachments.some(h=>!h.isCollected);return i.jsxs("div",{className:"bg-gray-800 rounded-xl h-full flex flex-col",children:[i.jsx("div",{className:"p-6 border-b border-gray-700",children:i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-bold mb-2",children:e.title}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("img",{src:e.senderAvatar,alt:e.sender,className:"w-8 h-8 rounded-full mr-3 object-cover"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:e.sender}),i.jsxs("p",{className:"text-sm text-gray-400",children:[e.date," ",e.time]})]})]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:()=>s(e.id),className:"bg-gray-700 hover:bg-gray-600 text-white px-3 py-1 rounded-lg text-sm transition-colors",children:e.isRead?"":""}),i.jsx("button",{onClick:()=>{window.confirm("")&&o(e.id)},className:"bg-red-600 hover:bg-red-700 text-white px-3 py-1 rounded-lg text-sm transition-colors",children:""})]})]})}),i.jsxs("div",{className:"flex-1 p-6 overflow-y-auto",children:[i.jsx("div",{className:`prose prose-invert max-w-none ${n?"":"line-clamp-10"}`,children:i.jsx("p",{children:e.content})}),e.content.length>200&&!n&&i.jsxs("button",{onClick:()=>t(!0),className:"mt-4 text-blue-400 hover:text-blue-300 transition-colors text-sm",children:[" ",i.jsx("i",{className:"fa-solid fa-chevron-down ml-1"})]}),n&&i.jsxs("button",{onClick:()=>t(!1),className:"mt-4 text-blue-400 hover:text-blue-300 transition-colors text-sm",children:[" ",i.jsx("i",{className:"fa-solid fa-chevron-up ml-1"})]})]}),e.attachments&&e.attachments.length>0&&i.jsxs("div",{className:"p-6 border-t border-gray-700",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[i.jsx("i",{className:"fa-solid fa-paperclip mr-2"})," "]}),f&&i.jsxs("button",{onClick:u,className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg text-sm transition-colors flex items-center",children:[i.jsx("i",{className:"fa-solid fa-gift mr-1"})," "]})]}),i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:e.attachments.map(h=>i.jsxs(T.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.2},className:`
                  p-4 rounded-lg border flex items-center justify-between
                  ${h.isCollected?"bg-gray-700/50 border-gray-600 opacity-70":"bg-gradient-to-r from-gray-800 to-gray-700 border-gray-600"}
                `,children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:`
                    w-10 h-10 rounded-full flex items-center justify-center mr-3
                    bg-gradient-to-br ${Ok[h.type]}
                  `,children:i.jsx("i",{className:`fa-solid ${Lk[h.type]} text-white`})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:h.name}),i.jsxs("p",{className:"text-sm text-gray-400",children:[h.quantity,""]}),h.description&&i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:h.description})]})]}),h.isCollected?i.jsxs("div",{className:"text-green-400 text-sm flex items-center",children:[i.jsx("i",{className:"fa-solid fa-check-circle mr-1"})," "]}):i.jsx("button",{onClick:()=>c(e.id,h.id),className:"bg-green-600 hover:bg-green-700 text-white px-3 py-1 rounded-lg text-sm transition-colors",children:""})]},h.id))})]})]})},Lk={sun:"fa-sun",plant:"fa-seedling",achievement:"fa-trophy"},Ok={sun:"from-yellow-600 to-yellow-500",plant:"from-green-600 to-green-500",achievement:"from-orange-600 to-orange-500"},$k=()=>{const e=An(),[n,t]=j.useState([]),[s,o]=j.useState(null),[c,u]=j.useState(0),[f,h]=j.useState(!1),[m,p]=j.useState(!1),[y,b]=j.useState("list"),[v,k]=j.useState(!0);j.useEffect(()=>{const Y=()=>{p(window.innerWidth<768)};return Y(),window.addEventListener("resize",Y),()=>window.removeEventListener("resize",Y)},[]),j.useEffect(()=>{const Y=setTimeout(()=>{const $=S();t($),u($.filter(Q=>!Q.isRead).length),k(!1)},800);return()=>clearTimeout(Y)},[]),j.useEffect(()=>{v||localStorage.setItem("pvzMails",JSON.stringify(n))},[n,v]);const S=()=>[{id:"1",title:"",sender:"wixi",senderAvatar:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/wixi_20251030201020.jpg",time:"20:11",date:"2025-10-30",content:"wixi",isRead:!1,summary:"wixi...",attachments:[]},{id:"2",title:"wixi",sender:"wixi",senderAvatar:"https://lf-code-agent.coze.cn/obj/x-ai-cn/307170232066/attachment/wixi_20251030201020.jpg",time:"20:54",date:"2025-10-30",content:"520",isRead:!1,summary:"...",attachments:[{id:"a1",type:"sun",name:"",icon:"fa-sun",quantity:520,isCollected:!1,description:""},{id:"a2",type:"plant",name:"",icon:"fa-seedling",quantity:1,isCollected:!1,description:""}]},{id:"3",title:"",sender:"",senderAvatar:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=achievement%20system%20avatar%20trophy%20icon&sign=d1e79f844b3c72aaca30e782456c0cbf",time:"",date:"2025-10-29",content:'""',isRead:!1,summary:'""...',attachments:[{id:"a3",type:"achievement",name:"",icon:"fa-trophy",quantity:1,isCollected:!1,description:""}]},{id:"4",title:"",sender:"",senderAvatar:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=game%20team%20avatar%20group%20icon&sign=7d414a4d36fbe6f107bcc8e69aafa9f6",time:"",date:"2025-10-28",content:"",isRead:!0,summary:"...",attachments:[]},{id:"5",title:"",sender:"",senderAvatar:"https://space.coze.cn/api/coze_space/gen_image?image_size=square&prompt=event%20center%20avatar%20calendar%20icon&sign=7847f78d40f787d8c6f392c1f31afd7c",time:"3",date:"2025-10-27",content:"48",isRead:!0,summary:"48...",attachments:[]}],N=Y=>{o(Y),h(!1),Y.isRead||(t($=>$.map(Q=>Q.id===Y.id?{...Q,isRead:!0}:Q)),u($=>Math.max(0,$-1))),m&&b("content")},C=Y=>{t($=>$.map(Q=>{if(Q.id===Y){const he=!Q.isRead;return u(Se=>he?Math.max(0,Se-1):Se+1),{...Q,isRead:he}}return Q}))},M=Y=>{t($=>$.filter(Q=>Q.id!==Y)),s&&s.id===Y&&(o(null),m&&b("list"))},_=(Y,$)=>{t(Q=>Q.map(he=>{if(he.id===Y&&he.attachments){const Se=he.attachments.map(Ie=>Ie.id===$?{...Ie,isCollected:!0}:Ie),Ce=he.attachments.find(Ie=>Ie.id===$);return Ce&&at(` ${Ce.name}  ${Ce.quantity}`),{...he,attachments:Se}}return he}))},z=()=>{s&&t(Y=>Y.map($=>{if($.id===s.id&&$.attachments){$.attachments.filter(Se=>!Se.isCollected).forEach(Se=>{at(` ${Se.name}  ${Se.quantity}`)});const he=$.attachments.map(Se=>({...Se,isCollected:!0}));return{...$,attachments:he}}return $}))},R=()=>{t(Y=>Y.map($=>{if($.attachments&&$.attachments.some(Q=>!Q.isCollected)){const Q=$.attachments.map(he=>({...he,isCollected:!0}));return $.attachments.forEach(he=>{he.isCollected||at(` ${he.name}  ${he.quantity}`)}),{...$,attachments:Q,isRead:!0}}return $})),u(0)},A=()=>{t(Y=>Y.map($=>({...$,isRead:!0}))),u(0)},O=Y=>{const $=new Date(Y),Q=new Date,he=new Date(Q);return he.setDate(he.getDate()-1),$.toDateString()===Q.toDateString()?"":$.toDateString()===he.toDateString()?"":$.toLocaleDateString("zh-CN",{month:"short",day:"numeric"})},U=()=>{e("/")};return i.jsxs("div",{className:"min-h-screen bg-gray-900 text-white p-4 flex flex-col",children:[i.jsx("header",{className:"mb-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("button",{onClick:U,className:"bg-gray-800 hover:bg-gray-700 text-white p-2 rounded-lg transition-all duration-300",children:i.jsx("i",{className:"fa-solid fa-arrow-left"})}),i.jsxs("h1",{className:"text-2xl font-bold text-center flex-1",children:[i.jsx("i",{className:"fa-solid fa-inbox mr-2"}),""]}),i.jsxs("div",{className:"flex items-center bg-gray-800 px-4 py-2 rounded-full",children:[i.jsx("span",{className:"text-sm mr-2",children:":"}),i.jsx("span",{className:"bg-green-600 text-white text-xs font-bold px-2 py-1 rounded-full",children:c})]})]})}),v?i.jsxs("div",{className:"flex flex-col items-center justify-center flex-1",children:[i.jsx("div",{className:"w-12 h-12 border-4 border-t-green-500 border-gray-700 rounded-full animate-spin mb-4"}),i.jsx("p",{className:"text-gray-400",children:"..."})]}):i.jsx(i.Fragment,{children:m?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"bg-gray-800 rounded-lg p-1 mb-4 flex",children:[i.jsxs("button",{onClick:()=>b("list"),className:`flex-1 py-2 rounded-md text-center ${y==="list"?"bg-green-600 text-white":"text-gray-400"}`,children:[i.jsx("i",{className:"fa-solid fa-list-ul mr-1"})," "]}),i.jsxs("button",{onClick:()=>b("content"),className:`flex-1 py-2 rounded-md text-center ${y==="content"?"bg-green-600 text-white":"text-gray-400"}`,disabled:!s,children:[i.jsx("i",{className:"fa-solid fa-envelope-open-text mr-1"})," "]})]}),i.jsx(Un,{mode:"wait",children:y==="list"?i.jsx(T.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.3},className:"flex-1",children:i.jsx(Up,{mails:n,selectedMailId:(s==null?void 0:s.id)||"",onSelectMail:N,onToggleReadStatus:C,onDeleteMail:M,formatDate:O})},"mobile-list"):i.jsx(T.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},className:"flex-1",children:s?i.jsx(Yp,{mail:s,showFullContent:f,onToggleFullContent:h,onToggleReadStatus:C,onDeleteMail:M,onCollectAttachment:_,onCollectAllAttachments:z}):i.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-400",children:[i.jsx("i",{className:"fa-solid fa-envelope text-4xl mb-4"}),i.jsx("p",{children:""})]})},"mobile-content")}),i.jsxs("div",{className:"mt-4 bg-gray-800 p-3 rounded-lg flex justify-between",children:[i.jsxs("button",{onClick:R,className:"flex items-center text-green-400 hover:text-green-300 transition-colors",disabled:n.every(Y=>!Y.attachments||Y.attachments.every($=>$.isCollected)),children:[i.jsx("i",{className:"fa-solid fa-gift mr-1"}),i.jsx("span",{className:"text-sm",children:""})]}),i.jsxs("button",{onClick:A,className:"flex items-center text-blue-400 hover:text-blue-300 transition-colors",disabled:c===0,children:[i.jsx("i",{className:"fa-solid fa-check-double mr-1"}),i.jsx("span",{className:"text-sm",children:""})]}),i.jsx("div",{className:"text-gray-400 text-sm",children:i.jsxs("span",{children:["",c,""]})})]})]}):i.jsxs("div",{className:"flex-1 grid grid-cols-12 gap-4",children:[i.jsxs(T.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3},className:"col-span-1 md:col-span-4 lg:col-span-4 bg-gray-800 rounded-xl overflow-hidden",children:[i.jsxs("div",{className:"p-4 border-b border-gray-700 flex justify-between items-center",children:[i.jsxs("h2",{className:"font-semibold",children:[" (",n.length,")"]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:A,className:"text-sm text-blue-400 hover:text-blue-300 transition-colors",disabled:c===0,children:""}),i.jsx("button",{onClick:R,className:"text-sm text-green-400 hover:text-green-300 transition-colors",disabled:n.every(Y=>!Y.attachments||Y.attachments.every($=>$.isCollected)),children:""})]})]}),i.jsx("div",{className:"h-[calc(100%-64px)] overflow-y-auto",children:i.jsx(Up,{mails:n,selectedMailId:(s==null?void 0:s.id)||"",onSelectMail:N,onToggleReadStatus:C,onDeleteMail:M,formatDate:O})})]}),i.jsx(T.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.3,delay:.1},className:"col-span-1 md:col-span-8 lg:col-span-8",children:s?i.jsx(Yp,{mail:s,showFullContent:f,onToggleFullContent:h,onToggleReadStatus:C,onDeleteMail:M,onCollectAttachment:_,onCollectAllAttachments:z}):i.jsxs("div",{className:"bg-gray-800 rounded-xl h-full flex flex-col items-center justify-center text-gray-400 p-6",children:[i.jsx("div",{className:"text-6xl mb-4",children:""}),i.jsx("h2",{className:"text-xl font-semibold mb-2",children:""}),i.jsx("p",{className:"text-center max-w-md",children:""}),i.jsxs("div",{className:"mt-8 flex flex-wrap gap-4 justify-center",children:[i.jsxs("button",{onClick:A,className:"bg-gray-700 hover:bg-gray-600 text-white px-4 py-2 rounded-lg transition-colors",disabled:c===0,children:[i.jsx("i",{className:"fa-solid fa-check-double mr-2"})," "]}),i.jsxs("button",{onClick:R,className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg transition-colors",disabled:n.every(Y=>!Y.attachments||Y.attachments.every($=>$.isCollected)),children:[i.jsx("i",{className:"fa-solid fa-gift mr-2"})," "]})]})]})})]})})]})},Fk=j.createContext(void 0),Vk=({children:e})=>{const{theme:n,toggleTheme:t}=za();return i.jsx(Fk.Provider,{value:{theme:n,toggleTheme:t},children:e})},Bk=()=>{const[e,n]=j.useState("stopped"),[t,s]=j.useState({volume:70,isLooping:!0,isMuted:!1}),[o,c]=j.useState(null),[u,f]=j.useState(0),h=[{id:"farewell_song",name:"",duration:180,artist:""}],m=j.useCallback((N="farewell_song")=>{const C=h.find(M=>M.id===N);C&&(c(C),n("playing"),console.log(`: ${C.name}`))},[h]),p=j.useCallback(()=>{e==="playing"&&(n("paused"),console.log(""))},[e]),y=j.useCallback(()=>{n("stopped"),f(0),console.log("")},[]),b=j.useCallback(()=>{e==="playing"?p():o?m(o.id):m()},[e,o,m,p]),v=j.useCallback(N=>{const C=Math.max(0,Math.min(100,N));s(M=>({...M,volume:C})),console.log(`: ${C}%`)},[]),k=j.useCallback(()=>{s(N=>{const C=!N.isMuted;return console.log(`: ${C}`),{...N,isMuted:C}})},[]),S=j.useCallback(()=>{s(N=>({...N,isLooping:!N.isLooping})),console.log(`: ${!t.isLooping}`)},[t.isLooping]);return j.useEffect(()=>{let N;return e==="playing"&&o&&(N=setInterval(()=>{f(C=>C>=100&&t.isLooping?0:C>=100&&!t.isLooping?(n("stopped"),100):C+100/o.duration*.5)},500)),()=>{N&&clearInterval(N)}},[e,o,t.isLooping]),j.useEffect(()=>()=>{y()},[y]),{musicState:e,config:t,currentTrack:o,progress:u,tracks:h,play:m,pause:p,stop:y,togglePlay:b,setVolume:v,toggleMute:k,toggleLoop:S}},qk=()=>{const{musicState:e,config:n,currentTrack:t,progress:s,togglePlay:o,toggleMute:c,play:u}=Bk();j.useEffect(()=>{if(!(localStorage.getItem("autoPlayDisabled")==="true")&&!t){const p=setTimeout(()=>{u("farewell_song")},1e3);return()=>clearTimeout(p)}},[t,u]);const f=(m,p)=>{const y=Math.floor(m*p/100),b=Math.floor(y/60),v=y%60;return`${b}:${v<10?"0":""}${v}`},h=t||{name:"",duration:180,artist:""};return i.jsxs(T.div,{className:"fixed bottom-4 right-4 z-50 bg-gray-800/90 backdrop-blur-md rounded-full shadow-lg border border-gray-700 p-2 flex items-center space-x-3 transition-all duration-300 hover:bg-gray-800",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[i.jsx(T.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:o,className:`w-10 h-10 flex items-center justify-center rounded-full ${e==="playing"?"bg-red-600 text-white":"bg-green-600 text-white"}`,children:e==="playing"?i.jsx("i",{className:"fa-solid fa-pause"}):i.jsx("i",{className:"fa-solid fa-play"})}),i.jsx(T.div,{className:"hidden md:flex items-center max-w-[150px] overflow-hidden",initial:{opacity:0},whileHover:{opacity:1},transition:{duration:.2},children:i.jsxs("div",{className:"ml-2 mr-3",children:[i.jsx("div",{className:"text-xs font-medium text-white truncate",children:h.name}),i.jsx("div",{className:"text-xs text-gray-400 truncate",children:h.artist})]})}),i.jsx(T.div,{className:"hidden md:block w-32 h-1 bg-gray-700 rounded-full overflow-hidden",initial:{opacity:0},whileHover:{opacity:1},transition:{duration:.2},children:i.jsx("div",{className:"h-full bg-gradient-to-r from-green-400 to-green-600 rounded-full",style:{width:`${s}%`}})}),i.jsxs(T.div,{className:"hidden md:text-xs text-gray-400 min-w-[35px] text-center",initial:{opacity:0},whileHover:{opacity:1},transition:{duration:.2},children:[f(h.duration,s)," / ",f(h.duration,100)]}),i.jsxs(T.div,{className:"flex items-center",initial:{opacity:0},whileHover:{opacity:1},transition:{duration:.2},children:[i.jsx("button",{onClick:c,className:"text-gray-400 hover:text-white p-1",children:n.isMuted||n.volume===0?i.jsx("i",{className:"fa-solid fa-volume-xmark"}):n.volume<50?i.jsx("i",{className:"fa-solid fa-volume-low"}):i.jsx("i",{className:"fa-solid fa-volume-high"})}),i.jsx("div",{className:"hidden md:block w-20 h-1 bg-gray-700 rounded-full overflow-hidden mx-2",children:i.jsx("div",{className:"h-full bg-gray-400 rounded-full",style:{width:`${n.isMuted?0:n.volume}%`}})})]}),e==="playing"&&i.jsx(T.div,{className:"absolute -top-16 -left-16 w-32 h-32 bg-green-500 rounded-full opacity-10 pointer-events-none",animate:{scale:[1,1.2,1],opacity:[.1,.15,.1]},transition:{duration:3,repeat:1/0,repeatType:"reverse"}})]})},Wk=({loading:e=!1,title:n="",description:t="",icon:s="fa-box-open",actionText:o,onAction:c})=>i.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[400px] p-6 text-center bg-gray-900 rounded-xl",children:[e?i.jsx(T.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"text-gray-400 text-5xl mb-4",children:i.jsx("i",{className:"fa-solid fa-spinner"})}):i.jsx(T.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5},className:"text-gray-400 text-5xl mb-4",children:i.jsx("i",{className:`fa-solid ${s}`})}),i.jsx("h3",{className:"text-xl font-semibold text-gray-300 mb-2",children:e?"...":n}),i.jsx("p",{className:"text-gray-400 max-w-md mb-6",children:e?"...":t}),o&&c&&i.jsx(T.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:c,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg transition-colors duration-300",children:o})]});function Hk(){return i.jsxs(Vk,{children:[i.jsxs(ev,{children:[i.jsx(Tn,{path:"/",element:i.jsx(kp,{})}),i.jsx(Tn,{path:"/guidebook",element:i.jsx(E5,{})}),i.jsx(Tn,{path:"/story",element:i.jsx(M5,{})}),i.jsx(Tn,{path:"/side-stories",element:i.jsx(A5,{})}),i.jsx(Tn,{path:"/story-branch",element:i.jsx(I5,{})}),i.jsx(Tn,{path:"/story-branch/major-events",element:i.jsx(R5,{})}),i.jsx(Tn,{path:"/story-branch/introduction",element:i.jsx(D5,{})}),i.jsx(Tn,{path:"/runtime",element:i.jsx(kp,{})}),i.jsx(Tn,{path:"/character-relationships",element:i.jsx(Dk,{})}),i.jsx(Tn,{path:"/mail",element:i.jsx(j.Suspense,{fallback:i.jsx(Wk,{loading:!0}),children:i.jsx($k,{})})})]}),i.jsx(qk,{})]})}cb.createRoot(document.getElementById("root")).render(i.jsx(ai.StrictMode,{children:i.jsx(Sv,{children:i.jsx(Hk,{})})}));
